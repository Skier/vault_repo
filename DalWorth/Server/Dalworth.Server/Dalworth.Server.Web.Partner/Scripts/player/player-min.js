/* Yahoo! Media Player - 0.5.5. Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Your use of this Yahoo! Media Player is subject to the Yahoo! Terms of Service
 * located at http://info.yahoo.com/legal/us/yahoo/mediaplayer/details.html
 */
YAHOO.mediaplayer.goosecss = "#ymp-player div,#ymp-tray div{display:block}#ymp-player div,#ymp-player ul,#ymp-player li,#ymp-player textarea,#ymp-player p,#ymp-player td,#ymp-tray div,#ymp-tray ul,#ymp-tray li,#ymp-tray textarea,#ymp-tray p,#ymp-tray object{margin:0;padding:0}#ymp-player img,#ymp-tray img{border:0;padding:0}#ymp-player em,#ymp-player strong,#ymp-tray em,#ymp-tray strong{font-style:normal;font-weight:normal}#ymp-player li,#ymp-tray li{list-style:none}#ymp-player sup,#ymp-tray sup{vertical-align:text-top}#ymp-player sub,#ymp-tray sub{vertical-align:text-bottom}#ymp-player input,#ymp-player textarea,#ymp-player select,#ymp-tray input,#ymp-tray textarea,#ymp-tray select{font-family:inherit;font-size:inherit;font-weight:inherit;*font-size:100%}#ymp-player table{border-collapse:collapse;border-spacing:0;margin:0}#ymp-player td{border:0 none}#ymp-player{position:fixed;overflow:hidden;bottom:10px;left:0;width:33px;margin:0;padding:0;z-index:9999;color:#595959;text-align:left}#ymp-body{position:relative;overflow:hidden;margin:0;padding:0;height:71px;background-position:100% -342px;font-family:Arial,Helvetica;font-size:12px}#ymp-body h1,#ymp-tray h1,#ymp-body h2,#ymp-tray h2,#ymp-body h3,#ymp-tray h3,#ymp-body h4,#ymp-tray h4,#ymp-body h5,#ymp-tray h5,#ymp-body h6 #ymp-tray h6{position:absolute;left:-10000px;height:0;width:0}#ymp-body a,#ymp-tray a{margin:0;padding:0;outline:none;text-decoration:none;font-family:Arial,Helvetica;border:none}#ymp-body a span,#ymp-tray a span{margin:0;padding:0;border:none}#ymp-body a:hover{text-decoration:underline}.ymp-player-min #ymp-body{width:33px;background-position:-655px -342px}.ymp-player-max #ymp-body{width:690px}#ymp-body #ymp-body-base{position:relative;width:680px;height:62px;opacity:.9;-moz-opacity:.9;z-index:1}#ymp-body #ymp-body-strip{width:677px;height:100%;filter:alpha(opacity=90)}#ymp-body #ymp-body-cap{position:absolute;top:0;right:0;width:4px;height:100%;filter:alpha(opacity=90)}.ymp-player-min #ymp-body #ymp-body-base{width:24px}.ymp-player-min #ymp-body #ymp-body-strip{width:21px}#ymp-body #ymp-meta{position:absolute;top:4px;left:180px;width:344px;height:54px;background-position:-180px 0;z-index:2}#ymp-body #ymp-meta-bottom-right{position:absolute;bottom:5px;right:5px}#ymp-body #ymp-meta-top,#ymp-body #ymp-meta-bottom{display:table;position:absolute;top:5px;left:5px;width:333px;color:#0075b9}#ymp-body #ymp-meta-top a,#ymp-body #ymp-meta-bottom a{color:#0075b9}#ymp-body #ymp-meta-bottom{top:auto;bottom:4px}#ymp-body #ymp-meta-bottom td{height:16px;vertical-align:bottom;font-size:11px}#ymp-body #ymp-meta-top td{height:32px;vertical-align:top}#ymp-body #ymp-meta-progress{position:relative;top:2px;white-space:nowrap;font-size:11px;line-height:16px;color:#474747}#ymp-body #ymp-stickwall{display:none;position:absolute;top:0;left:0;width:344px;height:54px;z-index:3;background-position:-179px -199px}#ymp-body .ymp-stickwall-gradient{position:absolute;top:0;left:0;width:100%;height:100%;background-position:-180px 0}#ymp-body #ymp-yahoo-logo{position:absolute;top:22px;left:11px;width:28px;height:17px;background-position:-120px -62px;z-index:2}#ymp-body .ymp-pix-dark,#ymp-tray .ymp-pix-dark,#ymp-body .ymp-pix-light,#ymp-tray .ymp-pix-light{position:absolute;display:block;overflow:hidden;width:1px;height:1px}#ymp-body .ymp-pix-light,#ymp-tray .ymp-pix-light{opacity:.19;-moz-opacity:.19;filter:alpha(opacity=19)}#ymp-body .ymp-pix-dark,#ymp-tray .ymp-pix-dark{opacity:.69;-moz-opacity:.69;filter:alpha(opacity=69)}#ymp-body .ymp-pix-tr1,#ymp-tray .ymp-pix-tr1{top:0;right:2px}#ymp-body .ymp-pix-tr2,#ymp-tray .ymp-pix-tr2{top:0;right:1px}#ymp-body .ymp-pix-tr3,#ymp-tray .ymp-pix-tr3{top:1px;right:0}#ymp-body .ymp-pix-tr4,#ymp-tray .ymp-pix-tr4{top:2px;right:0}#ymp-body .ymp-pix-tl1,#ymp-tray .ymp-pix-tl1{top:2px;left:0}#ymp-body .ymp-pix-tl2,#ymp-tray .ymp-pix-tl2{top:1px;left:0}#ymp-body .ymp-pix-tl3,#ymp-tray .ymp-pix-tl3{top:0;left:1px}#ymp-body .ymp-pix-tl4,#ymp-tray .ymp-pix-tl4{top:0;left:2px}#ymp-body .ymp-pix-br1,#ymp-tray .ymp-pix-br1{bottom:0;right:2px}#ymp-body .ymp-pix-br2,#ymp-tray .ymp-pix-br2{bottom:0;right:1px}#ymp-body .ymp-pix-br3,#ymp-tray .ymp-pix-br3{bottom:1px;right:0}#ymp-body .ymp-pix-br4,#ymp-tray .ymp-pix-br4{bottom:2px;right:0}#ymp-body .ymp-cap-body1,#ymp-body .ymp-cap-body2,#ymp-body .ymp-stickwall-body1,#ymp-body .ymp-stickwall-body2,#ymp-body .ymp-stickwall-body3,#ymp-body .ymp-stickwall-body4,#ymp-body .ymp-stickwall-body5{position:absolute;overflow:hidden}#ymp-body .ymp-cap-body1{top:1px;right:1px;width:2px;height:60px}#ymp-body .ymp-cap-body2{top:3px;right:0;width:1px;height:56px}#ymp-body .ymp-stickwall-body1{top:2px;left:0;width:1px;height:50px}#ymp-body .ymp-stickwall-body2{top:1px;left:1px;width:1px;height:52px}#ymp-body .ymp-stickwall-body3{top:1px;right:1px;width:1px;height:52px}#ymp-body .ymp-stickwall-body4{top:2px;right:0;width:1px;height:50px}#ymp-body .ymp-stickwall-body5{top:0;left:2px;width:340px;height:100%}#ymp-body #ymp-rhap-stickwall,#ymp-body #ymp-error-stickwall,#ymp-body #ymp-amg-stickwall{display:none}#ymp-body #ymp-amg-stickwall .ymp-amg-container{position:absolute;top:6px;left:11px;width:295px;margin:0;padding:0 0 0 34px;font-size:11px;color:black}#ymp-body #ymp-amg-stickwall .ymp-amg-msg1{top:6px;font-weight:bolder}#ymp-body #ymp-amg-stickwall .ymp-amg-msg2{top:21px}#ymp-body #ymp-amg-stickwall .ymp-amg-msg3{top:35px}#ymp-body #ymp-amg-stickwall a{color:blue}#ymp-body .ymp-rhap-stickwall h2,#ymp-body .ymp-error-stickwall h2,#ymp-body .ymp-amg-stickwall h2{position:absolute;top:12px;left:11px;width:295px;margin:0;padding:0 0 0 34px;font-size:11px;line-height:14px;color:#444}#ymp-body .ymp-rhap-stickwall h2{left:20px;top:5px}#ymp-body .ymp-error-stickwall span.ymp-skin,#ymp-body .ymp-amg-stickwall span.ymp-skin{display:block;position:absolute;top:5px;left:0;width:24px;height:20px;background-position:-524px 0}#ymp-body .ymp-error-stickwall a{color:#444;text-decoration:underline}.ymp-color-main{background-color:#BFBFBF}.ymp-color-tray{background-color:#7C7C7C}.ymp-color-tray-left-pane{background-color:#565656}.ymp-color-text-main,.ymp-color-text-main:link{color:#595959}.ymp-color-text-tray,.ymp-color-text-tray:link{color:#FFF}.ymp-skin,.ymp-skin-hover{background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer.png);-background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer.gif);background-repeat:no-repeat}.show-scrollbars{overflow:hidden}#ymp-tray{display:block;visibility:hidden;position:fixed;overflow:hidden;bottom:81px;left:0;width:666px;height:20px;margin:0;padding:0;z-index:9996;font-family:Arial,Helvetica;font-size:11px;text-align:left}#ymp-tray-body{position:relative;width:100%;height:100%;background-position:0 -108px;opacity:.95;-moz-opacity:.95;filter:alpha(opacity=95);-webkit-opacity:1.0;z-index:9998}#ymp-tray-top{position:absolute;overflow:hidden;top:20px;left:0;width:100%;height:6px}.ymp-tray-body1{display:block;overflow:hidden;margin:0 0 0 3px;width:100%;height:1px}.ymp-tray-body2{display:block;overflow:hidden;margin:0 0 0 1px;width:100%;height:2px}.ymp-tray-body3{display:block;width:100%;height:100%}#ymp-tray div#ymp-tray-content{position:absolute;top:20px;width:100%;height:100%}#ymp-tray div#ymp-tray-left-pane{position:absolute;overflow:hidden;top:0;left:0;margin:4px;width:366px;height:206px}#ymp-tray div#ymp-left-pane-opacity-shim{position:absolute;top:24px;left:4px;background:#808080;height:206px;width:366px;z-index:9997;visibility:hidden}#ymp-tray div#ymp-tray-separator{position:absolute;height:214px;margin-top:4px;margin-bottom:4px;top:0;width:2px;background-position:-374px -132px;left:374px}#ymp-tray #ymp-album-cover-pane{position:absolute;visibility:hidden;overflow:hidden;cursor:pointer}#ymp-tray #ymp-video-player-pane{top:0;left:0;position:absolute;visibility:hidden;width:366px;height:206px}#ymp-tray #ymp-video-player-pane object{top:0;left:0;position:absolute;visibility:visible;outline:none}#ymp-tray #ymp-press-play-pane,#ymp-tray #ymp-learn-more-pane{position:absolute;top:0;left:0;border:1px solid #c1c1c1;height:196px;width:356px;margin-left:4px;margin-top:4px;text-align:center;visibility:hidden}#ymp-tray #ymp-press-play-pane #ymp-press-play-text,#ymp-tray #ymp-learn-more-pane #ymp-learn-more-link{font-size:16pt;color:#c1c1c1;width:100%;margin-top:20%;display:block}#ymp-tray #ymp-press-play-pane #ymp-press-play-text em,#ymp-tray #ymp-learn-more-pane #ymp-learn-more-link em{font-size:13pt;color:#a8a8a8}#ymp-tray #ymp-press-play-pane{visibility:visible}#ymp-tray ul#ymp-tray-list{position:absolute;top:0;left:376px;width:282px;height:210px;margin:4px 0 4px 4px;padding:0;padding-right:4px;overflow-x:hidden;overflow-y:hidden}#ymp-tray ul li{position:relative;overflow:hidden;color:#FFF}#ymp-tray ul li a{display:block;overflow:hidden;white-space:nowrap;width:100%;margin:0;padding:0 0 0 15px;text-decoration:none;line-height:20px;font-size:11px;text-overflow:ellipsis}#ymp-tray ul li a:hover,#ymp-tray ul li a.ymp-tray-track-focus{background-color:#636363;color:#FFF}#ymp-tray ul li a.playing{background-color:#b8b8b8;color:#161616}#ymp-tray .ymp-numbering{color:#c0c0c0}#ymp-tray .ymp-playlist-error{background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer.png);-background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer.png);background-position:-527px -55px;width:14px;height:14px;top:0;right:0}#ymp-tray ul li a.playing .ymp-numbering{color:#626262}#ymp-tray ul.ymp-nested-list{position:relative;width:100%;height:auto;overflow:hidden}#ymp-tray ul.ymp-nested-list a.ymp-tray-track{padding-left:44px}#ymp-tray #ymp-btn-tray{position:absolute;display:block;top:0;right:0;height:20px;padding:0 3px 0 3px;color:#FFF;text-decoration:none;font-family:Arial,Helvetica;font-size:10px;font-weight:bold;text-transform:uppercase;cursor:pointer}#ymp-tray #ymp-btn-tray em{display:block;position:relative;overflow:hidden;float:left;height:16px;line-height:9px;-line-height:8px;padding:4px 15px 0 5px;font-style:normal;font-weight:bold}#ymp-tray .ymp-up-arrow,#ymp-tray .ymp-down-arrow,#ymp-tray .ymp-right-arrow{display:block;position:absolute;overflow:hidden;top:5px;right:6px;width:7px;height:6px;background-position:-135px -80px;z-index:2}#ymp-tray .ymp-up-arrow{background-position:-135px -86px}#ymp-tray .ymp-right-arrow{width:6px;height:7px;background-position:-135px -92px}#ymp-tray ul#ymp-tray-list .ymp-down-arrow,#ymp-tray ul#ymp-tray-list .ymp-right-arrow{top:7px;left:5px;right:auto}.ymp-btn-tray-body1{display:block;position:absolute;top:3px;left:0;width:1px;height:100%}.ymp-btn-tray-body2{display:block;position:absolute;top:1px;left:1px;width:2px;height:100%}.ymp-btn-tray-body3{display:block;position:absolute;top:3px;right:0;width:1px;height:100%}.ymp-btn-tray-body4{display:block;position:absolute;top:1px;right:1px;width:2px;height:100%}.ymp-pix-bl{bottom:0;left:-1px}#ymp-body #ymp-control{position:absolute;top:13px;left:49px;width:104px;height:44px;z-index:2;background-position:-588px -44px}#ymp-body a.ymp-btn-play,#ymp-body a.ymp-btn-pause{display:block;position:absolute;top:2px;left:32px;width:35px;height:33px;cursor:pointer;background-position:-50px 0;z-index:2;text-indent:-9000px}#ymp-body a:hover.ymp-btn-play{background-position:-50px -34px}#ymp-body a.ymp-btn-play.ymp-button-active{background-position:-50px -68px}#ymp-body a.ymp-btn-play-disabled,#ymp-body a:hover.ymp-btn-play-disabled,#ymp-body a:active.ymp-btn-play-disabled{cursor:default;background-position:-50px -99px}#ymp-body a.ymp-btn-pause{background-position:-84px 0}#ymp-body a:hover.ymp-btn-pause{background-position:-84px -34px}#ymp-body a.ymp-btn-pause.ymp-button-active{background-position:-84px -68px}#ymp-body a.ymp-btn-pause-disabled,#ymp-body a:hover.ymp-btn-pause-disabled,#ymp-body a:active.ymp-btn-pause-disabled{cursor:default;background-position:-81px -99px}#ymp-body a.ymp-btn-next,#ymp-body a.ymp-btn-prev{display:block;position:absolute;top:7px;left:72px;width:25px;height:25px;cursor:pointer;background-position:-25px 0;z-index:2;text-indent:-1000px}#ymp-body a:hover.ymp-btn-next{background-position:-25px -25px}#ymp-body a.ymp-btn-next.ymp-button-active{background-position:-25px -50px}#ymp-body a.ymp-btn-next-disabled,#ymp-body a:hover.ymp-btn-next-disabled,#ymp-body a:active.ymp-btn-next-disabled{cursor:default;background-position:-25px -75px}#ymp-body a.ymp-btn-prev{left:3px;background-position:0 0}#ymp-body a:hover.ymp-btn-prev{background-position:0 -25px}#ymp-body a.ymp-btn-prev.ymp-button-active{background-position:0 -50px}#ymp-body a.ymp-btn-prev-disabled,#ymp-body a:hover.ymp-btn-prev-disabled,#ymp-body a:active.ymp-btn-prev-disabled{cursor:default;background-position:0 -75px}#ymp-body #ymp-btn-min{display:block;overflow:hidden;position:absolute;top:0;right:10px;width:15px;height:62px;cursor:pointer;text-indent:-1000px;z-index:2;background-position:-159px -35px}#ymp-body #ymp-btn-max{display:block;overflow:hidden;position:absolute;top:0;left:0;width:24px;height:62px;cursor:pointer;text-indent:-1000px;z-index:2}#ymp-body #ymp-btn-max span{display:block;overflow:hidden;position:absolute;top:23px;left:9px;width:8px;height:17px;background-position:-119px -80px}#ymp-body #ymp-btn-max span.ymp-animarrow{background:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer-animarrow.gif) no-repeat 0 0}.ymp-player-max #ymp-body #ymp-btn-max,.ymp-player-min #ymp-body #ymp-btn-min,.ymp-player-min #ymp-body #ymp-btn-close,.ymp-player-min #ymp-body #ymp-btn-pop{display:none}.ymp-player-hidden{visibility:hidden;top:-9999em}#ymp-body a#ymp-btn-close,#ymp-body a#ymp-btn-pop{display:block;overflow:hidden;position:absolute;top:2px;right:27px;width:14px;height:14px;cursor:pointer;text-indent:-1000px;z-index:2;background-position:-609px 0}#ymp-body a:hover#ymp-btn-close{background-position:-609px -14px}#ymp-body a:active#ymp-btn-close{background-position:-609px -28px}#ymp-body a#ymp-btn-pop{top:20px;background-position:-595px 0}#ymp-body a:hover#ymp-btn-pop{background-position:-595px -14px}#ymp-body a:active#ymp-btn-pop{background-position:-595px -28px}#ymp-body a#ymp-btn-target{display:block;float:right;width:14px;height:14px;cursor:pointer;z-index:2;text-indent:-9000px;background-position:-623px 0}#ymp-body a:hover#ymp-btn-target{background-position:-623px -14px}#ymp-body a:active#ymp-btn-target{background-position:-623px -28px}#ymp-body .ymp-error-icon,#ymp-tray .ymp-error-icon,#ymp-body .ymp-warning-icon{display:block;width:17px;height:16px;overflow:hidden;cursor:pointer;z-index:2;text-indent:-9000px;background-position:-526px -73px}#ymp-body .ymp-error-icon,#ymp-tray #ymp-meta-top .ymp-error-icon{width:21px;background-position:-524px -22px}#ymp-body #ymp-meta-top .ymp-warning-icon{width:19px;background-position:-523px -55px}#ymp-tray .ymp-error-icon{position:absolute;top:2px;right:3px}span.ymp-btn-page-play,span.ymp-btn-page-pause{position:relative!important;padding-left:20px!important;outline:none!important}span.ymp-btn-page-play em.ymp-skin,span.ymp-btn-page-pause em.ymp-skin,span.ymp-btn-page-play em.ymp-skin-hover,span.ymp-btn-page-pause em.ymp-skin-hover{display:block;position:absolute;overflow:hidden;top:15%;*top:.22em;left:0;width:14px;height:14px;background-position:-676px 0;cursor:pointer}span:hover.ymp-btn-page-play em.ymp-skin,span:hover.ymp-btn-page-play em:hover.ymp-skin-hover{background-position:-676px -14px}span:active.ymp-btn-page-play em.ymp-skin,span:active.ymp-btn-page-play em.ymp-skin-hover{background-position:-676px -28px}span.ymp-btn-page-pause em.ymp-skin,span.ymp-btn-page-pause em.ymp-skin-hover{background-position:-662px 0}span:hover.ymp-btn-page-pause em.ymp-skin,span:hover.ymp-btn-page-pause em:hover.ymp-skin-hover{background-position:-662px -14px}span:active.ymp-btn-page-pause em.ymp-skin,span:active.ymp-btn-page-pause em.ymp-skin-hover{background-position:-662px -28px}span.ymp-btn-page-target em.ymp-skin,span:hover.ymp-btn-page-target em.ymp-skin,span:active.ymp-btn-page-target em.ymp-skin,span.ymp-btn-page-target em.ymp-skin-hover,span:hover.ymp-btn-page-target em.ymp-skin-hover,span:active.ymp-btn-page-target em.ymp-skin-hover{background:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer-findlink.gif) no-repeat 0 0}#ymp-body a.ymp-btn{display:block;position:relative;height:16px;margin:0 0 0 7px;padding:0 7px 0 0;z-index:2;font-size:11px;line-height:16px;cursor:pointer;background-position:100% -48px}#ymp-body a.ymp-btn em{display:block;overflow:hidden;position:absolute;top:0;left:-7px;width:7px;height:100%;background-position:-525px -48px}#ymp-body a:hover.ymp-btn{text-decoration:none;background-position:100% -64px}#ymp-body a:hover.ymp-btn em{background-position:-525px -64px}#ymp-body a:active.ymp-btn{background-position:100% -80px}#ymp-body a:active.ymp-btn em{background-position:-525px -80px}#ymp-body #ymp-btn-buy{margin-right:2px}#ymp-body a#ymp-btn-buy{display:block;position:relative;top:1px;left:0;width:27px;height:14px;background-position:-565px 0;cursor:pointer}#ymp-body a:hover#ymp-btn-buy{background-position:-565px -14px}#ymp-body a:active#ymp-btn-buy{background-position:-565px -28px}#ymp-body a.ymp-btn-alt.ymp-btn-subscribe{font-weight:bold}#ymp-body a.ymp-btn-alt{top:5px;height:16px;z-index:2;font-size:11px;font-weight:normal;color:#0075B9;line-height:16px;cursor:pointer;background-position:100% -64px}#ymp-body a.ymp-btn-alt em{display:block;overflow:hidden;position:absolute;top:0;left:-7px;width:7px;height:100%;background-position:-525px -64px}#ymp-body a:hover.ymp-btn-alt{text-decoration:none}#ymp-body .ymp-meta-box{position:relative;*position:static;line-height:13px}#ymp-body #ymp-meta-type-icon{background-position:-526px -41px;height:10px;width:15px;position:absolute;top:2px;left:0;display:none;overflow:hidden}#ymp-body #ymp-meta.ymp-media-type-video #ymp-meta-type-icon{display:block}#ymp-body #ymp-meta.ymp-media-type-video #ymp-meta-track-title{left:20px;display:inline}#ymp-body #ymp-meta-track-title,#ymp-body #ymp-meta-album-title,#ymp-body #ymp-meta-artist-title{display:block;overflow:hidden;position:absolute;top:0;left:0;width:271px;font-size:12px;font-weight:bold;white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis}#ymp-body #ymp-meta-album-title{top:-20px;font-size:11px;font-weight:normal;*top:-5px}#ymp-body #ymp-meta-artist-title{top:13px;font-size:11px;font-weight:normal}#ymp-body window{width:100%;-moz-user-focus:normal;-moz-user-select:text}#ymp-body description{-moz-user-focus:normal;-moz-user-select:text}#ymp-body #ymp-meta-image{position:absolute;display:block;overflow:hidden;top:3px;left:2px;width:46px;height:46px;border:1px solid #ADACAC;background:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer-default-album.gif) no-repeat 0 0;cursor:pointer}#ymp-body #ymp-right-box{position:absolute;left:527px;top:0;width:138px;height:62px;overflow:hidden;z-index:2}#ymp-body #ymp-relevance-user-defined-image{height:60px;width:120px}#ymp-body #ymp-getplayer{display:block;position:absolute;top:8px;left:3px;width:121px;color:#0075B9;font-size:13px;line-height:14px;font-weight:bold;z-index:2}#ymp-body #ymp-readblogs,#ymp-body #ymp-findconcerts,#ymp-body #ymp-watchmorevideos,#ymp-body #ymp-discoverartists,#ymp-body #ymp-topcharts,#ymp-body #ymp-getlyrics,#ymp-body #ymp-watchvideo{display:none;position:absolute;top:8px;left:17px;color:#0075B9;font-size:13px;font-weight:bold;z-index:2;width:105px;margin-right:19px}#ymp-body #ymp-getlyrics em,#ymp-body #ymp-watchvideo em{font-size:11px;font-style:normal;font-weight:normal;color:#686868}#ymp-body #ymp-getlyrics span,#ymp-body #ymp-watchvideo span{display:block;position:absolute;overflow:hidden;top:17px;left:63px;width:14px;height:13px;background-position:-648px 0;cursor:pointer}#ymp-body a#ymp-getlyrics:hover em,#ymp-body a#ymp-watchvideo:hover em{color:#3D9AD0}#ymp-body a#ymp-getlyrics:hover span,#ymp-body a#ymp-watchvideo:hover span{background-position:-648px -13px}#ymp-body div#ymp-about-feedback{position:absolute;top:47px;left:9px;background-position:-182px -74px;overflow:hidden;width:129px;line-height:13px}#ymp-body div#ymp-about-feedback span{padding-left:27px;color:#A7A7A7}#ymp-body div#ymp-about-feedback span a{font-size:10px;color:#737373}#ymp-body div#ymp-about-feedback span a:hover{color:#4473BE}#ymp-body #ymp-volume{position:absolute;top:12px;left:158px;width:12px;height:39px;z-index:2;background-position:-125px -21px}#ymp-body #ymp-volume-cover{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:23px}#ymp-body #ymp-volume-cover span{display:block;position:absolute;bottom:0;left:0;width:100%;height:39px;background-position:-140px -21px}#ymp-body a#ymp-volume-thumb{display:block;position:absolute;overflow:hidden;top:16px;left:0;width:13px;height:7px;text-indent:-1000px;background-position:-119px 0}#ymp-body a:hover#ymp-volume-thumb{background-position:-119px -7px}#ymp-error-bubble{display:none;position:absolute;top:0;left:0;z-index:10000;width:200px}#ymp-error-msg{background-color:#FFF;border:1px solid #999;padding:10px;font-size:11px}#ymp-error-msg a{color:#00F;text-decoration:underline}.ymp-error-tail{display:block;margin-top:-1px;width:21px;height:9px;background-position:-158px -17px}#ymp-body .ymp-rhap-powered{display:block;position:relative;overflow:hidden;width:129px;height:18px;left:4px;top:6px;*top:2px;margin:0 0 0 4px;text-indent:-9000px;background:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer-rhapsody.gif) no-repeat 0 0}#ymp-body .ymp-rhap-stickwall #ymp-rhap-logo{background-position:0 -24px;width:38px;height:32px}#ymp-body .ymp-rhap-stickwall .ymp-rhap-powered{position:absolute;top:5px;right:5px;margin:0 8px 0 4px}#ymp-body #ymp-rhap-brand{display:none}#ymp-body #ymp-rhap-stickwall-action{position:absolute;bottom:1px;left:54px}#ymp-body #ymp-rhap-stickwall-action *{vertical-align:middle}#ymp-body #ymp-rhap-stickwall-action span{margin:0 6px;color:#8e8e8e}#ymp-body #ymp-rhap-getunlimited{display:none;position:absolute;top:11px;right:0;max-height:14px;overflow:hidden;font-size:10px;font-weight:normal;color:#0075b9}#ymp-body #ymp-rhap-playinfo{display:none;position:absolute;top:9px;*top:4px;left:5px;font-weight:bold;color:#313131;line-height:11px;*line-height:24px;z-index:2}#ymp-body #ymp-rhap-playinfo a{display:block;margin:0;padding:4px 0 0 0;*padding:1px 0 0 0;font-size:11px;font-weight:normal;*line-height:13px;color:#0075b9}#ymp-body #ymp-rhap-playinfo a em{font-style:normal;font-size:14px}#ymp-body #ymp-rhap-playinfo a:hover{text-decoration:underline}#ymp-body #ymp-rhap-playcount{margin:0 5px 0 0;font-size:24px;font-weight:bold;color:#FFF}#ymp-body #ymp-rhap-message{width:100%}#ymwp-contplay-form{height:0;width:0;margin:0;padding:0}#ymp-body #ymp-seek{position:absolute;width:266px;height:15px;top:-9px;z-index:2;*top:5px}#ymp-body #ymp-seek-loading{position:absolute;width:165px;height:4px;overflow:hidden;top:-5px;z-index:2;*top:11px;background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer-loading.gif);overflow:hidden}#ymp-body #ymp-seek-cover{display:block;position:absolute;overflow:hidden;top:5px;left:0;width:100%;height:3px;background-color:#bcbcbc;border-top:1px outset black}#ymp-body #ymp-seek-cover-elapsed{display:block;position:absolute;visibility:hidden;overflow:hidden;top:0;left:0;width:100%;height:4px;background-color:#383838}#ymp-body #ymp-seek-thumb{position:absolute;overflow:hidden;top:3px;left:0;width:9px;height:9px;cursor:pointer}#ymp-body #ymp-seek-thumb.active{display:block;background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer.png);-background-image:url(https://127.0.0.1:1080/Partner/Content/player/mediaplayer.gif);background-position:-451px -55px}#ymp-body #ymp-seek-thumb.inactive{display:none;background-image:none}#ymp-body #ymp-seek-cover-elapsed:hover{background-color:#0075b9}";
(function () {
    if (typeof YWA === "undefined") {
        YWA = {};
        YWA.initialize = function () {
            var b;
            YWA.ud = "undefined";
            YWA.EXCLPRM = "";
            YWA.ONLOAD = true;
            YWA.PID = YWA.ud;
            YWA.flashVer = "";
            YWA.isOnloadOverwrite = false;
            YWA.windowOnload = null;
            YWA.errorId = "";
            YWA.isNewYWATEnabled = false;
            YWA.windowOnerror = null;
            if (typeof window.ITTs === "undefined") {
                window.ITTs = [];
            }
            b = navigator.appName;
            YWA.net = (b === "Netscape");
            YWA.mic = (b.substring(0, 9) === "Microsoft" && (typeof navigator.plugins === YWA.ud || navigator.plugins.length === 0));
            YWA.mac = (navigator.userAgent.indexOf("Mac") >= 0);
            YWA.gec = (navigator.userAgent.indexOf("Firefox") >= 0 || navigator.userAgent.indexOf("Netscape") >= 0);
            YWA.addOLH();
        };
        YWA.ywaOLH = function (b) {
            if (YWA.windowOnload) {
                YWA.windowOnload.call(window, b);
            }
            if (YWA.ONLOAD) {
                YWA.addOCHs();
            }
        };
        YWA.addOLH = function () {
            if (YWA.isOnloadOverwrite) {
                return;
            }
            var b = [];
            if (window.screen || b.toSource || (b.shift && YWA.mic)) {
                if (window.onload) {
                    if (!YWA.windowOnload) {
                        YWA.windowOnload = window.onload;
                    }
                }
                window.onload = YWA.ywaOLH;
            }
            YWA.isOnloadOverwrite = true;
        };
        YWA.initialize();
    }
    YWA.ywaOCH = function (c) {
        var b, e, d;
        e = true;
        for (b = 0, d = window.ITTs.length; b < d; b += 1) {
            window.ITTs[b].oco(this);
        }
        if (this.ywaOnClick) {
            e = this.ywaOnClick(c);
        }
        return e;
    };
    YWA.addOCHs = function () {
        if (YWA.isOnloadOverwrite) {
            var b, c;
            for (b = 0, c = document.links.length; b < c; b += 1) {
                if (document.links[b].onclick) {
                    document.links[b].ywaOnClick = document.links[b].onclick;
                }
                document.links[b].onclick = YWA.ywaOCH;
            }
        }
    };
    YWA.ywaOEH = function () {
        if (YWA.errorId !== "") {
            window.ITTs[YWA.errorId].track(false, true);
        }
    };
    YWA.getTrackerIdx = function (c) {
        var b, d;
        for (b = 0, d = window.ITTs.length; b < d; b += 1) {
            if (window.ITTs[b].PID === c) {
                return b;
            }
        }
        return -1;
    };
    YWA.getTracker = function (c) {
        var d, b;
        YWA.isNewYWATEnabled = true;
        if (!YWA.is(c)) {
            c = YWA.PID;
        }
        b = YWA.getTrackerIdx(c);
        if (b >= 0) {
            d = window.ITTs[b];
        } else {
            d = new a(c);
        }
        YWA.isNewYWATEnabled = false;
        return d;
    };
    YWA.is = function (b) {
        return (typeof b !== YWA.ud);
    };
    YWA.getExcludePrm = function () {
        return YWA.EXCLPRM;
    };
    YWA.setExcludePrm = function (b) {
        YWA.EXCLPRM = YWA.is(b) ? b : "";
    };
    YWA.getOnload = function () {
        return YWA.ONLOAD;
    };
    YWA.setOnload = function (b) {
        YWA.ONLOAD = YWA.is(b) ? b : true;
    };
    YWA.getPID = function () {
        if (YWA.is(document.scripts)) {
            var c, f, e, d, b;
            e = "ywa.js";
            d = "ywa-";
            for (b = document.scripts.length, c = b - 1; c >= 0; c -= 1) {
                f = document.scripts[c].src;
                if (YWA.is(f) && f.indexOf(e) === f.length - e.length) {
                    f = f.substr(0, f.length - e.length - 1);
                    f = f.substr(f.lastIndexOf("/") + 1 + d.length);
                    return "1000" + f;
                }
            }
        }
        return YWA.ud;
    };
    YWA.getPID();
    YWA.getExcludeDomains = function () {
        return "";
    };
    YWA.getExcludeProtocol = function () {
        return "";
    };
    YWA.getDownloadExts = function () {
        return "\\.pdf$|\\.doc$|\\.dot$|\\.xls$|\\.xlt$|\\.xlw$|\\.ppt$|\\.pps$|\\.zip$|\\.rar$|\\.gz$|\\.gzip$|\\.wav$|\\.mp[3-4]?$|\\.mpeg$";
    };
    YWA.getErrorObj = function (c) {
        var b;
        b = new Error(c);
        if (!b.msg) {
            b.msg = c;
        }
        return b;
    };
    YWA.gcpn = function (b) {
        var d, c, g, f, e;
        g = location.search;
        f = g.indexOf("?" + b + "=");
        e = g.indexOf("&" + b + "=");
        if ((f === 0) || (e > -1)) {
            d = (f === 0) ? 0 : e;
            c = g.indexOf("&", d + 1);
            return g.substring(d + 2 + b.length, (c > -1) ? c : g.length);
        }
        return "";
    };
    YWA.getFileName = function (b) {
        var c;
        c = b.indexOf("?");
        if (c > 0) {
            b = b.substring(0, c);
        }
        return b.substring(b.lastIndexOf("/") + 1, b.length);
    };
    YWA.gh = function (b) {
        var c;
        c = b.host.indexOf(":");
        return (c >= 0) ? b.host.substring(0, c) : b.host;
    };
    YWA.ghs = function (b) {
        var c;
        c = b.indexOf("//");
        if (c >= 0) {
            b = b.substring(c + 2, b.length);
            c = b.indexOf("/");
            if (c >= 0) {
                return b.substring(0, c);
            }
            return b.substring(c + 2, b.length);
        }
        return "";
    };
    YWA.gpr = function (b) {
        var d, c;
        d = b.protocol;
        c = d.indexOf(":");
        return (c >= 0) ? d : d + ":";
    };
    YWA.gp = function (b) {
        var d, c;
        d = b.pathname;
        c = d.indexOf("/");
        return (c === 0) ? d : "/" + d;
    };
    YWA.mxDmnRGXP = function (b) {
        if (b.toUpperCase().indexOf("REGEXP:") === 0) {
            return new RegExp(b.substring(7), "i");
        } else {
            return new RegExp(YWA.mxRgXpStr(b), "i");
        }
    };
    YWA.mxRgXpStr = function (l) {
        while (l.indexOf(" ") >= 0) {
            l = l.replace(" ", "");
        }
        var g, f, c, m, h, d, k;
        h = "";
        d = l.split(",");
        for (g = 0, k = d.length; g < k; g += 1) {
            c = d[g].split(".");
            for (f = 0, m = c.length; f < m; f += 1) {
                if (c[f].indexOf("*") >= 0) {
                    c[f] = ".+";
                }
            }
            if (m > 0) {
                d[g] = c.join("\\.");
            }
        }
        if (k > 0) {
            h += d.join("$|^");
        }
        if (h.length > 0) {
            return "^" + h + "$";
        }
        return "";
    };

    function a(b) {
        if (!YWA.isNewYWATEnabled) {
            throw YWA.getErrorObj("Invalid method to get a tracking object.");
        }
        var c, d;
        this.version = "5.14";
        this.EXCLDOMAINS = "";
        this.DWNLEXTS = "";
        this.EXCLPRM = YWA.getExcludePrm();
        this.EXCLPRTCL = "";
        this.ONLOAD = YWA.getOnload();
        this.DOMAINS = "";
        this.DEBUG = false;
        this.RUN = false;
        if (!YWA.is(b)) {
            this.PID = YWA.getPID();
            this.RUN = this.PID === YWA.ud;
        } else {
            this.PID = b;
        }
        if (window.location.protocol.indexOf("https:") === 0) {
            this.BD = "https://o.analytics.yahoo.com";
        } else {
            this.BD = "http://o.analytics.yahoo.com";
        }
        this.BU = this.BD + "/p.pl?a=" + this.PID + "&v=" + this.version;
        this.FU = "";
        this.URL = this.getClnUrl(document.URL ? document.URL : document.location);
        this.REFERRER = "";
        this.TOPLOCATION = "";
        this.cfn = [];
        this.cfv = [];
        this.IT = "";
        this.date = new Date();
        this.PIXELDELAY = false;
        this.DOCUMENTNAME = document.title;
        this.CAMPAIGN = "";
        this.CMPPARM = "";
        this.PROMO = "";
        this.PROMOPARM = "";
        this.TPSC = true;
        this.EXCL = "";
        this.FPCR = "";
        this.FPCN = "fpc" + this.PID;
        this.FPCV = "";
        this.FPCD = "";
        this.ENC = "";
        this.itvs = "";
        this.itsid = "";
        this.itvid = "";
        this.place = document.body;
        try {
            d = document.getElementsByTagName("head");
            if (YWA.is(d) && d.length > 0) {
                this.place = d[0];
            }
        } catch (f) {}
        this.FLV = this.flash();
        if (!YWA.is(window.ITTs)) {
            window.ITTs = [];
        }
        this.idx = window.ITTs.length;
        window.ITTs[this.idx] = this;
        this.ita = ["DOCUMENTNAME", "b", "DOCUMENTGROUP", "c", "MEMBERID", "m", "URL", "f", "ACTION", "x", "AMOUNT", "xa", "ORDERID", "oc", "TAX", "xt", "SHIPPING", "xs", "DISCOUNT", "xd", "SKU", "p", "PRODUCTS", "u", "UNITS", "q", "AMOUNTS", "r", "CMPQUERY", "cq", "ISK", "isk", "ISR", "isr"];
        this.prmord = ["a", "v", "b", "c", "m", "f", "e", "t", "n", "d", "cp", "cq", "scp", "ci", "enc", "x", "sid", "ca", "oc", "p", "q", "r", "xa", "xd", "xs", "xt", "el", "fn", "flv", "fpc", "isk", "isr", "g", "h", "ittidx", "ix", "j", "k", "l", "tp", "nr", "js", "cf01", "cf02", "cf03", "cf04", "cf05", "cf06", "cf07", "cf08", "cf09", "cf10", "cf11", "cf12", "cf13", "cf14", "cf15", "cf16", "cf17", "cf18", "cf19", "cf20", "cf21", "cf22", "cf23", "cf24", "cf25", "cf26", "cf27", "cf28", "cf29", "cf30", "cf31", "cf32", "cf33", "cf34", "cf35", "cf36", "cf37", "cf38", "cf39", "cf40", "cf41", "cf42", "cf43", "cf44", "cf45", "cf46", "cf47", "cf48", "cf49", "cf50", "cf51", "cf52", "cf53", "cf54", "cf55", "cf56", "cf57", "cf58", "cf59", "cf60", "cf61", "cf62", "cf63", "cf64", "cf65", "cf66", "cf67", "cf68", "cf69", "cf70", "cf71", "cf72", "cf73", "cf74", "cf75", "cf76", "cf77", "cf78", "cf79", "cf80", "cf81", "cf82", "cf83", "cf84", "cf85", "cf86", "cf87", "cf88", "cf89", "cf90", "cf91", "cf92", "cf93", "cf94", "cf95", "cf96", "cf97", "cf98", "cf99", "cf100"];
        for (c = 0; c < 10; c += 1) {
            this.ita[this.ita.length] = "P" + (1 + c);
            this.ita[this.ita.length] = "p" + (1 + c);
        }
        for (c = 0; c < 99; c += 1) {
            this.ita[this.ita.length] = "CF" + ((c < 9) ? "0" : "") + (1 + c);
            this.ita[this.ita.length] = "cf" + (1 + c);
        }
        this.imgsl = 0;
        if (YWA.is(document.charset)) {
            this.ENC = document.charset;
        } else {
            if (YWA.is(document.characterSet)) {
                this.ENC = document.characterSet;
            } else {
                this.ENC = "";
            }
        }
        this.FPCR = "&ittidx=" + this.idx + "&fpc=" + encodeURIComponent(this.getCookie(this.FPCN));
        this.hasFPC = false;
    }
    a.prototype.getDocumentName = function () {
        return this.DOCUMENTNAME;
    };
    a.prototype.setDocumentName = function (b) {
        this.DOCUMENTNAME = b;
    };
    a.prototype.getDocumentGroup = function () {
        return this.DOCUMENTGROUP;
    };
    a.prototype.setDocumentGroup = function (b) {
        this.DOCUMENTGROUP = b;
    };
    a.prototype.getMemberId = function () {
        return this.MEMBERID;
    };
    a.prototype.setMemberId = function (b) {
        this.MEMBERID = b;
    };
    a.prototype.getAction = function () {
        return this.ACTION;
    };
    a.prototype.setAction = function (b) {
        this.ACTION = b;
    };
    a.prototype.getAmount = function () {
        return this.AMOUNT;
    };
    a.prototype.setAmount = function (b) {
        this.AMOUNT = b;
    };
    a.prototype.getOrderId = function () {
        return this.ORDERID;
    };
    a.prototype.setOrderId = function (b) {
        this.ORDERID = b;
    };
    a.prototype.getTax = function () {
        return this.TAX;
    };
    a.prototype.setTax = function (b) {
        this.TAX = b;
    };
    a.prototype.getShipping = function () {
        return this.SHIPPING;
    };
    a.prototype.setShipping = function (b) {
        this.SHIPPING = b;
    };
    a.prototype.getDiscount = function () {
        return this.DISCOUNT;
    };
    a.prototype.setDiscount = function (b) {
        this.DISCOUNT = b;
    };
    a.prototype.getSKU = function () {
        return this.SKU;
    };
    a.prototype.setSKU = function (b) {
        this.SKU = b;
    };
    a.prototype.getUnits = function () {
        return this.UNITS;
    };
    a.prototype.setUnits = function (b) {
        this.UNITS = b;
    };
    a.prototype.getAmounts = function () {
        return this.AMOUNTS;
    };
    a.prototype.setAmounts = function (b) {
        this.AMOUNTS = b;
    };
    a.prototype.getCmpQuery = function () {
        return this.CMPQUERY;
    };
    a.prototype.setCmpQuery = function (b) {
        this.CMPQUERY = b;
    };
    a.prototype.getISK = function () {
        return this.ISK;
    };
    a.prototype.setISK = function (b) {
        this.ISK = b;
    };
    a.prototype.getISR = function () {
        return this.ISR;
    };
    a.prototype.setISR = function (b) {
        this.ISR = b;
    };
    a.prototype.getEF = function (b) {
        b = parseInt(b, 10);
        return this["P" + b];
    };
    a.prototype.setEF = function (c, b) {
        c = parseInt(c, 10);
        this["P" + c] = b;
    };
    a.prototype.getCF = function (b) {
        b = parseInt(b, 10);
        return this["CF" + ((b < 10) ? "0" : "") + b];
    };
    a.prototype.setCF = function (c, b) {
        c = parseInt(c, 10);
        this["CF" + ((c < 10) ? "0" : "") + c] = b;
    };
    a.prototype.getDebug = function () {
        return this.DEBUG;
    };
    a.prototype.setDebug = function (b) {
        this.DEBUG = YWA.is(b) ? b : false;
    };
    a.prototype.getRun = function () {
        return this.RUN;
    };
    a.prototype.setRun = function (b) {
        if (!YWA.is(b) || b) {
            this.RUN = this.PID !== YWA.ud;
        } else {
            this.RUN = false;
        }
    };
    a.prototype.getUrl = function () {
        return this.URL;
    };
    a.prototype.setUrl = function (b) {
        this.URL = this.getClnUrl(b);
    };
    a.prototype.getEncoding = function () {
        return this.ENC;
    };
    a.prototype.setEncoding = function (b) {
        if (YWA.is(b)) {
            this.ENC = b;
        } else {
            this.ENC = "";
        }
    };
    a.prototype.getCookieDomain = function () {
        return this.FPCD;
    };
    a.prototype.setCookieDomain = function (b) {
        if (YWA.is(b) && b !== "") {
            this.FPCD = b;
        } else {
            this.FPCD = "";
        }
    };
    a.prototype.getTPSC = function () {
        return this.TPSC;
    };
    a.prototype.setTPSC = function (b) {
        this.TPSC = YWA.is(b) ? b : true;
    };
    a.prototype.getReferrer = function () {
        return this.REFERRER;
    };
    a.prototype.setReferrer = function (b) {
        if (YWA.is(b) && b.length > 0) {
            this.REFERRER = b;
        }
    };
    a.prototype.getPixelDelay = function () {
        return this.PIXELDELAY;
    };
    a.prototype.setPixelDelay = function (b) {
        this.PIXELDELAY = YWA.is(b) ? b : false;
    };
    a.prototype.getDomains = function () {
        return this.DOMAINS;
    };
    a.prototype.setDomains = function (b) {
        this.DOMAINS = (YWA.is(b) && b !== "") ? b : YWA.ud;
    };
    a.prototype.getFlashUrl = function () {
        return this.FU;
    };
    a.prototype.setFlashUrl = function (b) {
        this.FU = YWA.is(b) ? b : "";
    };
    a.prototype.getExcludeDomains = function () {
        var b;
        b = YWA.getExcludeDomains();
        b += (b.length > 0 && this.EXCLDOMAINS.length > 0 ? "," : "") + this.EXCLDOMAINS;
        return b;
    };
    a.prototype.addExcludeDomain = function (b) {
        this.EXCLDOMAINS += (this.EXCLDOMAINS.length > 0 ? "," : "") + b;
    };
    a.prototype.removeExcluseDomain = function (e) {
        var c, b, g, f;
        b = this.EXCLDOMAINS.split(",");
        g = [];
        for (c = 0, f = b.length; c < f; c += 1) {
            if (b[c] !== e) {
                g[g.length] = b[c];
            }
        }
        this.EXCLDOMAINS = g.join(",");
    };
    a.prototype.getDownloadExts = function () {
        var b;
        b = YWA.getDownloadExts();
        b += (b.length > 0 && this.DWNLEXTS.length > 0 ? "|" : "") + this.DWNLEXTS;
        return b;
    };
    a.prototype.addDownloadExt = function (g) {
        var d, k, h, f, b;
        h = g.toLowerCase();
        f = "";
        for (d = 0, b = h.length; d < b; d += 1) {
            k = h.charAt(d);
            if ((k >= "a" && k <= "z") || (k >= "0" && k <= "9") || k === "-" || k === "_") {
                f += k;
            }
        }
        this.DWNLEXTS += (this.DWNLEXTS.length > 0 ? "|" : "") + "\\." + f + "$";
    };
    a.prototype.removeDownloadExt = function (g) {
        var b, f, c, d;
        f = this.DWNLEXTS.split("|");
        c = [];
        for (b = 0, d = f.length; b < d; b += 1) {
            if (f[b] !== "\\." + g.toLowerCase() + "$") {
                c[c.length] = f[b];
            }
        }
        this.DWNLEXTS = c.join("|");
    };
    a.prototype.getExcludeProtocol = function () {
        var b;
        b = YWA.getExcludeProtocol();
        b += (b.length > 0 && this.EXCLPRTCL.length > 0 ? "," : "") + this.EXCLPRTCL;
        return b;
    };
    a.prototype.addExcludeProtocol = function (b) {
        this.EXCLPRTCL += (this.EXCLPRTCL.length > 0 ? "," : "") + b.toLowerCase();
    };
    a.prototype.removeExcludeProtocol = function (g) {
        var b, f, c, d;
        f = this.EXCLPRTCL.split(",");
        c = [];
        for (b = 0, d = f.length; b < d; b += 1) {
            if (f[b] !== g.toLowerCase()) {
                c[c.length] = f[b];
            }
        }
        this.EXCLPRTCL = c.join(",");
    };
    a.prototype.isProtocolExcluded = function () {
        var b;
        b = "," + this.getExcludeProtocol() + ",";
        return b.indexOf("," + window.location.protocol + ",") >= 0;
    };
    a.prototype.pp = function () {
        var c, d, b;
        b = [];
        for (c = 0, d = this.ita.length; c + 1 < d; c += 2) {
            if ((YWA.is(this[this.ita[c]])) && (this[this.ita[c]] !== "")) {
                b[c] = "&" + this.ita[c + 1] + "=" + encodeURIComponent(this[this.ita[c]]);
            }
        }
        this.IT += b.join("");
    };
    a.prototype.reset = function () {
        var b, c;
        for (b = 8, c = this.ita.length; b + 1 < c; b += 2) {
            if ((YWA.is(this[this.ita[b]])) && (this[this.ita[b]] !== "")) {
                this[this.ita[b]] = "";
            }
        }
    };
    a.prototype.flash = function () {
        if (YWA.flashVer === "") {
            var d, c, b, g;
            b = "";
            g = navigator.plugins;
            if (typeof g !== YWA.ud && g !== null && g.length > 0) {
                if (g["Shockwave Flash 2.0"] || g["Shockwave Flash"]) {
                    d = g["Shockwave Flash 2.0"] ? " 2.0" : "";
                    b = g["Shockwave Flash" + d].description;
                }
            } else {
                sVBSwfVer = function (e) {
                    var h, k;
                    k = 0;
                    h = new ActiveXObject("ShockwaveFlash.ShockwaveFlash." + e);
                    if (h !== null && typeof h !== "undefined") {
                        k = h.GetVariable("$version");
                    }
                    return k;
                };
                try {
                    b = sVBSwfVer(1);
                } catch (f) {
                    b = "unknown";
                }
            }
            YWA.flashVer = b;
        }
        return YWA.flashVer;
    };
    a.prototype.setCookie = function (b, f, h) {
        var e, c, g;
        g = new Date();
        g.setTime(g.getTime() + (h * 1000));
        e = (h > 0) ? "; expires=" + g.toGMTString() : "";
        if (h < 0) {
            e = "; expires=Thu, 01-Jan-1970 00:00:01 GMT";
        }
        c = b + "=" + f + e + "; path=/" + ((this.FPCD !== "") ? ("; domain=" + this.FPCD) : (""));
        document.cookie = c;
    };
    a.prototype.deleteCookie = function (b) {
        return this.setCookie(b, "1", -1);
    };
    a.prototype.getCookie = function (d) {
        var f, c, b, e;
        b = document.cookie;
        e = b.indexOf(d + "=");
        if (e !== -1) {
            f = e + d.length + 1;
            c = b.indexOf(";", f);
            if (c === -1) {
                c = b.length;
            }
            return b.substring(f, c);
        }
        return "";
    };
    a.prototype.FPCSupport = function () {
        if (this.getCookie(this.FPCN) !== "") {
            return true;
        }
        var e, b, f, c;
        b = "itfpctmp";
        f = new Date();
        c = "fpc-" + f.getTime();
        this.setCookie(b, c, 180);
        e = this.getCookie(b);
        if (e === c) {
            this.deleteCookie(b);
            return true;
        }
        return false;
    };
    a.prototype.trunc = function (n, m) {
        var b, k, l, c, f, e, d, h, g;
        if (n.length <= m) {
            return n;
        }
        b = n.split("?");
        if (b.length > 1) {
            c = b[0] + "?";
            k = b[1];
            l = k.split("&");
            l.sort();
            d = false;
            g = l.length;
            for (f = 0, h = this.prmord.length; f < h; f += 1) {
                for (e = 0; e < g; e += 1) {
                    if (l[e].indexOf(this.prmord[f] + "=") === 0) {
                        if (c.length + "&".length + l[e].length > m) {
                            return c + "&trnc=1";
                        }
                        c += (d ? "&" : "") + l[e];
                        d = true;
                        break;
                    }
                }
            }
            return c;
        } else {
            return n;
        }
    };
    a.prototype.chkl0 = function (u, s, q, e, b) {
        var m, p, h, g, l, t, o, v, c, n, f;
        for (m = 0, f = s.length, n = u.length; m < f && n > q; m += 1) {
            p = u.length - q;
            h = u.indexOf("&" + s[m] + "=");
            if (h > 0) {
                h += s[m].length + 2;
                g = u.indexOf("&", h);
                if (g > 0) {
                    t = h;
                    o = u.toLowerCase().indexOf("%3f", h);
                    v = u.toLowerCase().indexOf("%3d", h);
                    if (g - h > p + b.length + e) {
                        h += g - h - p - b.length;
                        for (l = 1; l < 10; l += 1) {
                            if (u.charAt(h - l) === "%") {
                                h -= l;
                                break;
                            }
                        }
                    } else {
                        if (g - h > e) {
                            h += e;
                            for (l = 1; l < 10; l += 1) {
                                if (u.charAt(h - l) === "%") {
                                    h -= l;
                                    break;
                                }
                            }
                        } else {
                            continue;
                        }
                    }
                    c = u.substring(0, h);
                    if (o > 0 && o < g) {
                        if (v < 0 || v > g) {
                            c += "%3D";
                        }
                        c += "%26";
                    }
                    c += b;
                    c += u.substring(g);
                    u = c;
                }
            }
        }
        if (u.length > q) {
            return this.chkl(u, s, q, e / 2, b);
        }
        return u;
    };
    a.prototype.chkl = function (b, f, e, d, c) {
        b = this.chkl0(b, f, e, d, c);
        if (b.length > e) {
            b = this.chkl0(b, f, e, d / 2, c);
        }
        return b;
    };
    a.prototype.trk = function (d) {
        var b, c;
        b = this.trunc(this.BU + (!this.TPSC ? "&tp=0" : "") + "&enc=" + encodeURIComponent(this.ENC) + this.IT + d + "&ix=" + this.imgsl + this.FPCR, 2000);
        if (!this.isProtocolExcluded()) {
            this.imgsl += 1;
            if (this.DEBUG) {
                window.alert(b);
            } else {
                c = new Image();
                if (YWA.net || this.PIXELDELAY) {
                    window.setTimeout(function () {
                        c.src = b;
                    }, 1);
                } else {
                    c.src = b;
                }
                window.setTimeout(function () {
                    c = null;
                }, 10000);
            }
        } else {
            if (this.DEBUG) {
                window.alert("'" + b + "' isn't tracked because of excluded protocol.");
            }
        }
        this.reset();
        this.IT = "";
        return b;
    };
    a.prototype.gcpn = function (b) {
        return YWA.gcpn(b);
    };
    a.prototype.getFileName = function (b) {
        return YWA.getFileName(b);
    };
    a.prototype.gh = function (b) {
        return YWA.gh(b);
    };
    a.prototype.ghs = function (b) {
        return YWA.ghs(b);
    };
    a.prototype.gpr = function (b) {
        return YWA.gpr(b);
    };
    a.prototype.gp = function (b) {
        return YWA.gp(b);
    };
    a.prototype.mxDmnRGXP = function (b) {
        return YWA.mxDmnRGXP(b);
    };
    a.prototype.mxRgXpStr = function (b) {
        return YWA.mxRgXpStr(b);
    };
    a.prototype.customfield_reset = function () {
        this.cfn.length = 0;
        this.cfv.length = 0;
    };
    a.prototype.customfield_set = function (c, b) {
        this.cfn[this.cfn.length] = c;
        this.cfv[this.cfv.length] = b;
    };
    a.prototype.cf_ts = function () {
        var d, c, b, e;
        c = "&cf=1";
        for (d = 0, b = this.cfn.length, e = this.cfv.length; d < b && d < e; d += 1) {
            c += "&cn" + d + "=" + encodeURIComponent(this.cfn[d]) + "&cv" + d + "=" + encodeURIComponent(this.cfv[d]);
        }
        return c;
    };
    a.prototype.submit_customfield = function () {
        if (this.cfn.length > 0 && this.cfv.length > 0) {
            var b;
            b = this.cf_ts();
            this.customfield_reset();
            this.pp();
            this.trk(b);
        }
    };
    a.prototype.submit_action = function () {
        this.pp();
        this.trk("&ca=1");
    };
    a.prototype.submit_icmp = function () {
        this.pp();
        this.trk("&ci=1");
    };
    a.prototype.exitlink = function (b) {
        this.pp();
        this.trk("&el=" + encodeURIComponent(b));
    };
    a.prototype.el = function (b) {
        var c;
        if (YWA.gh(location) === YWA.gh(b)) {
            return true;
        }
        if (!this.isProtocolExcluded()) {
            c = (YWA.is(this.DOMAINS) && this.DOMAINS !== "") ? YWA.mxDmnRGXP(this.DOMAINS) : YWA.mxDmnRGXP(YWA.gh(location));
        } else {
            c = YWA.mxDmnRGXP("protocolexclusion");
        }
        if (c.test(YWA.gh(b))) {
            return true;
        }
        if (b.href.indexOf("java") !== 0) {
            this.exitlink(b.href);
        }
        return true;
    };
    a.prototype.download = function (b) {
        this.pp();
        this.trk("&fn=" + encodeURIComponent(b));
    };
    a.prototype.oco = function (b) {
        var d, c, e;
        if (!this.ONLOAD) {
            return true;
        }
        e = this.getExcludeDomains();
        if (e !== "") {
            d = YWA.mxDmnRGXP(e);
            if (d.test(YWA.gh(b))) {
                if (this.DEBUG) {
                    window.alert("'" + YWA.gh(b) + "' isn't tracked as exitlink.");
                }
                return true;
            }
        }
        if (YWA.is(b.pathname)) {
            c = YWA.getFileName(b.pathname);
            if (c !== "") {
                d = new RegExp(this.getDownloadExts(), "i");
                if (d.test(c) && (c.indexOf(".") !== -1)) {
                    if (((this.EXCL !== "") && (!YWA.mxDmnRGXP(this.EXCL).test(b.pathname))) || (this.EXCL.length === 0)) {
                        this.download(b.href);
                    }
                } else {
                    this.el(b);
                }
            } else {
                this.el(b);
            }
        }
    };
    a.prototype.track = function (l, c) {
        var g, o, k, n, b, f;
        n = "";
        b = document.referrer;
        YWA.errorId = this.idx;
        f = [];
        if (YWA.is(this.REFERRER) && this.REFERRER.length > 0) {
            b = this.REFERRER;
        } else {
            if ((navigator.userAgent.indexOf("Mac") >= 0) && (navigator.userAgent.indexOf("MSIE 4") >= 0)) {
                b = document.referrer;
            } else {
                if (l) {
                    YWA.windowOnerror = window.onerror;
                    window.onerror = YWA.ywaOEH;
                    k = true;
                    try {
                        n = top.location.href;
                        n = "";
                    } catch (m) {
                        k = false;
                    }
                    if (k && document.location !== top.location) {
                        b = top.document.referrer;
                        n = top.location.href;
                    }
                } else {
                    f[0] = "&nr=t";
                }
            }
        }
        if (YWA.windowOnerror) {
            window.onerror = YWA.windowOnerror;
        } else {
            window.onerror = null;
        }
        this.pp();
        if (b.length > 0) {
            o = YWA.is(this.DOMAINS) ? YWA.mxDmnRGXP(this.DOMAINS) : YWA.mxDmnRGXP(YWA.gh(location));
            f[1] = "&e=" + encodeURIComponent(this.trunc(o.test(YWA.ghs(b)) ? this.getClnUrl(b) : b), 200);
        }
        if (n.length > 0) {
            f[2] = "&t=" + encodeURIComponent(n);
        }
        g = this.FPCSupport();
        this.date = new Date();
        f[3] = "&flv=" + encodeURIComponent(this.FLV);
        f[4] = "&d=" + encodeURIComponent(this.date.toGMTString());
        f[5] = "&n=" + encodeURIComponent(parseInt(this.date.getTimezoneOffset() / 60, 10));
        f[6] = "&g=" + encodeURIComponent(YWA.net ? navigator.language : navigator.userLanguage);
        f[7] = "&h=" + encodeURIComponent((navigator.javaEnabled() ? "Y" : "N"));
        try {
            f[8] = "&j=" + encodeURIComponent(screen.width + "x" + screen.height);
            f[9] = "&k=" + encodeURIComponent(YWA.mic ? screen.colorDepth : screen.pixelDepth);
        } catch (h) {}
        f[10] = "&l=" + ((g) ? "true" : "false");
        if (this.CAMPAIGN !== "") {
            f[11] = "&cp=" + encodeURIComponent(this.CAMPAIGN);
        }
        if (this.CMPPARM !== "") {
            f[12] = "&cp=" + encodeURIComponent(YWA.gcpn(this.CMPPARM));
        }
        if (this.PROMO !== "") {
            f[13] = "&scp=" + encodeURIComponent(this.PROMO);
        }
        if (this.PROMOPARM !== "") {
            f[14] = "&scp=" + encodeURIComponent(YWA.gcpn(this.PROMOPARM));
        }
        this.IT += f.join("");
        if (this.RUN) {
            return;
        }
        if (g && c) {
            this.fpc();
        } else {
            this.trk("");
        }
        YWA.errorId = "";
    };
    a.prototype.submitPT = function () {
        return this.submit(false);
    };
    a.prototype.submit = function (b) {
        var c;
        c = (typeof b).toLowerCase();
        if (c === "undefined" || c !== "boolean") {
            b = true;
        }
        b = (this.hasFPC ? false : b);
        return this.track(true, b);
    };
    a.prototype.fpc = function () {
        this.getFPCvars();
    };
    a.prototype.ywaW3C = function (e) {
        var b, d, c;
        c = [];
        c[0] = this.BD;
        c[1] = "/fpc.pl?a=";
        c[2] = this.PID;
        c[3] = "&v=";
        c[4] = this.version;
        if (!this.TPSC) {
            c[5] = "&tp=0";
        }
        c[6] = "&enc=";
        c[7] = encodeURIComponent(this.ENC);
        c[8] = this.IT;
        c[9] = this.FPCR;
        d = this.trunc(c.join(""), 2000);
        if (!this.isProtocolExcluded()) {
            if (e === 0) {
                if (!this.DEBUG) {
                    b = document.createElement("SCRIPT");
                    b.defer = true;
                    b.type = "text/javascript";
                    b.src = d;
                    this.place.appendChild(b);
                    this.hasFPC = true;
                } else {
                    window.alert(d);
                }
            } else {
                this.trk("");
            }
        } else {
            if (this.DEBUG) {
                window.alert("'" + d + "' isn't tracked because of excluded protocol.");
            }
        }
        this.reset();
        this.IT = "";
    };
    a.prototype.getFPCvars = function () {
        var b = this.FPCSupport();
        if (b && !this.hasFPC) {
            this.ywaW3C(0);
        } else {
            this.ywaW3C(1);
        }
    };
    a.prototype.setFPCookies = function () {
        if (this.FPCV !== "") {
            this.setCookie(this.FPCN, this.FPCV, 31536000);
        }
    };
    a.prototype.page = function (f, d, g, e, c) {
        var b;
        b = this.URL;
        this.URL = this.FU !== "" ? this.FU : "FLASH";
        this.DOCUMENTNAME = f;
        this.DOCUMENTGROUP = d;
        this.MEMBERID = g;
        this.ACTION = e;
        this.AMOUNT = c;
        this.submit();
        this.URL = b;
    };
    a.prototype.getClnUrl = function (t) {
        var d, c, v, e, q, n, b, m, f, w, h, l, g, o, s;
        h = "_S_PEPOS,_S_PEPRM";
        o = ["[", "]"];
        if (!YWA.is(this.EXCLPRM)) {
            return t;
        }
        d = t.split("?");
        if (d.length === 1) {
            return t;
        }
        c = d[1].split("&");
        v = ((this.EXCLPRM.indexOf(";") >= 0) ? this.EXCLPRM.split(";") : this.EXCLPRM.split(","));
        e = [];
        n = 0;
        for (m = 0, q = v.length; m < q; m += 1) {
            if (m < q - 1 || m === q - 1 && v[m] !== "") {
                e[n] = v[m];
                n += 1;
            }
        }
        q = n;
        b = "";
        for (m = 0, l = c.length; m < l; m += 1) {
            f = c[m].split("=")[0];
            for (n = 0; n < o.length; n += 1) {
                s = f.indexOf(o[n]);
                if (s >= 0) {
                    f = f.substring(0, s) + "\\" + f.substring(s, f.length);
                }
            }
            g = true;
            w = new RegExp("\\b" + f + "\\b", "gi");
            for (n = 0; n < q; n += 1) {
                g = g && (f.length > 0 && !w.test(e[n]) || f.length === 0 && e[n] !== "");
            }
            if (g) {
                b += ((b.length > 0) ? "&" : "") + c[m];
            }
        }
        return d[0] + ((b.length > 0) ? "?" + b : "");
    };
    YAHOO.mediaplayer.YWA = YWA;
})();
(function () {
    var b = YAHOO.ympyui.util;
    var a = function (e, f, d, c) {
        if (!e) {}
        this.init(e, f, d, c);
    };
    a.NAME = "Anim";
    a.prototype = {
        toString: function () {
            var d = this.getEl() || {};
            var c = d.id || d.tagName;
            return (this.constructor.NAME + ": " + c);
        },
        patterns: {
            noNegatives: /width|height|opacity|padding/i,
            offsetAttribute: /^((width|height)|(top|left))$/,
            defaultUnit: /width|height|top$|bottom$|left$|right$/i,
            offsetUnit: /\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i
        },
        doMethod: function (e, c, d) {
            return this.method(this.currentFrame, c, d - c, this.totalFrames);
        },
        setAttribute: function (f, c, d) {
            var e = this.getEl();
            if (this.patterns.noNegatives.test(f)) {
                c = (c > 0) ? c : 0;
            }
            if (f in e && !("style" in e && f in e.style)) {
                e[f] = c;
            } else {
                b.Dom.setStyle(e, f, c + d);
            }
        },
        getAttribute: function (h) {
            var f = this.getEl();
            var d = b.Dom.getStyle(f, h);
            if (d !== "auto" && !this.patterns.offsetUnit.test(d)) {
                return parseFloat(d);
            }
            var g = this.patterns.offsetAttribute.exec(h) || [];
            var c = !! (g[3]);
            var e = !! (g[2]);
            if ("style" in f) {
                if (e || (b.Dom.getStyle(f, "position") == "absolute" && c)) {
                    d = f["offset" + g[0].charAt(0).toUpperCase() + g[0].substr(1)];
                } else {
                    d = 0;
                }
            } else {
                if (h in f) {
                    d = f[h];
                }
            }
            return d;
        },
        getDefaultUnit: function (c) {
            if (this.patterns.defaultUnit.test(c)) {
                return "px";
            }
            return "";
        },
        setRuntimeAttribute: function (h) {
            var c;
            var g;
            var f = this.attributes;
            this.runtimeAttributes[h] = {};
            var d = function (l) {
                return (typeof l !== "undefined");
            };
            if (!d(f[h]["to"]) && !d(f[h]["by"])) {
                return false;
            }
            c = (d(f[h]["from"])) ? f[h]["from"] : this.getAttribute(h);
            if (d(f[h]["to"])) {
                g = f[h]["to"];
            } else {
                if (d(f[h]["by"])) {
                    if (c.constructor == Array) {
                        g = [];
                        for (var e = 0, k = c.length; e < k; ++e) {
                            g[e] = c[e] + f[h]["by"][e] * 1;
                        }
                    } else {
                        g = c + f[h]["by"] * 1;
                    }
                }
            }
            this.runtimeAttributes[h].start = c;
            this.runtimeAttributes[h].end = g;
            this.runtimeAttributes[h].unit = (d(f[h].unit)) ? f[h]["unit"] : this.getDefaultUnit(h);
            return true;
        },
        init: function (n, g, h, d) {
            var c = false;
            var m = null;
            var k = 0;
            n = b.Dom.get(n);
            this.attributes = g || {};
            this.duration = !YAHOO.ympyui.lang.isUndefined(h) ? h : 1;
            this.method = d || b.Easing.easeNone;
            this.useSeconds = true;
            this.currentFrame = 0;
            this.totalFrames = b.AnimMgr.fps;
            this.setEl = function (o) {
                n = b.Dom.get(o);
            };
            this.getEl = function () {
                return n;
            };
            this.isAnimated = function () {
                return c;
            };
            this.getStartTime = function () {
                return m;
            };
            this.runtimeAttributes = {};
            this.animate = function () {
                if (this.isAnimated()) {
                    return false;
                }
                this.currentFrame = 0;
                this.totalFrames = (this.useSeconds) ? Math.ceil(b.AnimMgr.fps * this.duration) : this.duration;
                if (this.duration === 0 && this.useSeconds) {
                    this.totalFrames = 1;
                }
                b.AnimMgr.registerElement(this);
                return true;
            };
            this.stop = function (o) {
                if (!this.isAnimated()) {
                    return false;
                }
                if (o) {
                    this.currentFrame = this.totalFrames;
                    this._onTween.fire();
                }
                b.AnimMgr.stop(this);
            };
            var e = function () {
                this.onStart.fire();
                this.runtimeAttributes = {};
                for (var o in this.attributes) {
                    this.setRuntimeAttribute(o);
                }
                c = true;
                k = 0;
                m = new Date();
            };
            var f = function () {
                var o = {
                    duration: new Date() - this.getStartTime(),
                    currentFrame: this.currentFrame
                };
                o.toString = function () {
                    return ("duration: " + o.duration + ", currentFrame: " + o.currentFrame);
                };
                this.onTween.fire(o);
                var p = this.runtimeAttributes;
                for (var q in p) {
                    this.setAttribute(q, this.doMethod(q, p[q].start, p[q].end), p[q].unit);
                }
                k += 1;
            };
            var l = function () {
                var p = (new Date() - m) / 1000;
                var o = {
                    duration: p,
                    frames: k,
                    fps: k / p
                };
                o.toString = function () {
                    return ("duration: " + o.duration + ", frames: " + o.frames + ", fps: " + o.fps);
                };
                c = false;
                k = 0;
                this.onComplete.fire(o);
            };
            this._onStart = new b.CustomEvent("_start", this, true);
            this.onStart = new b.CustomEvent("start", this);
            this.onTween = new b.CustomEvent("tween", this);
            this._onTween = new b.CustomEvent("_tween", this, true);
            this.onComplete = new b.CustomEvent("complete", this);
            this._onComplete = new b.CustomEvent("_complete", this, true);
            this._onStart.subscribe(e);
            this._onTween.subscribe(f);
            this._onComplete.subscribe(l);
        }
    };
    b.Anim = a;
})();
YAHOO.ympyui.util.AnimMgr = new
function () {
    var d = null;
    var e = [];
    var a = 0;
    this.fps = 1000;
    this.delay = 1;
    this.registerElement = function (f) {
        e[e.length] = f;
        a += 1;
        f._onStart.fire();
        this.start();
    };
    this.unRegister = function (f, g) {
        g = g || b(f);
        if (!f.isAnimated() || g === -1) {
            return false;
        }
        f._onComplete.fire();
        e.splice(g, 1);
        a -= 1;
        if (a <= 0) {
            this.stop();
        }
        return true;
    };
    this.start = function () {
        if (d === null) {
            d = setInterval(this.run, this.delay);
        }
    };
    this.stop = function (f) {
        if (!f) {
            clearInterval(d);
            for (var g = 0, h = e.length; g < h; ++g) {
                this.unRegister(e[0], 0);
            }
            e = [];
            d = null;
            a = 0;
        } else {
            this.unRegister(f);
        }
    };
    this.run = function () {
        for (var f = 0, h = e.length; f < h; ++f) {
            var g = e[f];
            if (!g || !g.isAnimated()) {
                continue;
            }
            if (g.currentFrame < g.totalFrames || g.totalFrames === null) {
                g.currentFrame += 1;
                if (g.useSeconds) {
                    c(g);
                }
                g._onTween.fire();
            } else {
                YAHOO.ympyui.util.AnimMgr.stop(g, f);
            }
        }
    };
    var b = function (f) {
        for (var g = 0, h = e.length; g < h; ++g) {
            if (e[g] === f) {
                return g;
            }
        }
        return -1;
    };
    var c = function (l) {
        var g = l.totalFrames;
        var h = l.currentFrame;
        var k = (l.currentFrame * l.duration * 1000 / l.totalFrames);
        var m = (new Date() - l.getStartTime());
        var f = 0;
        if (m < l.duration * 1000) {
            f = Math.round((m / k - 1) * l.currentFrame);
        } else {
            f = g - (h + 1);
        }
        if (f > 0 && isFinite(f)) {
            if (l.currentFrame + f >= g) {
                f = g - (h + 1);
            }
            l.currentFrame += f;
        }
    };
    this._queue = e;
    this._getIndex = b;
};
YAHOO.ympyui.util.Bezier = new
function () {
    this.getPosition = function (c, d) {
        var b = c.length;
        var e = [];
        for (var f = 0; f < b; ++f) {
            e[f] = [c[f][0], c[f][1]];
        }
        for (var a = 1; a < b; ++a) {
            for (f = 0; f < b - a; ++f) {
                e[f][0] = (1 - d) * e[f][0] + d * e[parseInt(f + 1, 10)][0];
                e[f][1] = (1 - d) * e[f][1] + d * e[parseInt(f + 1, 10)][1];
            }
        }
        return [e[0][0], e[0][1]];
    };
};
(function () {
    var a = function (g, h, f, e) {
        a.superclass.constructor.call(this, g, h, f, e);
    };
    a.NAME = "ColorAnim";
    a.DEFAULT_BGCOLOR = "#fff";
    var c = YAHOO.ympyui.util;
    YAHOO.ympyui.extend(a, c.Anim);
    var b = a.superclass;
    var d = a.prototype;
    d.patterns.color = /color$/i;
    d.patterns.rgb = /^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;
    d.patterns.hex = /^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;
    d.patterns.hex3 = /^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;
    d.patterns.transparent = /^transparent|rgba\(0, 0, 0, 0\)$/;
    d.parseColor = function (f) {
        if (f.length == 3) {
            return f;
        }
        var e = this.patterns.hex.exec(f);
        if (e && e.length == 4) {
            return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)];
        }
        e = this.patterns.rgb.exec(f);
        if (e && e.length == 4) {
            return [parseInt(e[1], 10), parseInt(e[2], 10), parseInt(e[3], 10)];
        }
        e = this.patterns.hex3.exec(f);
        if (e && e.length == 4) {
            return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)];
        }
        return null;
    };
    d.getAttribute = function (k) {
        var g = this.getEl();
        if (this.patterns.color.test(k)) {
            var e = YAHOO.ympyui.util.Dom.getStyle(g, k);
            var f = this;
            if (this.patterns.transparent.test(e)) {
                var h = YAHOO.ympyui.util.Dom.getAncestorBy(g, function (l) {
                    return !f.patterns.transparent.test(e);
                });
                if (h) {
                    e = c.Dom.getStyle(h, k);
                } else {
                    e = a.DEFAULT_BGCOLOR;
                }
            }
        } else {
            e = b.getAttribute.call(this, k);
        }
        return e;
    };
    d.doMethod = function (k, e, h) {
        var f;
        if (this.patterns.color.test(k)) {
            f = [];
            for (var g = 0, l = e.length; g < l; ++g) {
                f[g] = b.doMethod.call(this, k, e[g], h[g]);
            }
            f = "rgb(" + Math.floor(f[0]) + "," + Math.floor(f[1]) + "," + Math.floor(f[2]) + ")";
        } else {
            f = b.doMethod.call(this, k, e, h);
        }
        return f;
    };
    d.setRuntimeAttribute = function (k) {
        b.setRuntimeAttribute.call(this, k);
        if (this.patterns.color.test(k)) {
            var g = this.attributes;
            var e = this.parseColor(this.runtimeAttributes[k].start);
            var h = this.parseColor(this.runtimeAttributes[k].end);
            if (typeof g[k]["to"] === "undefined" && typeof g[k]["by"] !== "undefined") {
                h = this.parseColor(g[k].by);
                for (var f = 0, l = e.length; f < l; ++f) {
                    h[f] = e[f] + h[f];
                }
            }
            this.runtimeAttributes[k].start = e;
            this.runtimeAttributes[k].end = h;
        }
    };
    c.ColorAnim = a;
})();
YAHOO.ympyui.util.Easing = {
    easeNone: function (d, a, b, c) {
        return b * d / c + a;
    },
    easeIn: function (d, a, b, c) {
        return b * (d /= c) * d + a;
    },
    easeOut: function (d, a, b, c) {
        return -b * (d /= c) * (d - 2) + a;
    },
    easeBoth: function (d, a, b, c) {
        if ((d /= c / 2) < 1) {
            return b / 2 * d * d + a;
        }
        return -b / 2 * ((--d) * (d - 2) - 1) + a;
    },
    easeInStrong: function (d, a, b, c) {
        return b * (d /= c) * d * d * d + a;
    },
    easeOutStrong: function (d, a, b, c) {
        return -b * ((d = d / c - 1) * d * d * d - 1) + a;
    },
    easeBothStrong: function (d, a, b, c) {
        if ((d /= c / 2) < 1) {
            return b / 2 * d * d * d * d + a;
        }
        return -b / 2 * ((d -= 2) * d * d * d - 2) + a;
    },
    elasticIn: function (f, a, b, c, g, d) {
        if (f == 0) {
            return a;
        }
        if ((f /= c) == 1) {
            return a + b;
        }
        if (!d) {
            d = c * 0.3;
        }
        if (!g || g < Math.abs(b)) {
            g = b;
            var e = d / 4;
        } else {
            var e = d / (2 * Math.PI) * Math.asin(b / g);
        }
        return -(g * Math.pow(2, 10 * (f -= 1)) * Math.sin((f * c - e) * (2 * Math.PI) / d)) + a;
    },
    elasticOut: function (f, a, b, c, g, d) {
        if (f == 0) {
            return a;
        }
        if ((f /= c) == 1) {
            return a + b;
        }
        if (!d) {
            d = c * 0.3;
        }
        if (!g || g < Math.abs(b)) {
            g = b;
            var e = d / 4;
        } else {
            var e = d / (2 * Math.PI) * Math.asin(b / g);
        }
        return g * Math.pow(2, -10 * f) * Math.sin((f * c - e) * (2 * Math.PI) / d) + b + a;
    },
    elasticBoth: function (f, a, b, c, g, d) {
        if (f == 0) {
            return a;
        }
        if ((f /= c / 2) == 2) {
            return a + b;
        }
        if (!d) {
            d = c * (0.3 * 1.5);
        }
        if (!g || g < Math.abs(b)) {
            g = b;
            var e = d / 4;
        } else {
            var e = d / (2 * Math.PI) * Math.asin(b / g);
        }
        if (f < 1) {
            return -0.5 * (g * Math.pow(2, 10 * (f -= 1)) * Math.sin((f * c - e) * (2 * Math.PI) / d)) + a;
        }
        return g * Math.pow(2, -10 * (f -= 1)) * Math.sin((f * c - e) * (2 * Math.PI) / d) * 0.5 + b + a;
    },
    backIn: function (e, a, b, c, d) {
        if (typeof d == "undefined") {
            d = 1.70158;
        }
        return b * (e /= c) * e * ((d + 1) * e - d) + a;
    },
    backOut: function (e, a, b, c, d) {
        if (typeof d == "undefined") {
            d = 1.70158;
        }
        return b * ((e = e / c - 1) * e * ((d + 1) * e + d) + 1) + a;
    },
    backBoth: function (e, a, b, c, d) {
        if (typeof d == "undefined") {
            d = 1.70158;
        }
        if ((e /= c / 2) < 1) {
            return b / 2 * (e * e * (((d *= (1.525)) + 1) * e - d)) + a;
        }
        return b / 2 * ((e -= 2) * e * (((d *= (1.525)) + 1) * e + d) + 2) + a;
    },
    bounceIn: function (d, a, b, c) {
        return b - YAHOO.ympyui.util.Easing.bounceOut(c - d, 0, b, c) + a;
    },
    bounceOut: function (d, a, b, c) {
        if ((d /= c) < (1 / 2.75)) {
            return b * (7.5625 * d * d) + a;
        } else {
            if (d < (2 / 2.75)) {
                return b * (7.5625 * (d -= (1.5 / 2.75)) * d + 0.75) + a;
            } else {
                if (d < (2.5 / 2.75)) {
                    return b * (7.5625 * (d -= (2.25 / 2.75)) * d + 0.9375) + a;
                }
            }
        }
        return b * (7.5625 * (d -= (2.625 / 2.75)) * d + 0.984375) + a;
    },
    bounceBoth: function (d, a, b, c) {
        if (d < c / 2) {
            return YAHOO.ympyui.util.Easing.bounceIn(d * 2, 0, b, c) * 0.5 + a;
        }
        return YAHOO.ympyui.util.Easing.bounceOut(d * 2 - c, 0, b, c) * 0.5 + b * 0.5 + a;
    }
};
(function () {
    var a = function (k, l, h, g) {
        if (k) {
            a.superclass.constructor.call(this, k, l, h, g);
        }
    };
    a.NAME = "Motion";
    var c = YAHOO.ympyui.util;
    YAHOO.ympyui.extend(a, c.ColorAnim);
    var b = a.superclass;
    var e = a.prototype;
    e.patterns.points = /^points$/i;
    e.setAttribute = function (k, g, h) {
        if (this.patterns.points.test(k)) {
            h = h || "px";
            b.setAttribute.call(this, "left", g[0], h);
            b.setAttribute.call(this, "top", g[1], h);
        } else {
            b.setAttribute.call(this, k, g, h);
        }
    };
    e.getAttribute = function (h) {
        if (this.patterns.points.test(h)) {
            var g = [b.getAttribute.call(this, "left"), b.getAttribute.call(this, "top")];
        } else {
            g = b.getAttribute.call(this, h);
        }
        return g;
    };
    e.doMethod = function (m, g, l) {
        var h = null;
        if (this.patterns.points.test(m)) {
            var k = this.method(this.currentFrame, 0, 100, this.totalFrames) / 100;
            h = c.Bezier.getPosition(this.runtimeAttributes[m], k);
        } else {
            h = b.doMethod.call(this, m, g, l);
        }
        return h;
    };
    e.setRuntimeAttribute = function (g) {
        if (this.patterns.points.test(g)) {
            var q = this.getEl();
            var o = this.attributes;
            var r;
            var m = o["points"]["control"] || [];
            var p;
            var l, h;
            if (m.length > 0 && !(m[0] instanceof Array)) {
                m = [m];
            } else {
                var n = [];
                for (l = 0, h = m.length; l < h; ++l) {
                    n[l] = m[l];
                }
                m = n;
            }
            if (c.Dom.getStyle(q, "position") == "static") {
                c.Dom.setStyle(q, "position", "relative");
            }
            if (d(o["points"]["from"])) {
                c.Dom.setXY(q, o["points"]["from"]);
            } else {
                c.Dom.setXY(q, c.Dom.getXY(q));
            }
            r = this.getAttribute("points");
            if (d(o["points"]["to"])) {
                p = f.call(this, o["points"]["to"], r);
                var k = c.Dom.getXY(this.getEl());
                for (l = 0, h = m.length; l < h; ++l) {
                    m[l] = f.call(this, m[l], r);
                }
            } else {
                if (d(o["points"]["by"])) {
                    p = [r[0] + o["points"]["by"][0], r[1] + o["points"]["by"][1]];
                    for (l = 0, h = m.length; l < h; ++l) {
                        m[l] = [r[0] + m[l][0], r[1] + m[l][1]];
                    }
                }
            }
            this.runtimeAttributes[g] = [r];
            if (m.length > 0) {
                this.runtimeAttributes[g] = this.runtimeAttributes[g].concat(m);
            }
            this.runtimeAttributes[g][this.runtimeAttributes[g].length] = p;
        } else {
            b.setRuntimeAttribute.call(this, g);
        }
    };
    var f = function (k, g) {
        var h = c.Dom.getXY(this.getEl());
        k = [k[0] - h[0] + g[0], k[1] - h[1] + g[1]];
        return k;
    };
    var d = function (g) {
        return (typeof g !== "undefined");
    };
    c.Motion = a;
})();
(function () {
    var b = function (g, h, f, e) {
        if (g) {
            b.superclass.constructor.call(this, g, h, f, e);
        }
    };
    b.NAME = "Scroll";
    var d = YAHOO.ympyui.util;
    YAHOO.ympyui.extend(b, d.ColorAnim);
    var c = b.superclass;
    var a = b.prototype;
    a.doMethod = function (h, e, g) {
        var f = null;
        if (h == "scroll") {
            f = [this.method(this.currentFrame, e[0], g[0] - e[0], this.totalFrames), this.method(this.currentFrame, e[1], g[1] - e[1], this.totalFrames)];
        } else {
            f = c.doMethod.call(this, h, e, g);
        }
        return f;
    };
    a.getAttribute = function (g) {
        var e = null;
        var f = this.getEl();
        if (g == "scroll") {
            e = [f.scrollLeft, f.scrollTop];
        } else {
            e = c.getAttribute.call(this, g);
        }
        return e;
    };
    a.setAttribute = function (h, e, f) {
        var g = this.getEl();
        if (h == "scroll") {
            g.scrollLeft = e[0];
            g.scrollTop = e[1];
        } else {
            c.setAttribute.call(this, h, e, f);
        }
    };
    d.Scroll = b;
})();
YAHOO.ympyui.register("animation", YAHOO.ympyui.util.Anim, {
    version: "2.8.0r4",
    build: "2449"
});
(function () {
    var l = YAHOO.ympyui.lang,
        isFunction = l.isFunction,
        isObject = l.isObject,
        isArray = l.isArray,
        _toStr = Object.prototype.toString,
        Native = (YAHOO.ympyui.env.ua.caja ? window : this).JSON,
        _UNICODE_EXCEPTIONS = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        _ESCAPES = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
        _VALUES = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
        _BRACKETS = /(?:^|:|,)(?:\s*\[)+/g,
        _UNSAFE = /^[\],:{}\s]*$/,
        _SPECIAL_CHARS = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        _CHARS = {
            "\b": "\\b",
            "\t": "\\t",
            "\n": "\\n",
            "\f": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\"
        },
        UNDEFINED = "undefined",
        OBJECT = "object",
        NULL = "null",
        STRING = "string",
        NUMBER = "number",
        BOOLEAN = "boolean",
        DATE = "date",
        _allowable = {
            "undefined": UNDEFINED,
            "string": STRING,
            "[object String]": STRING,
            "number": NUMBER,
            "[object Number]": NUMBER,
            "boolean": BOOLEAN,
            "[object Boolean]": BOOLEAN,
            "[object Date]": DATE,
            "[object RegExp]": OBJECT
        },
        EMPTY = "",
        OPEN_O = "{",
        CLOSE_O = "}",
        OPEN_A = "[",
        CLOSE_A = "]",
        COMMA = ",",
        COMMA_CR = ",\n",
        CR = "\n",
        COLON = ":",
        COLON_SP = ": ",
        QUOTE = '"';
    Native = _toStr.call(Native) === "[object JSON]" && Native;

    function _char(c) {
        if (!_CHARS[c]) {
            _CHARS[c] = "\\u" + ("0000" + (+(c.charCodeAt(0))).toString(16)).slice(-4);
        }
        return _CHARS[c];
    }
    function _revive(data, reviver) {
        var walk = function (o, key) {
            var k, v, value = o[key];
            if (value && typeof value === "object") {
                for (k in value) {
                    if (l.hasOwnProperty(value, k)) {
                        v = walk(value, k);
                        if (v === undefined) {
                            delete value[k];
                        } else {
                            value[k] = v;
                        }
                    }
                }
            }
            return reviver.call(o, key, value);
        };
        return typeof reviver === "function" ? walk({
            "": data
        }, "") : data;
    }
    function _prepare(s) {
        return s.replace(_UNICODE_EXCEPTIONS, _char);
    }
    function _isSafe(str) {
        return l.isString(str) && _UNSAFE.test(str.replace(_ESCAPES, "@").replace(_VALUES, "]").replace(_BRACKETS, ""));
    }
    function _parse(s, reviver) {
        s = _prepare(s);
        if (_isSafe(s)) {
            return _revive(eval("(" + s + ")"), reviver);
        }
        throw new SyntaxError("JSON.parse");
    }
    function _type(o) {
        var t = typeof o;
        return _allowable[t] || _allowable[_toStr.call(o)] || (t === OBJECT ? (o ? OBJECT : NULL) : UNDEFINED);
    }
    function _string(s) {
        return QUOTE + s.replace(_SPECIAL_CHARS, _char) + QUOTE;
    }
    function _indent(s, space) {
        return s.replace(/^/gm, space);
    }
    function _stringify(o, w, space) {
        if (o === undefined) {
            return undefined;
        }
        var replacer = isFunction(w) ? w : null,
            format = _toStr.call(space).match(/String|Number/) || [],
            _date = YAHOO.ympyui.lang.JSON.dateToString,
            stack = [],
            tmp, i, len;
        if (replacer || !isArray(w)) {
            w = undefined;
        }
        if (w) {
            tmp = {};
            for (i = 0, len = w.length; i < len; ++i) {
                tmp[w[i]] = true;
            }
            w = tmp;
        }
        space = format[0] === "Number" ? new Array(Math.min(Math.max(0, space), 10) + 1).join(" ") : (space || EMPTY).slice(0, 10);

        function _serialize(h, key) {
            var value = h[key],
                t = _type(value),
                a = [],
                colon = space ? COLON_SP : COLON,
                arr, i, keys, k, v;
            if (isObject(value) && isFunction(value.toJSON)) {
                value = value.toJSON(key);
            } else {
                if (t === DATE) {
                    value = _date(value);
                }
            }
            if (isFunction(replacer)) {
                value = replacer.call(h, key, value);
            }
            if (value !== h[key]) {
                t = _type(value);
            }
            switch (t) {
            case DATE:
            case OBJECT:
                break;
            case STRING:
                return _string(value);
            case NUMBER:
                return isFinite(value) ? value + EMPTY : NULL;
            case BOOLEAN:
                return value + EMPTY;
            case NULL:
                return NULL;
            default:
                return undefined;
            }
            for (i = stack.length - 1; i >= 0; --i) {
                if (stack[i] === value) {
                    throw new Error("JSON.stringify. Cyclical reference");
                }
            }
            arr = isArray(value);
            stack.push(value);
            if (arr) {
                for (i = value.length - 1; i >= 0; --i) {
                    a[i] = _serialize(value, i) || NULL;
                }
            } else {
                keys = w || value;
                i = 0;
                for (k in keys) {
                    if (keys.hasOwnProperty(k)) {
                        v = _serialize(value, k);
                        if (v) {
                            a[i++] = _string(k) + colon + v;
                        }
                    }
                }
            }
            stack.pop();
            if (space && a.length) {
                return arr ? OPEN_A + CR + _indent(a.join(COMMA_CR), space) + CR + CLOSE_A : OPEN_O + CR + _indent(a.join(COMMA_CR), space) + CR + CLOSE_O;
            } else {
                return arr ? OPEN_A + a.join(COMMA) + CLOSE_A : OPEN_O + a.join(COMMA) + CLOSE_O;
            }
        }
        return _serialize({
            "": o
        }, "");
    }
    YAHOO.ympyui.lang.JSON = {
        useNativeParse: !! Native,
        useNativeStringify: !! Native,
        isSafe: function (s) {
            return _isSafe(_prepare(s));
        },
        parse: function (s, reviver) {
            return Native && YAHOO.ympyui.lang.JSON.useNativeParse ? Native.parse(s, reviver) : _parse(s, reviver);
        },
        stringify: function (o, w, space) {
            return Native && YAHOO.ympyui.lang.JSON.useNativeStringify ? Native.stringify(o, w, space) : _stringify(o, w, space);
        },
        dateToString: function (d) {
            function _zeroPad(v) {
                return v < 10 ? "0" + v : v;
            }
            return d.getUTCFullYear() + "-" + _zeroPad(d.getUTCMonth() + 1) + "-" + _zeroPad(d.getUTCDate()) + "T" + _zeroPad(d.getUTCHours()) + COLON + _zeroPad(d.getUTCMinutes()) + COLON + _zeroPad(d.getUTCSeconds()) + "Z";
        },
        stringToDate: function (str) {
            var m = str.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?Z$/);
            if (m) {
                var d = new Date();
                d.setUTCFullYear(m[1], m[2] - 1, m[3]);
                d.setUTCHours(m[4], m[5], m[6], (m[7] || 0));
                return d;
            }
            return str;
        }
    };
    YAHOO.ympyui.lang.JSON.isValid = YAHOO.ympyui.lang.JSON.isSafe;
})();
YAHOO.ympyui.register("json", YAHOO.ympyui.lang.JSON, {
    version: "2.8.0r4",
    build: "2449"
});
if (YAHOO.mediaplayer.goosecss && YAHOO.mediaplayer.goosecss.length > 0) {
    var style = document.createElement("style");
    style.setAttribute("type", "text/css");
    if (style.styleSheet) {
        style.styleSheet.cssText = YAHOO.mediaplayer.goosecss;
    } else {
        var cssText = document.createTextNode(YAHOO.mediaplayer.goosecss);
        style.appendChild(cssText);
    }
    var headRef = document.getElementsByTagName("head")[0];
    headRef.appendChild(style);
    headRef = null;
    style = null;
}
YAHOO.namespace("YAHOO.mediaplayer");
if (typeof YMPParams === "undefined") {
    YMPParams = {};
}
if (typeof YMPParams.autoplay === "undefined") {
    YMPParams.autoplay = false;
}
if (typeof YMPParams.parse === "undefined") {
    YMPParams.parse = true;
}
if (typeof YMPParams.autoadvance === "undefined") {
    YMPParams.autoadvance = true;
}
if (typeof YMPParams.logging === "undefined") {
    YMPParams.logging = false;
}
if (typeof YMPParams.yahootest === "undefined") {
    YMPParams.yahootest = false;
}
if (typeof YMPParams.anonymousUsageYWAId === "undefined") {
    YMPParams.anonymousUsageYWAId = "10001379346156";
}
if (typeof YMPParams.disableAnonymousUsageIframe == "undefined") {
    YMPParams.disableAnonymousUsageIframe = false;
}
if (typeof YMPParams.build_number === "undefined") {
    YMPParams.build_number = "";
}
if (typeof YMPParams.disablerhap25 === "undefined") {
    YMPParams.disablerhap25 = false;
}
if (typeof YMPParams.playlistcount === "undefined") {
    YMPParams.playlistcount = true;
}
if (typeof YMPParams.htrackonly === "undefined") {
    YMPParams.htrackonly = false;
}
if (typeof YMPParams.playlink === "undefined") {
    YMPParams.playlink = "media-only";
}
if (typeof YMPParams.displaystate === "undefined") {
    YMPParams.displaystate = 0;
}
if (YMPParams.displaystate != -1 && YMPParams.displaystate != 0 && YMPParams.displaystate != 1 && YMPParams.displaystate != 3) {
    YMPParams.displaystate = 0;
}
if (typeof YMPParams.volume === "number") {
    if (YMPParams.volume > 1) {
        YMPParams.volume = 1;
    }
    if (YMPParams.volume < 0) {
        YMPParams.volume = 0;
    }
} else {
    if (typeof YMPParams.volume !== "undefined") {
        delete YMPParams.volume;
    }
}
if (YMPParams.amazonid == null || YMPParams.amazonid.length < 1) {
    var aMeta = document.getElementsByTagName("meta");
    if (aMeta && aMeta.length > 0) {
        var nCount = aMeta.length;
        for (var i = 0; i < nCount; i++) {
            var elMeta = aMeta[i];
            var sName = elMeta.name;
            if (typeof sName == "undefined") {
                sName = elMeta.getAttribute("name");
            }
            if (sName && sName.length > 0 && sName.toLowerCase() == "amazonid") {
                var sContent = elMeta.content;
                if (typeof sContent == "undefined") {
                    sContent = elMeta.getAttribute("content");
                }
                if (sContent.length > 0) {
                    YMPParams.amazonid = sContent;
                }
                break;
                elMeta = null;
            }
            elMeta = null;
        }
    }
}
if (typeof YMPParams.rhappcode === "undefined") {
    YMPParams.rhappcode = "yahoooffnet";
}
if (typeof YMPParams.assetsroot === "undefined") {
    YMPParams.assetsroot = ".";
}
if (typeof YMPParams.wsroot === "undefined") {
    YMPParams.wsroot = "http://mediaplayer.yahoo.com";
}
if (typeof YMPParams.defaultalbumart === "undefined") {
    YMPParams.defaultalbumart = "https://127.0.0.1:1080/Partner/Content/player/mediaplayer-default-album.gif";
}
if (typeof YMPParams.mp3onlymode === "undefined") {
    YMPParams.mp3onlymode = false;
}
YAHOO.mediaplayer.YMPParams = {};
for (var props in YMPParams) {
    YAHOO.mediaplayer.YMPParams[props] = YMPParams[props];
}
YMPParams = null;
YAHOO.namespace("YAHOO.mediaplayer");
String.prototype.trim = function () {
    return this.replace(/^\s+|\s+$/g, "");
};
Number.GUID = function () {
    var b = [];
    for (var a = 0; a < 32; a++) {
        b.push(Math.floor(Math.random() * 15).toString(15));
    }
    return b.join("");
};
Math.getRnd = function (b, a) {
    if (!isNaN(b)) {
        if (!isNaN(a)) {
            a -= b;
        } else {
            a = b, b = 0;
        }
    } else {
        b = 0, a = 100;
    }
    return Math.round(Math.random() * (a - b)) + b;
};
YAHOO.mediaplayer.Util = {
    BROWSER: "Unknown",
    BROWSER_VERSION: "Unknown",
    OS: "Unknown",
    DOCTYPE: "Unknown",
    allBrowser: [{
        string: navigator.userAgent,
        subString: "OmniWeb",
        versionSearch: "OmniWeb/",
        identity: "OmniWeb"
    }, {
        string: navigator.vendor,
        subString: "Apple",
        identity: "Safari"
    }, {
        prop: window.opera,
        identity: "Opera"
    }, {
        string: navigator.vendor,
        subString: "iCab",
        identity: "iCab"
    }, {
        string: navigator.vendor,
        subString: "KDE",
        identity: "Konqueror"
    }, {
        string: navigator.userAgent,
        subString: "Firefox",
        identity: "Firefox"
    }, {
        string: navigator.vendor,
        subString: "Camino",
        identity: "Camino"
    }, {
        string: navigator.userAgent,
        subString: "Netscape",
        identity: "Netscape"
    }, {
        string: navigator.userAgent,
        subString: "MSIE",
        identity: "MSIE",
        versionSearch: "MSIE"
    }, {
        string: navigator.userAgent,
        subString: "Gecko",
        identity: "Mozilla",
        versionSearch: "rv"
    }, {
        string: navigator.userAgent,
        subString: "Mozilla",
        identity: "Netscape",
        versionSearch: "Mozilla"
    }],
    allOS: [{
        string: navigator.platform,
        subString: "Win",
        identity: "Windows"
    }, {
        string: navigator.platform,
        subString: "Mac",
        identity: "Mac"
    }, {
        string: navigator.platform,
        subString: "Linux",
        identity: "Linux"
    }],
    convertToHexadecimal: function (d) {
        try {
            var b = [];
            for (var f = 3, a = 4278190080, c, g;
            f >= 0; f--) {
                c = Number((d & a) >>> (f * 8));
                g = c.toString(16);
                if (g.length < 2) {
                    g = "0" + g;
                }
                b.push(g);
                a >>>= 8;
            }
            return b.join("").toUpperCase();
        } catch (e) {
            return null;
        }
    },
    init: function () {
        this.getBrowserOS();
    },
    returnString: function (d) {
        for (var a = 0; a < d.length; a++) {
            var b = d[a].string;
            var c = d[a].prop;
            this.versionSearchString = d[a].versionSearch || d[a].identity;
            if (b) {
                if (b.indexOf(d[a].subString) != -1) {
                    return d[a].identity;
                }
            } else {
                if (c) {
                    return d[a].identity;
                }
            }
        }
    },
    returnVersion: function (b) {
        var a = b.indexOf(this.versionSearchString);
        if (a == -1) {
            return;
        }
        return parseFloat(b.substring(a + this.versionSearchString.length + 1));
    },
    getBrowserOS: function () {
        this.BROWSER = this.returnString(this.allBrowser) || "Unknown";
        this.BROWSER_VERSION = this.returnVersion(navigator.userAgent) || this.returnVersion(navigator.appVersion) || "Unknown";
        this.OS = this.returnString(this.allOS) || "Unknown";
        this.DOCTYPE = document.compatMode;
    },
    detectPlugin: function (d, c) {
        if (typeof window.ActiveXObject != "undefined") {
            var h = null;
            try {
                h = new ActiveXObject(c);
            } catch (g) {}
            if (h) {
                var a = c;
                h = null;
                return a;
            }
        } else {
            if (navigator && navigator.plugins && navigator.plugins.length) {
                for (var b = 0; b < navigator.plugins.length; b++) {
                    var f = navigator.plugins[b];
                    if (f.name.indexOf(d) > -1) {
                        var a = f.name;
                        f = null;
                        return a;
                    }
                    f = null;
                }
            }
        }
        return null;
    },
    sprintf: function (b, a) {
        var c = new RegExp("(.*?)(%%|%\\d+|$)(\\$[sdf])?", "g");
        retstr = "";
        while (format_arr = c.exec(b)) {
            retstr += format_arr[1];
            if (format_arr[2] == "") {
                break;
            }
            if (format_arr[2] == "%%") {
                retstr += "%";
            } else {
                retstr += a[Number(format_arr[2].substr(1)) - 1];
            }
        }
        return retstr;
    },
    isArray: function (a) {
        if (a.constructor.toString().indexOf("Array") == -1) {
            return false;
        } else {
            return true;
        }
    },
    keycodes: {
        KEY_SPACE: 32,
        KEY_LEFT: 37,
        KEY_UP: 38,
        KEY_RIGHT: 39,
        KEY_DOWN: 40,
        KEY_P: 80
    }
};
YAHOO.mediaplayer.Util.md5 = new
function () {
    this.hexcase = 0;
    this.b64pad = "";
    this.chrsz = 8;
    this.hex_md5 = function (a) {
        return this.binl2hex(this.core_md5(this.str2binl(a), a.length * this.chrsz));
    };
    this.b64_md5 = function (a) {
        return this.binl2b64(this.core_md5(this.str2binl(a), a.length * this.chrsz));
    };
    this.str_md5 = function (a) {
        return this.binl2str(this.core_md5(this.str2binl(a), a.length * this.chrsz));
    };
    this.hex_hmac_md5 = function (a, b) {
        return this.binl2hex(this.core_hmac_md5(a, b));
    };
    this.b64_hmac_md5 = function (a, b) {
        return this.binl2b64(this.core_hmac_md5(a, b));
    };
    this.str_hmac_md5 = function (a, b) {
        return this.binl2str(this.core_hmac_md5(a, b));
    };
    this.core_md5 = function (q, l) {
        q[l >> 5] |= 128 << ((l) % 32);
        q[(((l + 64) >>> 9) << 4) + 14] = l;
        var p = 1732584193;
        var o = -271733879;
        var n = -1732584194;
        var m = 271733878;
        for (var g = 0; g < q.length; g += 16) {
            var k = p;
            var h = o;
            var f = n;
            var e = m;
            p = this.md5_ff(p, o, n, m, q[g + 0], 7, -680876936);
            m = this.md5_ff(m, p, o, n, q[g + 1], 12, -389564586);
            n = this.md5_ff(n, m, p, o, q[g + 2], 17, 606105819);
            o = this.md5_ff(o, n, m, p, q[g + 3], 22, -1044525330);
            p = this.md5_ff(p, o, n, m, q[g + 4], 7, -176418897);
            m = this.md5_ff(m, p, o, n, q[g + 5], 12, 1200080426);
            n = this.md5_ff(n, m, p, o, q[g + 6], 17, -1473231341);
            o = this.md5_ff(o, n, m, p, q[g + 7], 22, -45705983);
            p = this.md5_ff(p, o, n, m, q[g + 8], 7, 1770035416);
            m = this.md5_ff(m, p, o, n, q[g + 9], 12, -1958414417);
            n = this.md5_ff(n, m, p, o, q[g + 10], 17, -42063);
            o = this.md5_ff(o, n, m, p, q[g + 11], 22, -1990404162);
            p = this.md5_ff(p, o, n, m, q[g + 12], 7, 1804603682);
            m = this.md5_ff(m, p, o, n, q[g + 13], 12, -40341101);
            n = this.md5_ff(n, m, p, o, q[g + 14], 17, -1502002290);
            o = this.md5_ff(o, n, m, p, q[g + 15], 22, 1236535329);
            p = this.md5_gg(p, o, n, m, q[g + 1], 5, -165796510);
            m = this.md5_gg(m, p, o, n, q[g + 6], 9, -1069501632);
            n = this.md5_gg(n, m, p, o, q[g + 11], 14, 643717713);
            o = this.md5_gg(o, n, m, p, q[g + 0], 20, -373897302);
            p = this.md5_gg(p, o, n, m, q[g + 5], 5, -701558691);
            m = this.md5_gg(m, p, o, n, q[g + 10], 9, 38016083);
            n = this.md5_gg(n, m, p, o, q[g + 15], 14, -660478335);
            o = this.md5_gg(o, n, m, p, q[g + 4], 20, -405537848);
            p = this.md5_gg(p, o, n, m, q[g + 9], 5, 568446438);
            m = this.md5_gg(m, p, o, n, q[g + 14], 9, -1019803690);
            n = this.md5_gg(n, m, p, o, q[g + 3], 14, -187363961);
            o = this.md5_gg(o, n, m, p, q[g + 8], 20, 1163531501);
            p = this.md5_gg(p, o, n, m, q[g + 13], 5, -1444681467);
            m = this.md5_gg(m, p, o, n, q[g + 2], 9, -51403784);
            n = this.md5_gg(n, m, p, o, q[g + 7], 14, 1735328473);
            o = this.md5_gg(o, n, m, p, q[g + 12], 20, -1926607734);
            p = this.md5_hh(p, o, n, m, q[g + 5], 4, -378558);
            m = this.md5_hh(m, p, o, n, q[g + 8], 11, -2022574463);
            n = this.md5_hh(n, m, p, o, q[g + 11], 16, 1839030562);
            o = this.md5_hh(o, n, m, p, q[g + 14], 23, -35309556);
            p = this.md5_hh(p, o, n, m, q[g + 1], 4, -1530992060);
            m = this.md5_hh(m, p, o, n, q[g + 4], 11, 1272893353);
            n = this.md5_hh(n, m, p, o, q[g + 7], 16, -155497632);
            o = this.md5_hh(o, n, m, p, q[g + 10], 23, -1094730640);
            p = this.md5_hh(p, o, n, m, q[g + 13], 4, 681279174);
            m = this.md5_hh(m, p, o, n, q[g + 0], 11, -358537222);
            n = this.md5_hh(n, m, p, o, q[g + 3], 16, -722521979);
            o = this.md5_hh(o, n, m, p, q[g + 6], 23, 76029189);
            p = this.md5_hh(p, o, n, m, q[g + 9], 4, -640364487);
            m = this.md5_hh(m, p, o, n, q[g + 12], 11, -421815835);
            n = this.md5_hh(n, m, p, o, q[g + 15], 16, 530742520);
            o = this.md5_hh(o, n, m, p, q[g + 2], 23, -995338651);
            p = this.md5_ii(p, o, n, m, q[g + 0], 6, -198630844);
            m = this.md5_ii(m, p, o, n, q[g + 7], 10, 1126891415);
            n = this.md5_ii(n, m, p, o, q[g + 14], 15, -1416354905);
            o = this.md5_ii(o, n, m, p, q[g + 5], 21, -57434055);
            p = this.md5_ii(p, o, n, m, q[g + 12], 6, 1700485571);
            m = this.md5_ii(m, p, o, n, q[g + 3], 10, -1894986606);
            n = this.md5_ii(n, m, p, o, q[g + 10], 15, -1051523);
            o = this.md5_ii(o, n, m, p, q[g + 1], 21, -2054922799);
            p = this.md5_ii(p, o, n, m, q[g + 8], 6, 1873313359);
            m = this.md5_ii(m, p, o, n, q[g + 15], 10, -30611744);
            n = this.md5_ii(n, m, p, o, q[g + 6], 15, -1560198380);
            o = this.md5_ii(o, n, m, p, q[g + 13], 21, 1309151649);
            p = this.md5_ii(p, o, n, m, q[g + 4], 6, -145523070);
            m = this.md5_ii(m, p, o, n, q[g + 11], 10, -1120210379);
            n = this.md5_ii(n, m, p, o, q[g + 2], 15, 718787259);
            o = this.md5_ii(o, n, m, p, q[g + 9], 21, -343485551);
            p = this.safe_add(p, k);
            o = this.safe_add(o, h);
            n = this.safe_add(n, f);
            m = this.safe_add(m, e);
        }
        return Array(p, o, n, m);
    };
    this.md5_cmn = function (h, e, d, c, g, f) {
        return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e, h), this.safe_add(c, f)), g), d);
    };
    this.md5_ff = function (g, f, m, l, e, k, h) {
        return this.md5_cmn((f & m) | ((~f) & l), g, f, e, k, h);
    };
    this.md5_gg = function (g, f, m, l, e, k, h) {
        return this.md5_cmn((f & l) | (m & (~l)), g, f, e, k, h);
    };
    this.md5_hh = function (g, f, m, l, e, k, h) {
        return this.md5_cmn(f ^ m ^ l, g, f, e, k, h);
    };
    this.md5_ii = function (g, f, m, l, e, k, h) {
        return this.md5_cmn(m ^ (f | (~l)), g, f, e, k, h);
    };
    this.core_hmac_md5 = function (c, f) {
        var e = this.str2binl(c);
        if (e.length > 16) {
            e = this.core_md5(e, c.length * this.chrsz);
        }
        var a = Array(16),
            d = Array(16);
        for (var b = 0; b < 16; b++) {
            a[b] = e[b] ^ 909522486;
            d[b] = e[b] ^ 1549556828;
        }
        var g = this.core_md5(a.concat(this.str2binl(f)), 512 + f.length * this.chrsz);
        return this.core_md5(d.concat(g), 512 + 128);
    };
    this.safe_add = function (a, d) {
        var c = (a & 65535) + (d & 65535);
        var b = (a >> 16) + (d >> 16) + (c >> 16);
        return (b << 16) | (c & 65535);
    };
    this.bit_rol = function (a, b) {
        return (a << b) | (a >>> (32 - b));
    };
    this.str2binl = function (d) {
        var c = Array();
        var a = (1 << this.chrsz) - 1;
        for (var b = 0; b < d.length * this.chrsz; b += this.chrsz) {
            c[b >> 5] |= (d.charCodeAt(b / this.chrsz) & a) << (b % 32);
        }
        return c;
    };
    this.binl2str = function (c) {
        var d = "";
        var a = (1 << this.chrsz) - 1;
        for (var b = 0; b < c.length * 32; b += this.chrsz) {
            d += String.fromCharCode((c[b >> 5] >>> (b % 32)) & a);
        }
        return d;
    };
    this.binl2hex = function (c) {
        var b = this.hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
        var d = "";
        for (var a = 0; a < c.length * 4; a++) {
            d += b.charAt((c[a >> 2] >> ((a % 4) * 8 + 4)) & 15) + b.charAt((c[a >> 2] >> ((a % 4) * 8)) & 15);
        }
        return d;
    };
    this.binl2b64 = function (d) {
        var c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        var f = "";
        for (var b = 0; b < d.length * 4; b += 3) {
            var e = (((d[b >> 2] >> 8 * (b % 4)) & 255) << 16) | (((d[b + 1 >> 2] >> 8 * ((b + 1) % 4)) & 255) << 8) | ((d[b + 2 >> 2] >> 8 * ((b + 2) % 4)) & 255);
            for (var a = 0; a < 4; a++) {
                if (b * 8 + a * 6 > d.length * 32) {
                    f += this.b64pad;
                } else {
                    f += c.charAt((e >> 6 * (3 - a)) & 63);
                }
            }
        }
        return f;
    };
};
YAHOO.mediaplayer.Util.setCookie = function (c, e, a) {
    var d = c + "=" + e + ";domain=" + document.domain + ";path=/;expires=";
    if (!a) {
        a = 12;
    }
    var b = new Date();
    b.setMonth(b.getMonth() + 12);
    d += b.toGMTString();
    document.cookie = d;
};
YAHOO.mediaplayer.Util.inArray = function (c, a) {
    for (var b = 0; b < a.length; b++) {
        if (a[b] == c) {
            return true;
        }
    }
    return false;
};
YAHOO.mediaplayer.Util.init();
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.EventDelegate = new
function () {
    this.evDelFn = {};
    this.on = function (g, l, k, h, f, c) {
        if (typeof(h) !== "function") {
            return;
        }
        if (this.evDelFn[l] == null) {
            this.evDelFn[l] = {};
        }
        if (this.evDelFn[l][g] == null) {
            this.evDelFn[l][g] = [];
        }
        k = YAHOO.ympyui.util.Dom.get(k);
        this.evDelFn[l][g].push([h, f, c, k]);
        var b = false;
        var a = YAHOO.ympyui.util.Event.getListeners(k, l);
        if (a != null) {
            for (var e = 0, d = a.length; e < d; e++) {
                if (a[e].fn === this.handleEventDelegation) {
                    b = true;
                }
            }
        }
        if (!b) {
            YAHOO.ympyui.util.Event.addListener(k, l, this.handleEventDelegation, [this, k]);
        }
    };
    this.removeListener = function (e, b, f, d) {
        if (this.evDelFn[f] != null && this.evDelFn[f][e] != null) {
            var a = this.evDelFn[f][e];
            b = YAHOO.ympyui.util.Dom.get(b);
            for (var c = 0; c < a.length; c++) {
                if (b != null && a[c][3] != b) {
                    continue;
                }
                if (d != null && a[c][0] != d) {
                    continue;
                }
                a.splice(c, 1);
                c--;
            }
        }
    };
    this.handleEventDelegation = function (h, d) {
        var b = YAHOO.ympyui.util.Event.getTarget(h);
        while (b != d[1]) {
            for (var g in d[0].evDelFn[h.type]) {
                if (YAHOO.ympyui.util.Dom.hasClass(b, g)) {
                    var f = d[0].evDelFn[h.type][g];
                    for (var e = 0; e < f.length; e++) {
                        if (this == f[e][3]) {
                            var k = b;
                            var a = f[e][2];
                            var c = f[e][1];
                            if (a) {
                                if (a === true) {
                                    k = c;
                                }
                            }
                            f[e][0].call(k, YAHOO.ympyui.util.Event.getEvent(h), c);
                        }
                    }
                    return;
                }
            }
            b = b.parentNode;
        }
    };
};
YAHOO.namespace("YAHOO.mediaplayer");
/*	SWFObject v2.0 <http://code.google.com/p/swfobject/>
	Copyright (c) 2007 Geoff Stearns, Michael Williams, and Bobby van der Sluis
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
YAHOO.mediaplayer.SWFObject = function () {
    var UNDEF = "undefined",
        OBJECT = "object",
        SHOCKWAVE_FLASH = "Shockwave Flash",
        SHOCKWAVE_FLASH_AX = "ShockwaveFlash.ShockwaveFlash",
        FLASH_MIME_TYPE = "application/x-shockwave-flash",
        EXPRESS_INSTALL_ID = "SWFObjectExprInst",
        win = window,
        doc = document,
        nav = navigator,
        domLoadFnArr = [],
        regObjArr = [],
        timer = null,
        storedAltContent = null,
        storedAltContentId = null,
        isDomLoaded = false,
        isExpressInstallActive = false;
    var ua = function () {
        var w3cdom = typeof doc.getElementById != UNDEF && typeof doc.getElementsByTagName != UNDEF && typeof doc.createElement != UNDEF && typeof doc.appendChild != UNDEF && typeof doc.replaceChild != UNDEF && typeof doc.removeChild != UNDEF && typeof doc.cloneNode != UNDEF,
            playerVersion = [0, 0, 0],
            d = null;
        if (typeof nav.plugins != UNDEF && typeof nav.plugins[SHOCKWAVE_FLASH] == OBJECT) {
            d = nav.plugins[SHOCKWAVE_FLASH].description;
            if (d) {
                d = d.replace(/^.*\s+(\S+\s+\S+$)/, "$1");
                playerVersion[0] = parseInt(d.replace(/^(.*)\..*$/, "$1"), 10);
                playerVersion[1] = parseInt(d.replace(/^.*\.(.*)\s.*$/, "$1"), 10);
                playerVersion[2] = /r/.test(d) ? parseInt(d.replace(/^.*r(.*)$/, "$1"), 10) : 0;
            }
        } else {
            if (typeof win.ActiveXObject != UNDEF) {
                var a = null,
                    fp6Crash = false;
                try {
                    a = new ActiveXObject(SHOCKWAVE_FLASH_AX + ".7");
                } catch (e) {
                    try {
                        a = new ActiveXObject(SHOCKWAVE_FLASH_AX + ".6");
                        playerVersion = [6, 0, 21];
                        a.AllowScriptAccess = "always";
                    } catch (e) {
                        if (playerVersion[0] == 6) {
                            fp6Crash = true;
                        }
                    }
                    if (!fp6Crash) {
                        try {
                            a = new ActiveXObject(SHOCKWAVE_FLASH_AX);
                        } catch (e) {}
                    }
                }
                if (!fp6Crash && a) {
                    try {
                        d = a.GetVariable("$version");
                        if (d) {
                            d = d.split(" ")[1].split(",");
                            playerVersion = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];
                        }
                    } catch (e) {}
                }
            }
        }
        var u = nav.userAgent.toLowerCase(),
            p = nav.platform.toLowerCase(),
            av = navigator.appVersion.toLowerCase(),
            webkit = /webkit/.test(u) ? parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1")) : false,
            ie = u ? /msie/.test(u) : /msie/.test(av),
            windows = p ? /win/.test(p) : /win/.test(u),
            mac = p ? /mac/.test(p) : /mac/.test(u);
/*@cc_on
			ie = true;
			@if (@_win32)
				windows = true;
			@elif (@_mac)
				mac = true;
			@end
		@*/
        return {
            w3cdom: w3cdom,
            pv: playerVersion,
            webkit: webkit,
            ie: ie,
            win: windows,
            mac: mac
        };
    }();
    var onDomLoad = function () {
        if (!ua.w3cdom) {
            return;
        }
        addDomLoadEvent(main);
        if (ua.ie && ua.win) {
            try {
                doc.write("<scr" + "ipt id=__ie_ondomload defer=true src=//:></scr" + "ipt>");
                var s = getElementById("__ie_ondomload");
                if (s) {
                    s.onreadystatechange = function () {
                        if (this.readyState == "complete") {
                            this.parentNode.removeChild(this);
                            callDomLoadFunctions();
                        }
                    };
                }
            } catch (e) {}
        }
        if (ua.webkit && typeof doc.readyState != UNDEF) {
            timer = setInterval(function () {
                if (/loaded|complete/.test(doc.readyState)) {
                    callDomLoadFunctions();
                }
            }, 10);
        }
        if (typeof doc.addEventListener != UNDEF) {
            doc.addEventListener("DOMContentLoaded", callDomLoadFunctions, null);
        }
        addLoadEvent(callDomLoadFunctions);
    }();

    function callDomLoadFunctions() {
        if (isDomLoaded) {
            return;
        }
        if (ua.ie && ua.win) {
            var s = createElement("span");
            try {
                var t = doc.getElementsByTagName("body")[0].appendChild(s);
                t.parentNode.removeChild(t);
            } catch (e) {
                return;
            }
        }
        isDomLoaded = true;
        if (timer) {
            clearInterval(timer);
            timer = null;
        }
        var dl = domLoadFnArr.length;
        for (var i = 0; i < dl; i++) {
            domLoadFnArr[i]();
        }
    }
    function addDomLoadEvent(fn) {
        if (isDomLoaded) {
            fn();
        } else {
            domLoadFnArr[domLoadFnArr.length] = fn;
        }
    }
    function addLoadEvent(fn) {
        if (typeof win.addEventListener != UNDEF) {
            win.addEventListener("load", fn, false);
        } else {
            if (typeof doc.addEventListener != UNDEF) {
                doc.addEventListener("load", fn, false);
            } else {
                if (typeof win.attachEvent != UNDEF) {
                    win.attachEvent("onload", fn);
                } else {
                    if (typeof win.onload == "function") {
                        var fnOld = win.onload;
                        win.onload = function () {
                            fnOld();
                            fn();
                        };
                    } else {
                        win.onload = fn;
                    }
                }
            }
        }
    }
    function main() {
        var rl = regObjArr.length;
        for (var i = 0; i < rl; i++) {
            var id = regObjArr[i].id;
            if (ua.pv[0] > 0) {
                var obj = getElementById(id);
                if (obj) {
                    regObjArr[i].width = obj.getAttribute("width") ? obj.getAttribute("width") : "0";
                    regObjArr[i].height = obj.getAttribute("height") ? obj.getAttribute("height") : "0";
                    if (hasPlayerVersion(regObjArr[i].swfVersion)) {
                        if (ua.webkit && ua.webkit < 312) {
                            fixParams(obj);
                        }
                        setVisibility(id, true);
                    } else {
                        if (regObjArr[i].expressInstall && !isExpressInstallActive && hasPlayerVersion("6.0.65") && (ua.win || ua.mac)) {
                            showExpressInstall(regObjArr[i]);
                        } else {
                            displayAltContent(obj);
                        }
                    }
                }
            } else {
                setVisibility(id, true);
            }
        }
    }
    function fixParams(obj) {
        var nestedObj = obj.getElementsByTagName(OBJECT)[0];
        if (nestedObj) {
            var e = createElement("embed"),
                a = nestedObj.attributes;
            if (a) {
                var al = a.length;
                for (var i = 0; i < al; i++) {
                    if (a[i].nodeName.toLowerCase() == "data") {
                        e.setAttribute("src", a[i].nodeValue);
                    } else {
                        e.setAttribute(a[i].nodeName, a[i].nodeValue);
                    }
                }
            }
            var c = nestedObj.childNodes;
            if (c) {
                var cl = c.length;
                for (var j = 0; j < cl; j++) {
                    if (c[j].nodeType == 1 && c[j].nodeName.toLowerCase() == "param") {
                        e.setAttribute(c[j].getAttribute("name"), c[j].getAttribute("value"));
                    }
                }
            }
            obj.parentNode.replaceChild(e, obj);
        }
    }
    function fixObjectLeaks(id) {
        if (ua.ie && ua.win && hasPlayerVersion("8.0.0")) {
            win.attachEvent("onunload", function () {
                var obj = getElementById(id);
                if (obj) {
                    for (var i in obj) {
                        if (typeof obj[i] == "function") {
                            obj[i] = function () {};
                        }
                    }
                    obj.parentNode.removeChild(obj);
                }
            });
        }
    }
    function showExpressInstall(regObj) {
        isExpressInstallActive = true;
        var obj = getElementById(regObj.id);
        if (obj) {
            if (regObj.altContentId) {
                var ac = getElementById(regObj.altContentId);
                if (ac) {
                    storedAltContent = ac;
                    storedAltContentId = regObj.altContentId;
                }
            } else {
                storedAltContent = abstractAltContent(obj);
            }
            if (!(/%$/.test(regObj.width)) && parseInt(regObj.width, 10) < 310) {
                regObj.width = "310";
            }
            if (!(/%$/.test(regObj.height)) && parseInt(regObj.height, 10) < 137) {
                regObj.height = "137";
            }
            doc.title = doc.title.slice(0, 47) + " - Flash Player Installation";
            var pt = ua.ie && ua.win ? "ActiveX" : "PlugIn",
                dt = doc.title,
                fv = "MMredirectURL=" + win.location + "&MMplayerType=" + pt + "&MMdoctitle=" + dt,
                replaceId = regObj.id;
            if (ua.ie && ua.win && obj.readyState != 4) {
                var newObj = createElement("div");
                replaceId += "SWFObjectNew";
                newObj.setAttribute("id", replaceId);
                obj.parentNode.insertBefore(newObj, obj);
                obj.style.display = "none";
                win.attachEvent("onload", function () {
                    obj.parentNode.removeChild(obj);
                });
            }
            createSWF({
                data: regObj.expressInstall,
                id: EXPRESS_INSTALL_ID,
                width: regObj.width,
                height: regObj.height
            }, {
                flashvars: fv
            }, replaceId);
        }
    }
    function displayAltContent(obj) {
        if (ua.ie && ua.win && obj.readyState != 4) {
            var el = createElement("div");
            obj.parentNode.insertBefore(el, obj);
            el.parentNode.replaceChild(abstractAltContent(obj), el);
            obj.style.display = "none";
            win.attachEvent("onload", function () {
                obj.parentNode.removeChild(obj);
            });
        } else {
            obj.parentNode.replaceChild(abstractAltContent(obj), obj);
        }
    }
    function abstractAltContent(obj) {
        var ac = createElement("div");
        if (ua.win && ua.ie) {
            ac.innerHTML = obj.innerHTML;
        } else {
            var nestedObj = obj.getElementsByTagName(OBJECT)[0];
            if (nestedObj) {
                var c = nestedObj.childNodes;
                if (c) {
                    var cl = c.length;
                    for (var i = 0; i < cl; i++) {
                        if (!(c[i].nodeType == 1 && c[i].nodeName.toLowerCase() == "param") && !(c[i].nodeType == 8)) {
                            ac.appendChild(c[i].cloneNode(true));
                        }
                    }
                }
            }
        }
        return ac;
    }
    function createSWF(attObj, parObj, id) {
        var r, el = getElementById(id);
        if (typeof attObj.id == UNDEF) {
            attObj.id = id;
        }
        if (ua.ie && ua.win) {
            var att = "";
            for (var i in attObj) {
                if (attObj[i] != Object.prototype[i]) {
                    if (i == "data") {
                        parObj.movie = attObj[i];
                    } else {
                        if (i.toLowerCase() == "styleclass") {
                            att += ' class="' + attObj[i] + '"';
                        } else {
                            if (i != "classid") {
                                att += " " + i + '="' + attObj[i] + '"';
                            }
                        }
                    }
                }
            }
            var par = "";
            for (var j in parObj) {
                if (parObj[j] != Object.prototype[j]) {
                    par += '<param name="' + j + '" value="' + parObj[j] + '" />';
                }
            }
            el.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + att + ">" + par + "</object>";
            fixObjectLeaks(attObj.id);
            r = getElementById(attObj.id);
        } else {
            if (ua.webkit && ua.webkit < 312) {
                var e = createElement("embed");
                e.setAttribute("type", FLASH_MIME_TYPE);
                for (var k in attObj) {
                    if (attObj[k] != Object.prototype[k]) {
                        if (k == "data") {
                            e.setAttribute("src", attObj[k]);
                        } else {
                            if (k.toLowerCase() == "styleclass") {
                                e.setAttribute("class", attObj[k]);
                            } else {
                                if (k != "classid") {
                                    e.setAttribute(k, attObj[k]);
                                }
                            }
                        }
                    }
                }
                for (var l in parObj) {
                    if (parObj[l] != Object.prototype[l]) {
                        if (l != "movie") {
                            e.setAttribute(l, parObj[l]);
                        }
                    }
                }
                el.parentNode.replaceChild(e, el);
                r = e;
            } else {
                var o = createElement(OBJECT);
                o.setAttribute("type", FLASH_MIME_TYPE);
                for (var m in attObj) {
                    if (attObj[m] != Object.prototype[m]) {
                        if (m.toLowerCase() == "styleclass") {
                            o.setAttribute("class", attObj[m]);
                        } else {
                            if (m != "classid") {
                                o.setAttribute(m, attObj[m]);
                            }
                        }
                    }
                }
                for (var n in parObj) {
                    if (parObj[n] != Object.prototype[n] && n != "movie") {
                        createObjParam(o, n, parObj[n]);
                    }
                }
                el.parentNode.replaceChild(o, el);
                r = o;
            }
        }
        return r;
    }
    function createObjParam(el, pName, pValue) {
        var p = createElement("param");
        p.setAttribute("name", pName);
        p.setAttribute("value", pValue);
        el.appendChild(p);
    }
    function getElementById(id) {
        return doc.getElementById(id);
    }
    function createElement(el) {
        return doc.createElement(el);
    }
    function hasPlayerVersion(rv) {
        var pv = ua.pv,
            v = rv.split(".");
        v[0] = parseInt(v[0], 10);
        v[1] = parseInt(v[1], 10);
        v[2] = parseInt(v[2], 10);
        return (pv[0] > v[0] || (pv[0] == v[0] && pv[1] > v[1]) || (pv[0] == v[0] && pv[1] == v[1] && pv[2] >= v[2])) ? true : false;
    }
    function createCSS(sel, decl) {
        if (ua.ie && ua.mac) {
            return;
        }
        var h = doc.getElementsByTagName("head")[0],
            s = createElement("style");
        s.setAttribute("type", "text/css");
        s.setAttribute("media", "screen");
        if (!(ua.ie && ua.win) && typeof doc.createTextNode != UNDEF) {
            s.appendChild(doc.createTextNode(sel + " {" + decl + "}"));
        }
        h.appendChild(s);
        if (ua.ie && ua.win && typeof doc.styleSheets != UNDEF && doc.styleSheets.length > 0) {
            var ls = doc.styleSheets[doc.styleSheets.length - 1];
            if (typeof ls.addRule == OBJECT) {
                ls.addRule(sel, decl);
            }
        }
    }
    function setVisibility(id, isVisible) {
        var v = isVisible ? "visible" : "hidden";
        if (isDomLoaded) {
            document.getElementById(id).style.visibility = v;
        } else {
            createCSS("#" + id, "visibility:" + v);
        }
    }
    return {
        registerObject: function (objectIdStr, swfVersionStr, xiSwfUrlStr) {
            if (!ua.w3cdom || !objectIdStr || !swfVersionStr) {
                return;
            }
            var regObj = {};
            regObj.id = objectIdStr;
            regObj.swfVersion = swfVersionStr;
            regObj.expressInstall = xiSwfUrlStr ? xiSwfUrlStr : false;
            regObjArr[regObjArr.length] = regObj;
            setVisibility(objectIdStr, false);
        },
        getObjectById: function (objectIdStr) {
            var r = null;
            if (ua.w3cdom && isDomLoaded) {
                var o = getElementById(objectIdStr);
                if (o) {
                    var n = o.getElementsByTagName(OBJECT)[0];
                    if (!n || (n && typeof o.SetVariable != UNDEF)) {
                        r = o;
                    } else {
                        if (typeof n.SetVariable != UNDEF) {
                            r = n;
                        }
                    }
                }
            }
            return r;
        },
        embedSWF: function (swfUrlStr, replaceElemIdStr, widthStr, heightStr, swfVersionStr, xiSwfUrlStr, flashvarsObj, parObj, attObj) {
            if (!ua.w3cdom || !swfUrlStr || !replaceElemIdStr || !widthStr || !heightStr || !swfVersionStr) {
                return;
            }
            widthStr += "";
            heightStr += "";
            if (hasPlayerVersion(swfVersionStr)) {
                setVisibility(replaceElemIdStr, false);
                var att = (typeof attObj == OBJECT) ? attObj : {};
                att.data = swfUrlStr;
                att.width = widthStr;
                att.height = heightStr;
                var par = (typeof parObj == OBJECT) ? parObj : {};
                if (typeof flashvarsObj == OBJECT) {
                    for (var i in flashvarsObj) {
                        if (flashvarsObj[i] != Object.prototype[i]) {
                            if (typeof par.flashvars != UNDEF) {
                                par.flashvars += "&" + i + "=" + flashvarsObj[i];
                            } else {
                                par.flashvars = i + "=" + flashvarsObj[i];
                            }
                        }
                    }
                }
                createSWF(att, par, replaceElemIdStr);
                if (att.id == replaceElemIdStr) {
                    setVisibility(replaceElemIdStr, true);
                }
            } else {
                if (xiSwfUrlStr && !isExpressInstallActive && hasPlayerVersion("6.0.65") && (ua.win || ua.mac)) {
                    setVisibility(replaceElemIdStr, false);
                    var regObj = {};
                    regObj.id = regObj.altContentId = replaceElemIdStr;
                    regObj.width = widthStr;
                    regObj.height = heightStr;
                    regObj.expressInstall = xiSwfUrlStr;
                    showExpressInstall(regObj);
                }
            }
        },
        getFlashPlayerVersion: function () {
            return {
                major: ua.pv[0],
                minor: ua.pv[1],
                release: ua.pv[2]
            };
        },
        hasFlashPlayerVersion: hasPlayerVersion,
        createSWF: function (attObj, parObj, replaceElemIdStr) {
            if (ua.w3cdom && isDomLoaded) {
                return createSWF(attObj, parObj, replaceElemIdStr);
            } else {
                return undefined;
            }
        },
        createCSS: function (sel, decl) {
            if (ua.w3cdom) {
                createCSS(sel, decl);
            }
        },
        addDomLoadEvent: addDomLoadEvent,
        addLoadEvent: addLoadEvent,
        getQueryParamValue: function (param) {
            var q = doc.location.search || doc.location.hash;
            if (param == null) {
                return q;
            }
            if (q) {
                var pairs = q.substring(1).split("&");
                for (var i = 0; i < pairs.length; i++) {
                    if (pairs[i].substring(0, pairs[i].indexOf("=")) == param) {
                        return pairs[i].substring((pairs[i].indexOf("=") + 1));
                    }
                }
            }
            return "";
        },
        expressInstallCallback: function () {
            if (isExpressInstallActive && storedAltContent) {
                var obj = getElementById(EXPRESS_INSTALL_ID);
                if (obj) {
                    obj.parentNode.replaceChild(storedAltContent, obj);
                    if (storedAltContentId) {
                        setVisibility(storedAltContentId, true);
                        if (ua.ie && ua.win) {
                            storedAltContent.style.display = "block";
                        }
                    }
                    storedAltContent = null;
                    storedAltContentId = null;
                    isExpressInstallActive = false;
                }
            }
        },
        getSWF: function (name) {
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "MSIE":
                return window[name];
            default:
                if (document[name] != null && document[name].length != undefined) {
                    return document[name][1];
                } else {
                    return document[name];
                }
            }
        },
        hasPlayerVersion: hasPlayerVersion
    };
}();
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.SWFProxy = new
function () {
    this.map = {};
    this.magicNumber = 0;
    this.id = "swfproxy";
    this.available = false;
    this.ready = false;
    this.queue = [];
    this.flashTimeoutID = null;
    this.timeout = 30000;
    this.init = function () {
        var b = document.createElement("span");
        b.id = "dummy-swfproxy";
        document.body.appendChild(b);
        try {
            if (YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")) {
                var f = {
                    onLoad: "YAHOO.mediaplayer.SWFProxy.onLoad",
                    rhappcode: YAHOO.mediaplayer.YMPParams.rhappcode
                };
                var d = {
                    allowScriptAccess: "always",
                    allowNetworking: "all"
                };
                var a = {
                    id: this.id,
                    name: this.id,
                    style: "position:absolute; top:0; left:-30px;"
                };
                YAHOO.mediaplayer.SWFObject.embedSWF("https://127.0.0.1:1080/Partner/Content/player/swfproxy.swf", b.id, "1", "1", "9.0.0", false, f, d, a);
                this.available = true;
            }
        } catch (c) {}
    };
    this.onLoad = function () {
        this.ready = true;
        YAHOO.mediaplayer.SWFObject.getSWF(this.id).flAddListener("Success", "YAHOO.mediaplayer.SWFProxy.successHandler");
        YAHOO.mediaplayer.SWFObject.getSWF(this.id).flAddListener("Failure", "YAHOO.mediaplayer.SWFProxy.failureHandler");
        for (var b = 0, a = this.queue.length; b < a; b++) {
            this.queue[b].args.callee.apply(this, this.queue[b].args);
        }
    };
    this.getPlayThisPage = function (a, c) {
        if (this.ready) {
            if (c.scope == null) {
                c.scope = window;
            }
            if (c.timeout == null) {
                c.timeout = this.timeout;
            }
            var b = this.magicNumber++;
            YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetPlayThisPage(b, a, c.timeout);
            this.map[b] = c;
        } else {
            this.addToQueue(c, arguments);
        }
    };
    this.getRhapStatus = function (b) {
        if (this.ready) {
            if (b.scope == null) {
                b.scope = window;
            }
            if (b.timeout == null) {
                b.timeout = this.timeout;
            }
            var a = this.magicNumber++;
            YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetRhapStatus(a);
            this.map[a] = b;
        } else {
            this.addToQueue(b, arguments);
        }
    };
    this.getMetadata = function (b, e, a, c) {
        if (this.ready) {
            if (e.scope == null) {
                e.scope = window;
            }
            if (e.timeout == null) {
                e.timeout = this.timeout;
            }
            var d = this.magicNumber++;
            if (c !== "rhapsody") {
                YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetWsapiMetadata(d, b, 3000, a);
            } else {
                YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetRhapMetadata(d, b, 4000);
            }
            this.map[d] = e;
        } else {
            this.addToQueue(e, arguments);
        }
    };
    this.getRhapMetadata = function (a, c) {
        if (this.ready) {
            if (c.scope == null) {
                c.scope = window;
            }
            if (c.timeout == null) {
                c.timeout = this.timeout;
            }
            var b = this.magicNumber++;
            YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetRhapMetadata(b, a, c.timeout);
            this.map[b] = c;
        } else {
            this.addToQueue(c, arguments);
        }
    };
    this.getYahooMovieTrailers = function (a, c) {
        if (this.ready) {
            if (c.scope == null) {
                c.scope = window;
            }
            if (c.timeout == null) {
                c.timeout = this.timeout;
            }
            var b = this.magicNumber++;
            YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetYahooMovieTrailers(b, a, c.timeout);
            this.map[b] = c;
        } else {
            this.addToQueue(c, arguments);
        }
    };
    this.searchYouTubeVideos = function (b, a, d) {
        if (this.ready) {
            if (d.scope == null) {
                d.scope = window;
            }
            if (d.timeout == null) {
                d.timeout = this.timeout;
            }
            var c = this.magicNumber++;
            YAHOO.mediaplayer.SWFObject.getSWF(this.id).flSearchYouTubeVideos(c, b, a, d.timeout);
            this.map[c] = d;
        } else {
            this.addToQueue(d, arguments);
        }
    };
    this.addToQueue = function (b, a) {
        this.queue.push({
            "callback": b,
            "args": a
        });
        if (this.flashTimeoutID == null) {
            this.flashTimeoutID = window.setTimeout("YAHOO.mediaplayer.SWFProxy.checkFlashLoaded()", 5000);
        }
    };
    this.checkFlashLoaded = function () {
        if (!this.ready) {
            var d, f, e, a, g;
            for (var c = 0, b = this.queue.length; c < b; c++) {
                d = this.queue[c].callback;
                if (d.scope == null) {
                    d.scope = window;
                }
                f = d.failure;
                e = d.scope;
                a = d.argument;
                g = {
                    status: "Flash proxy failed to load",
                    argument: a
                };
                f.call(e, g);
            }
            this.queue = [];
        }
    };
    this.successHandler = function (f, a) {
        var d = this.map[f].success;
        var c = this.map[f].scope;
        var b = this.map[f].argument;
        var e = {
            responseText: a,
            argument: b
        };
        d.call(c, e);
    };
    this.failureHandler = function (f, d) {
        var c = this.map[f].failure;
        var b = this.map[f].scope;
        var a = this.map[f].argument;
        var e = {
            status: d,
            argument: a
        };
        c.call(b, e);
    };
};
YAHOO.mediaplayer.SWFProxy.init();
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Closure = {
    objects: [],
    functions: [],
    closures: {}
};
Function.prototype.closure = function (e) {
    try {
        if (typeof(e) === "undefined") {
            throw new Error('Invalid argument exception. "obj" is undefined.');
        }
        var d = this;
        var b = e.__objId;
        if (typeof(b) !== "number") {
            b = e.__objId = YAHOO.mediaplayer.Closure.objects.length;
            YAHOO.mediaplayer.Closure.objects[b] = e;
        }
        var f = d.__funcId;
        if (typeof(f) !== "number") {
            f = d.__funcId = YAHOO.mediaplayer.Closure.functions.length;
            YAHOO.mediaplayer.Closure.functions[f] = d;
        }
        var c = b + "_" + f;
        var g = YAHOO.mediaplayer.Closure.closures[c];
        if (typeof(g) !== "function") {
            g = YAHOO.mediaplayer.Closure.closures[c] = function () {
                return YAHOO.mediaplayer.Closure.functions[f].apply(YAHOO.mediaplayer.Closure.objects[b], arguments);
            };
        }
        return g;
    } catch (a) {
        throw new Error("ERROR in Function.closure(). " + a.message);
    }
};
YAHOO.ympyui.util.Event.addListener(window, "unload", function () {
    try {
        window.setTimeout("YAHOO.mediaplayer.Closure = Function.prototype.closure = null", 500);
    } catch (a) {}
    if (window.CollectGarbage) {
        window.CollectGarbage();
    }
});
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.EventManager = function (a, b) {
    this.getOwner = function () {
        return this;
    }.closure(a);
    this.toString = function () {
        return this + ".EventManager";
    }.closure(a);
    this.events = [];
    if (b && b.constructor === Array) {
        this.addEvents(b);
    }
};
YAHOO.mediaplayer.EventManager.prototype.addEvents = function (d) {
    try {
        if (!d || d.constructor !== Array) {
            throw new Error('Invalid argument exception. "eventTypes" is not an array.');
        }
        for (var b = 0, a = d.length; b < a; b++) {
            this.addEvent(d[b]);
        }
    } catch (c) {
        throw new Error("ERROR in " + this + ".addEvents(). " + c.message);
    }
};
YAHOO.mediaplayer.EventManager.prototype.addEvent = function (b) {
    try {
        if (typeof(b) !== "string" || b.length === 0) {
            throw new Error('Invalid argument exception. "eventType":' + b + " is not a valid string or is empty.");
        }
        if (!this[b]) {
            this.events.push(b);
            this[b] = new YAHOO.ympyui.util.CustomEvent(b, this);
        }
    } catch (a) {
        throw new Error("ERROR in " + this + ".addEvent(). " + a.message);
    }
};
YAHOO.mediaplayer.EventManager.prototype.subscribe = function (f, e) {
    try {
        if (!f || typeof(f.handleEvent) !== "function") {
            throw new Error('Invalid argument exception. "obj" is not a valid object.');
        }
        if (!e || e.constructor !== Array) {
            throw new Error('Invalid argument exception. "eventTypes" is not an array.');
        }
        for (var b = 0, a = e.length, d; b < a; b++) {
            d = e[b];
            if (!this[d]) {
                this[d] = new YAHOO.ympyui.util.CustomEvent(d, this);
            }
            this[d].subscribe(f.handleEvent, f, true);
        }
    } catch (c) {
        throw new Error("ERROR in " + this + ".subscribe(). " + c.message);
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.ControllerBase = function ControllerBase() {
    this.EventManager = new YAHOO.mediaplayer.EventManager(this);
};
YAHOO.mediaplayer.ControllerBase.prototype.toString = function () {
    return "YAHOO.mediaplayer.ControllerBase";
};
YAHOO.mediaplayer.ControllerBase.prototype.handleEvent = function handleEvent(c, a) {
    try {
        if (typeof(this[c]) === "function") {
            this[c](a[0]);
        } else {
            if (this.EventManager[c]) {
                this.EventManager[c].fire(a[0]);
            }
        }
    } catch (b) {
        throw new Error("ERROR in " + this + '.handleEvent(evType:"' + c + '"). ' + b.message);
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.BaseObject = function BaseObject(a, c) {
    try {
        if (typeof(this.refByName) !== "string" || this.refByName.length === 0) {
            throw new Error('Invalid required property exception. this.refByName:"' + this.refByName + '" is invalid.');
        }
        YAHOO.mediaplayer.BaseObject.superclass.constructor.call(this);
        this.getController = function () {
            return this;
        }.closure(a);
        if (!this.EventManager || this.EventManager.constructor !== YAHOO.mediaplayer.EventManager) {
            throw new Error("Invalid required property exception. this.EventManager is invalid.");
        }
        if (c && c.constructor === Array && c.length > 0) {
            a.EventManager.subscribe(this, c);
        }
    } catch (b) {
        throw new Error("ERROR in " + this + " constructor. " + b.message);
    }
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.BaseObject, YAHOO.mediaplayer.ControllerBase);
YAHOO.mediaplayer.BaseObject.prototype.toString = function () {
    return "YAHOO.mediaplayer.BaseObject";
};
YAHOO.mediaplayer.BaseObject.prototype.initController = function (c) {
    try {
        if (typeof(this.refByName) !== "string" || this.refByName.length < 0) {
            throw new Error('Invalid required property exception. this.refByName:"' + this.refByName + '" is invalid.');
        }
        if (!this.EventManager || this.EventManager.constructor !== YAHOO.mediaplayer.EventManager) {
            throw new Error("Invalid required property exception. this.EventManager is invalid.");
        }
        c[this.refByName] = this;
        this.EventManager.subscribe(c, this.EventManager.events);
        for (var b = 0, a = this.EventManager.events.length, e; b < a; b++) {
            e = this.EventManager.events[b];
            if (!c.EventManager[e]) {
                c.EventManager.addEvent(e);
            }
        }
    } catch (d) {
        throw new Error("ERROR in " + this + ".initController(). " + d.message);
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Controller = function () {
    YAHOO.mediaplayer.Controller.superclass.constructor.call(this, arguments);
    this.isInitialState = true;
    this.errorCount = 0;
    this.maxErrors = 5;
    this.amgStickwallShown = false;
    YAHOO.ympyui.util.Event.on(window, "unload", this.onWindowUnload, this, true);
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Controller, YAHOO.mediaplayer.ControllerBase);
YAHOO.mediaplayer.Controller.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller";
};
YAHOO.mediaplayer.Controller.prototype.init = function () {
    new YAHOO.mediaplayer.Parser(this);
    new YAHOO.mediaplayer.PlaylistManager(this);
    new YAHOO.mediaplayer.MediaResolver(this);
    new YAHOO.mediaplayer.MediaEngine(this);
    new YAHOO.mediaplayer.AnonymousUsage(this);
    if (YAHOO.mediaplayer.YMPParams.logging === true) {
        new YAHOO.mediaplayer.Logger(this);
    }
    if (YAHOO.mediaplayer.YMPParams.mp3onlymode === true) {
        YAHOO.mediaplayer.YMPParams.displaystate = YAHOO.mediaplayer.View.DisplayState.NOUI;
    }
    if (YAHOO.mediaplayer.Rhapsody != null) {
        new YAHOO.mediaplayer.Rhapsody(this);
    }
    if (YAHOO.mediaplayer.YMPParams.playlistcount === false) {
        YAHOO.mediaplayer.DisplayStrings.ui.PLAYLIST_TAB = YAHOO.mediaplayer.DisplayStrings.ui.PLAYLIST_TAB.replace(" (%1)", "");
    }
    YAHOO.MediaPlayer.init();
    var a = null;
    this.parse();
};
YAHOO.mediaplayer.Controller.prototype.parse = function () {
    var a = null;
    if (YAHOO.mediaplayer.YMPParams.parse === true) {
        a = this.parser.parse(null);
        if (a && typeof(a.length) === "number" && a.length > 0) {
            this.playlistmanager.add(a);
        }
    }
};
YAHOO.mediaplayer.Controller.prototype.onPlaylistUpdate = function (a) {
    if (a != null && !(a instanceof YAHOO.mediaplayer.Playlist) && a.length > 0) {
        if (typeof this.view === "undefined") {
            this.EventManager.onUsageInit.fire();
            new YAHOO.mediaplayer.View(this);
            new YAHOO.mediaplayer.TrackSeek(this);
        }
    }
    this.EventManager.onPlaylistUpdate.fire(a);
};
YAHOO.mediaplayer.Controller.prototype.onPlayStateChange = function (c) {
    var b = c.media;
    if (this.errorCount > 0 && c.newState === YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING) {
        this.errorCount = 0;
    }
    if (c.newState == YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING) {
        if (b.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.rhapsody) {
            if (c.oldState != YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED && this.rhapsody.timeForStickwall()) {
                this.view.showRhapsodyStickwall();
                window.setTimeout("YAHOO.mediaplayer.Controller.mediaengine.stop()", 200);
                c.logging = false;
            }
            b.bIsSample = this.isThirtySecondSample();
        }
        if (true === b.bIsSample) {
            var a = new YAHOO.mediaplayer.Error("24", {
                displayMessageArgs: [""]
            });
            a.media = b;
            this.EventManager.onError.fire(a);
        }
    }
    this.EventManager.onPlayStateChange.fire(c);
};
YAHOO.mediaplayer.Controller.prototype.onPlayRequest = function (c) {
    this.view.hideStickwall();
    var b = c.media ? c.media : this.playlistmanager.getCurrentMedia();
    var a = (typeof c["TRIGGER_TYPE"] == "undefined") ? "unknown" : c["TRIGGER_TYPE"];
    this.lastTriggerType = a;
    if (this.wasPlayUserInitiated()) {
        this.errorCount = 0;
    }
    if (a != "SEEK") {
        if (this.view.firstPlay) {
            this.EventManager.onUsageAction.fire(["FIRST_PLAY", b,
            {
                "TRIGGER_TYPE": a
            }]);
        }
        this.EventManager.onUsageAction.fire(["PLAY", b,
        {
            "TRIGGER_TYPE": a
        }]);
    }
    this.EventManager.onPlayRequest.fire(c);
};
YAHOO.mediaplayer.Controller.prototype.wasPlayUserInitiated = function () {
    return /PLAYLIST_TITLE|PAGE_MEDIA_CLICK|PLAYER_PLAY_BUTTON|NEXT|PREV|RHAP_CONT/.test(this.lastTriggerType);
};
YAHOO.mediaplayer.Controller.prototype.onError = function (b) {
    if (!YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[b.media.mimeType]) {
        switch (b.level) {
        case YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL:
            this.mediaengine.stop();
            this.EventManager.onPlayStateChange.fire({
                media: b.media,
                newState: YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED
            });
            break;
        case YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR:
            this.mediaengine.stop();
            this.errorCount++;
            if (this.errorCount >= this.maxErrors) {
                var a = new YAHOO.mediaplayer.Error("2");
                a.media = b.media;
                this.onError(a);
            } else {
                if (this.wasPlayUserInitiated()) {
                    this.EventManager.onPlayStateChange.fire({
                        media: b.media,
                        newState: YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED
                    });
                } else {
                    this.EventManager.onPlayStateChange.fire({
                        media: b.media,
                        newState: YAHOO.mediaplayer.MediaEngine.PlayState.ENDED
                    });
                }
            }
            break;
        }
    }
    this.EventManager.onError.fire(b);
    if (this.logger) {
        this.logger.logError(b);
    }
};
YAHOO.mediaplayer.Controller.prototype.onWindowUnload = function (e) {
    var d = ["ymp-flash-engine", "ymp-rhapsody-engine", "ymp-qt-engine", "ymp-wmpff3-engine", "ymp-wmp-engine", "ymp-flv-engine"];
    var a = d.length;
    var c = null;
    for (var b = 0; b < a; b++) {
        c = document.getElementById(d[b]);
        if (c) {
            c.parentNode.removeChild(c);
        }
    }
};
YAHOO.mediaplayer.Controller.prototype.isThirtySecondSample = function () {
    var a = this.mediaengine.getDuration();
    if (YAHOO.ympyui.lang.isNumber(a)) {
        if (31 > a / 1000 && 29 < a / 1000 && this.rhapsody.getFreePlays() > 0) {
            return true;
        }
    }
    return false;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Parser = function (a) {
    var b = [];
    YAHOO.mediaplayer.Parser.superclass.constructor.call(this, a, b);
    this.initController(a);
    this.controller = this.getController();
    this.audioClass = "htrack";
    this.mediaTracks = [];
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Parser, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.Parser.prototype.refByName = "parser";
YAHOO.mediaplayer.Parser.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.Parser.TypeApplication = {
    "xspf+xml": true,
    "x-xspf+xml": true,
    "mpeg": true,
    "mp3": true,
    "rhapsody": true
};
YAHOO.mediaplayer.Parser.regex = {
    youtube: /http(\:|%3A)\/\/([^:\/\s]+\youtube\.com)\/watch.*v=([0-9a-zA-Z_-]+)/,
    yahoo_movies: /http(\:|%3A)\/\/movies\.yahoo\.com\/movie\/([0-9]+)\/info/
};
YAHOO.mediaplayer.Parser.MimeTypes = {
    mp3: "audio/mpeg",
    wav: "audio/x-wav",
    wma: "audio/x-ms-wma",
    m4a: "audio/mp4",
    flv: "video/x-flv",
    xspf: "application/xspf+xml",
    m3u: "audio/x-mpegurl",
    m4u: "audio/x-mpegurl",
    asx: "video/x-ms-asf",
    pls: "audio/x-scpls",
    unknown: "audio/unknown",
    rhapsody: "audio/rhapsody",
    yahoo: "audio/yahoo",
    amg: "audio/amg",
    youtube: "video/youtube",
    yahoo_movies: "video/yahoomovies"
};
YAHOO.mediaplayer.Parser.Mp3OnlyModeMimeTypes = ["audio/mpeg", "audio/x-wav", "audio/x-ms-wma", "audio/mp4", "application/xspf+xml", "audio/x-mpegurl", "audio/x-mpegurl", "audio/x-scpls"];
YAHOO.mediaplayer.Parser.MediaOnlyPlaylinkModeMimeTypes = ["audio/mpeg", "audio/x-wav", "audio/x-ms-wma", "audio/mp4", "video/x-flv", "audio/x-mpegurl", "audio/x-mpegurl", "video/x-ms-asf", "audio/x-scpls", "video/youtube"];
YAHOO.mediaplayer.Parser.prototype.parse = function (g) {
    try {
        this.mediaTracks = [];
        var b = this.getAnchors(g);
        var c = b.length;
        var a = "";
        var l = "";
        var f = "";
        var d = null;
        for (var h = 0; h < c; h++) {
            if (YAHOO.ympyui.util.Dom.hasClass(b[h], this.audioClass)) {
                l = String(b[h].type).toLowerCase();
                f = l.split("/");
                if (f.length === 2 && (f[0] === "audio" || (f[0] === "application" && YAHOO.mediaplayer.Parser.TypeApplication[f[1]] === true) || (f[0] === "video" && f[1] === "x-flv"))) {
                    if (this.checkForLocalHost(b[h].href) === false && (h == 0 || b[h].href !== d)) {
                        d = b[h].href;
                        this.addTrack(b[h], l);
                    }
                } else {
                    a = this.getMimeTypeFromExtension(b[h].href);
                    if (this.checkForLocalHost(b[h].href) === false && (h == 0 || b[h].href !== d)) {
                        d = b[h].href;
                        this.addTrack(b[h], a);
                    }
                }
            }
        }
        if (this.mediaTracks.length <= 0 && YAHOO.mediaplayer.YMPParams.htrackonly === false) {
            for (var h = 0; h < c; h++) {
                l = String(b[h].type).toLowerCase();
                f = l.split("/");
                if (f.length === 2 && (f[0] === "audio" || (f[0] === "application" && YAHOO.mediaplayer.Parser.TypeApplication[f[1]] === true) || (f[0] === "video" && f[1] === "x-flv"))) {
                    if (this.checkForLocalHost(b[h].href) === false && (h == 0 || b[h].href !== d) && !YAHOO.ympyui.util.Dom.hasClass(b[h], "noplay")) {
                        d = b[h].href;
                        this.addTrack(b[h], l);
                    }
                    continue;
                }
                if (YAHOO.ympyui.util.Dom.hasClass(b[h], "playthispage") && !YAHOO.ympyui.util.Dom.hasClass(b[h], "noplay")) {
                    if (this.checkForLocalHost(b[h].href) === false) {
                        a = this.getMimeTypeFromExtension(b[h].href);
                        if (a == null || !YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[a]) {
                            a = YAHOO.mediaplayer.Parser.MimeTypes.xspf;
                        }
                        d = b[h].href;
                        this.addTrack(b[h], a);
                    }
                    continue;
                }
                a = this.getMimeTypeFromExtension(b[h].href);
                if (a != YAHOO.mediaplayer.Parser.MimeTypes["unknown"]) {
                    if (this.checkForLocalHost(b[h].href) === false && (h == 0 || b[h].href !== d) && !YAHOO.ympyui.util.Dom.hasClass(b[h], "noplay")) {
                        d = b[h].href;
                        this.addTrack(b[h], a);
                    }
                }
            }
        }
        this.mediaTracks = this.sortByTabIndex(this.mediaTracks);
        return this.mediaTracks;
    } catch (k) {
        return [];
    }
};
YAHOO.mediaplayer.Parser.prototype.addTrack = function (b, c) {
    if (!YAHOO.mediaplayer.YMPParams.mp3onlymode || YAHOO.mediaplayer.Util.inArray(c, YAHOO.mediaplayer.Parser.Mp3OnlyModeMimeTypes)) {
        if ((c == YAHOO.mediaplayer.Parser.MimeTypes["rhapsody"]) && (true == YAHOO.mediaplayer.YMPParams.disablerhap25)) {
            var a = this.getMimeTypeFromExtension(b.href);
            if (a == YAHOO.mediaplayer.Parser.MimeTypes["yahoo"]) {
                c = a;
            }
        }
        this.mediaTracks.push({
            "anchor": b,
            "mimeType": c
        });
    }
};
YAHOO.mediaplayer.Parser.prototype.getAnchors = function (d) {
    var f = [];
    var a = d;
    if (a == null) {
        a = document.body;
    }
    var e = a.getElementsByTagName("a");
    for (var c = 0, b = e.length; c < b; c++) {
        f[c] = e[c];
    }
    a = null;
    e = null;
    return f;
};
YAHOO.mediaplayer.Parser.prototype.getMimeTypeFromExtension = function (a) {
    try {
        if (YAHOO.mediaplayer.Rhapsody.regex.track.test(a)) {
            return YAHOO.mediaplayer.Parser.MimeTypes["rhapsody"];
        }
        if (YAHOO.mediaplayer.ymu.regex.track.test(a)) {
            return YAHOO.mediaplayer.Parser.MimeTypes["yahoo"];
        }
        if (YAHOO.mediaplayer.Parser.regex.youtube.test(a)) {
            return YAHOO.mediaplayer.Parser.MimeTypes["youtube"];
        }
        if (YAHOO.mediaplayer.Parser.regex.yahoo_movies.test(a)) {
            return YAHOO.mediaplayer.Parser.MimeTypes["yahoo_movies"];
        }
        var g = a;
        var f = g.indexOf("?");
        if (f != -1) {
            g = g.substring(0, f);
        }
        var b = g.lastIndexOf(".");
        var c = g.substring(b + 1, g.length).toLowerCase();
        for (var h in YAHOO.mediaplayer.Parser.MimeTypes) {
            if (c === h) {
                return YAHOO.mediaplayer.Parser.MimeTypes[h];
            }
        }
        return YAHOO.mediaplayer.Parser.MimeTypes["unknown"];
    } catch (d) {
        return YAHOO.mediaplayer.Parser.MimeTypes["unknown"];
    }
};
YAHOO.mediaplayer.Parser.prototype.sortByTabIndex = function (g) {
    try {
        var c = null;
        var f = null;
        var b = null;
        var a = g.length;
        for (var d = 0; d < a; d++) {
            for (j = d + 1; j < a; j++) {
                f = g[d].anchor.tabIndex;
                tbidx2 = g[j].anchor.tabIndex;
                if (tbidx2 > 0 && (f > tbidx2)) {
                    c = g[d];
                    g[d] = g[j];
                    g[j] = c;
                }
            }
        }
        return g;
    } catch (h) {
        return null;
    }
};
YAHOO.mediaplayer.Parser.prototype.checkForLocalHost = function (a) {
    return (a.toLowerCase().indexOf("http://localhost") >= 0);
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.PlaylistManager = function (a) {
    var b = ["onPlayRequest", "onPauseRequest", "onStopRequest", "onPreviousRequest", "onNextRequest", "onPlayStateChange", "onMediaUpdate", "onPlaylistUpdate", "onCurrentMediaSet", "onMediaResolved"];
    YAHOO.mediaplayer.PlaylistManager.superclass.constructor.call(this, a, b);
    this.EventManager.addEvents(["onPlaylistUpdate", "onNextRequest", "onCurrentMediaSet", "onPlayRequest"]);
    this.initController(a);
    this.controller = this.getController();
    this.delayedPlayMedia = null;
    this.playlistArray = [];
    this.allMedia = [];
    this.currentIndex = -1;
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.PlaylistManager, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.PlaylistManager.prototype.refByName = "playlistmanager";
YAHOO.mediaplayer.PlaylistManager.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.PlaylistManager.prototype.add = function (e) {
    var b = [];
    var a = 0;
    if (this.playlistArray.length > 0) {
        a = this.playlistArray.length - 1;
    }
    if (e == null) {
        return;
    }
    for (var d = 0, c = e.length, f; d < c; d++) {
        if (YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[e[d].mimeType]) {
            f = this.createMediaObject(e[d], "Playlist");
        } else {
            f = this.createMediaObject(e[d], "Track");
        }
        b.push(f);
        this.playlistArray.push(f);
    }
    this.fireupdateAndResolve(b);
    return a;
};
YAHOO.mediaplayer.PlaylistManager.prototype.fireupdateAndResolve = function (a) {
    this.EventManager.onPlaylistUpdate.fire(this.playlistArray);
    for (var c = 0, b = a.length; c < b; c++) {
        this.controller.mediaresolver.resolveStatic(a[c]);
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.createMediaObject = function (c, b) {
    var a = null;
    if (b === "Track") {
        a = new YAHOO.mediaplayer.Media.Track(this.controller);
    } else {
        if (b === "Playlist") {
            a = new YAHOO.mediaplayer.Playlist(this.controller);
        }
    }
    a.anchor = c.anchor;
    a.mimeType = c.mimeType;
    this.allMedia[a.id] = a;
    return a;
};
YAHOO.mediaplayer.PlaylistManager.prototype.getMediaById = function (a) {
    if (a == null) {
        return null;
    }
    return this.allMedia[a];
};
YAHOO.mediaplayer.PlaylistManager.prototype.getMediaIndex = function (c) {
    if (c == null) {
        return -1;
    }
    for (var b = 0, a = this.playlistArray.length; b < a; b++) {
        if (this.playlistArray[b] == c) {
            return b;
        }
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onPlayRequest = function (f) {
    var e, d;
    this.delayedPlayMedia = null;
    if (f != null) {
        e = f.media;
        d = f.seek;
    }
    var c = -1;
    if (e == null) {
        c = this.currentIndex;
        e = this.playlistArray[this.currentIndex];
    }
    if (e instanceof YAHOO.mediaplayer.Playlist) {
        if (e.mediaArray.length > 0) {
            var b = this.getMediaIndex(e.mediaArray[0]);
            if (this.currentIndex >= b && this.currentIndex < b + e.mediaArray.length) {
                c = this.currentIndex;
            } else {
                c = b;
            }
        }
    } else {
        if (c == -1) {
            c = this.getMediaIndex(e);
        }
    }
    if (c == -1) {
        return;
    }
    if (this.currentIndex != c) {
        this.currentIndex = c;
        this.EventManager.onCurrentMediaSet.fire(this.playlistArray[this.currentIndex]);
    }
    var a = this.playlistArray[this.currentIndex];
    if (a.resolvingState == YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED) {
        YAHOO.mediaplayer.Controller.mediaengine.play(a, d);
    } else {
        YAHOO.mediaplayer.Controller.mediaengine.stop();
        this.delayedPlayMedia = a;
        this.controller.mediaresolver.resolveDynamic(a);
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onPauseRequest = function () {
    YAHOO.mediaplayer.Controller.mediaengine.pause();
};
YAHOO.mediaplayer.PlaylistManager.prototype.onStopRequest = function () {
    YAHOO.mediaplayer.Controller.mediaengine.stop();
};
YAHOO.mediaplayer.PlaylistManager.prototype.onNextRequest = function () {
    if (this.currentIndex + 1 < this.playlistArray.length) {
        this.currentIndex++;
        var b = this.playlistArray[this.currentIndex];
        this.EventManager.onCurrentMediaSet.fire(b);
        var a = YAHOO.mediaplayer.Controller.mediaengine.currentPlayState;
        if (a != YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED && a != YAHOO.mediaplayer.MediaEngine.PlayState.ENDED && a != YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED) {
            this.EventManager.onPlayRequest.fire({
                media: b,
                "TRIGGER_TYPE": "NEXT"
            });
        }
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onPreviousRequest = function () {
    if (this.currentIndex - 1 >= 0) {
        this.currentIndex--;
        var b = this.playlistArray[this.currentIndex];
        this.EventManager.onCurrentMediaSet.fire(b);
        var a = YAHOO.mediaplayer.Controller.mediaengine.currentPlayState;
        if (a != YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED && a != YAHOO.mediaplayer.MediaEngine.PlayState.ENDED && a != YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED) {
            this.EventManager.onPlayRequest.fire({
                media: b,
                "TRIGGER_TYPE": "PREV"
            });
        }
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onPlayStateChange = function (b) {
    switch (b.newState) {
    case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:
        if (this.currentIndex + 1 < this.playlistArray.length && YAHOO.mediaplayer.YMPParams.autoadvance === true) {
            var a = this;
            var c = function () {
                a.currentIndex++;
                var d = a.playlistArray[a.currentIndex];
                a.EventManager.onCurrentMediaSet.fire(d);
                a.EventManager.onPlayRequest.fire({
                    media: d,
                    "TRIGGER_TYPE": "AUTO_ADVANCE"
                });
            };
            setTimeout(c, 1);
        }
        break;
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onMediaUpdate = function (b) {
    if (this.currentIndex == -1) {
        var a = this.getMediaIndex(b);
        if (a != -1) {
            this.currentIndex = a;
            this.EventManager.onCurrentMediaSet.fire(this.playlistArray[this.currentIndex]);
            if (YAHOO.mediaplayer.YMPParams.autoplay === true) {
                this.EventManager.onPlayRequest.fire({
                    media: this.playlistArray[this.currentIndex],
                    "TRIGGER_TYPE": "AUTOPLAY"
                });
            }
        }
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onPlaylistUpdate = function (d) {
    if (d instanceof YAHOO.mediaplayer.Playlist) {
        var a = -1;
        for (var c = 0, b = this.playlistArray.length; c < b; c++) {
            if (this.playlistArray[c] == d) {
                a = c;
            }
        }
        if (a != -1) {
            this.playlistArray.splice(a, 1);
            for (var c = d.mediaArray.length - 1; c >= 0; c--) {
                this.playlistArray.splice(a, 0, d.mediaArray[c]);
                this.allMedia[d.mediaArray[c].id] = d.mediaArray[c];
            }
            if (this.currentIndex >= a) {
                this.currentIndex += d.mediaArray.length - 1;
            }
        }
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.clear = function () {
    this.playlistArray = [];
    this.currentIndex = -1;
    this.EventManager.onPlaylistUpdate.fire(this.playlistArray);
};
YAHOO.mediaplayer.PlaylistManager.prototype.insert = function (e, c) {
    if (this.playlistArray[c]) {
        while (c > 0 && this.playlistArray[c].parent !== null && this.playlistArray[c - 1].parent !== null) {
            c--;
        }
        var a = e.length;
        var f = null;
        var b = [];
        for (var d = 0; d < a; d++) {
            if (YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[e[d].mimeType]) {
                f = this.createMediaObject(e[d], "Playlist");
            } else {
                f = this.createMediaObject(e[d], "Track");
            }
            b.push(f);
            this.playlistArray.splice(c + d, 0, f);
        }
        this.fireupdateAndResolve(b);
        return c;
    } else {
        this.add(e);
    }
};
YAHOO.mediaplayer.PlaylistManager.prototype.onCurrentMediaSet = function (a) {
    if (this.controller.view.currentViewState != YAHOO.mediaplayer.View.PlaylistState.MAX) {
        return;
    }
    this.controller.mediaresolver.resolveDynamic(a);
};
YAHOO.mediaplayer.PlaylistManager.prototype.onMediaResolved = function (a) {
    this.controller.mediaresolver.getMetadata(a);
    if (!this.delayedPlayMedia) {
        return;
    }
    if (this.delayedPlayMedia != a) {
        return;
    }
    YAHOO.mediaplayer.Controller.mediaengine.play(this.delayedPlayMedia);
    this.delayedPlayMedia = null;
};
YAHOO.mediaplayer.PlaylistManager.prototype.getCurrentMedia = function () {
    return this.playlistArray[this.currentIndex];
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.MediaResolver = function (a) {
    var b = [];
    YAHOO.mediaplayer.MediaResolver.superclass.constructor.call(this, a, b);
    this.EventManager.addEvents(["onPlaylistUpdate", "onError", "onMediaResolved"]);
    this.initController(a);
    this.controller = this.getController();
    this.rhapsodyMediaCollection = [];
    this.ymuMediaCollection = [];
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.MediaResolver, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.MediaResolver.prototype.refByName = "mediaresolver";
YAHOO.mediaplayer.MediaResolver.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes = {
    "application/xspf+xml": true,
    "application/x-xspf+xml": true,
    "audio/x-mpegurl": true,
    "audio/x-scpls": true,
    "audio/pn-realaudio": true,
    "video/x-ms-asf": true,
    "video/ms-asf": true
};
YAHOO.mediaplayer.MediaResolver.ResolvingState = {
    NOTSTARTED: 0,
    STARTED: 1,
    FINISHED: 2
};
YAHOO.mediaplayer.MediaResolver.prototype.isSimpleMedia = function (a) {
    if (a && a.length > 0) {
        if (!YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[a]) {
            return true;
        }
    } else {
        return false;
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.resolveStatic = function (e) {
    var a;
    if (YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[e.mimeType]) {
        YAHOO.mediaplayer.SWFProxy.getPlayThisPage(e.anchor.href, {
            success: YAHOO.mediaplayer.Controller.mediaresolver.onPTPSuccess,
            failure: YAHOO.mediaplayer.Controller.mediaresolver.onPTPFail,
            argument: e,
            scope: this
        });
        return;
    }
    var d = this.getSimpleMediaProperties(e);
    switch (e.mimeType) {
    case YAHOO.mediaplayer.Parser.MimeTypes.rhapsody:
        var c = e.anchor.getAttribute("rid");
        var b = YAHOO.mediaplayer.Rhapsody.regex.track.exec(e.anchor.href);
        d.token = c ? c : b[5];
        break;
    case YAHOO.mediaplayer.Parser.MimeTypes.yahoo:
        var b = YAHOO.mediaplayer.ymu.regex.track.exec(e.anchor.href);
        d.token = b[5];
        d.yTrackID = d.token;
        break;
    case YAHOO.mediaplayer.Parser.MimeTypes.youtube:
        var b = YAHOO.mediaplayer.Parser.regex.youtube.exec(e.anchor.href);
        d.token = b[3];
        d.videoId = d.token;
        d.bIsVideo = true;
        break;
    case YAHOO.mediaplayer.Parser.MimeTypes.yahoo_movies:
        var b = YAHOO.mediaplayer.Parser.regex.yahoo_movies.exec(e.anchor.href);
        d.token = b[2];
        d.bIsVideo = true;
        break;
    }
    e.setProperties(d);
};
YAHOO.mediaplayer.MediaResolver.prototype.resolveDynamic = function (a) {
    if (a.resolvingState != YAHOO.mediaplayer.MediaResolver.ResolvingState.NOTSTARTED) {
        return;
    }
    a.resolvingState = YAHOO.mediaplayer.MediaResolver.ResolvingState.STARTED;
    switch (a.mimeType) {
    case YAHOO.mediaplayer.Parser.MimeTypes.yahoo_movies:
        YAHOO.mediaplayer.SWFProxy.getYahooMovieTrailers(a.token, {
            success: YAHOO.mediaplayer.Controller.mediaresolver.onYahooMovieTrailersReady,
            failure: YAHOO.mediaplayer.Controller.mediaresolver.onResolveFail,
            argument: {
                "media": a
            },
            scope: this
        });
        break;
    case YAHOO.mediaplayer.Parser.MimeTypes.yahoo:
        YAHOO.mediaplayer.SWFProxy.getMetadata([a.token], {
            success: YAHOO.mediaplayer.Controller.mediaresolver.onWsapiMetadataReady,
            failure: YAHOO.mediaplayer.Controller.mediaresolver.onResolveFail,
            argument: {
                media: a
            },
            scope: this
        }, "yahoo", "wsapi");
        break;
    default:
        this.mediaResolved(a);
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.getMetadata = function (a) {
    switch (a.mimeType) {
    case YAHOO.mediaplayer.Parser.MimeTypes.rhapsody:
        YAHOO.mediaplayer.SWFProxy.getRhapMetadata([a.token], {
            success: YAHOO.mediaplayer.Controller.mediaresolver.onRhapsodyMetadataReady,
            failure: YAHOO.mediaplayer.Controller.mediaresolver.onMetadataFail,
            argument: {
                media: a
            },
            timeout: 4000,
            scope: this
        });
        break;
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.onMetadataFail = function (a) {
    this.fireMetadataError(a.argument.media);
};
YAHOO.mediaplayer.MediaResolver.prototype.onWsapiMetadataReady = function (b) {
    try {
        var l = YAHOO.ympyui.lang.JSON.parse(b.responseText);
        var c = b.argument.media;
        var r = l.Tracks.Track;
        if (!l || typeof(l) != "object" || (c.token.toLowerCase() != r.id.toLowerCase())) {
            this.onResolveFail(b);
            return;
        }
        var d, q;
        if (r.Mappings && typeof(r.Mappings) === "object") {
            var t = YAHOO.mediaplayer.Util.isArray(r.Mappings.Mapping) ? r.Mappings.Mapping : [r.Mappings.Mapping];
            for (var f = 0; f < t.length; f++) {
                var a = t[f];
                switch (a.catalogID) {
                case YAHOO.mediaplayer.ymu.amgCatalogId:
                    q = a.id;
                    break;
                case YAHOO.mediaplayer.ymu.rhapsodyCatalogId:
                    d = a.id;
                    break;
                }
            }
        }
        var p = {};
        if (r.Artist) {
            var u = null;
            u = YAHOO.mediaplayer.Util.isArray(r.Artist) ? r.Artist[0] : r.Artist;
            if (u && typeof(u.name) === "string" && u.name.length > 0) {
                p.artistName = u.name;
                p.yArtistID = u.id;
            }
        }
        if (r.Album && r.Album.Release && typeof(r.Album.Release.title) === "string" && r.Album.Release.title.length > 0) {
            p.albumName = r.Album.Release.title;
            p.yAlbumID = r.Album.Release.id;
        }
        if (typeof(r.title) === "string" && r.title.length > 0) {
            p.title = r.title;
        }
        if (r.Album && r.Album.Release && r.Album.Release.Image) {
            var n = YAHOO.mediaplayer.Util.isArray(r.Album.Release.Image) ? r.Album.Release.Image : [r.Album.Release.Image];
            for (var g = 0; g < r.Album.Release.Image.length; g++) {
                p.albumArt = r.Album.Release.Image[g].url;
                if (parseInt(r.Album.Release.Image[g].size) > 100) {
                    break;
                }
            }
        }
        if (r.Video && r.Video.id) {
            p.yVideoID = r.Video.id;
        }
        c.setProperties(p);
        if (YAHOO.mediaplayer.YMPParams.disablerhap25 === false) {
            if (!d) {
                this.fireResolveFail(c, "26");
                return;
            } else {
                p.token = d;
                p.mimeType = YAHOO.mediaplayer.Parser.MimeTypes.rhapsody;
                var s = parseInt(YAHOO.mediaplayer.ymu.rightsFlags.DOWNLOAD);
                if (s != 0) {
                    var v = "http://mp3.rhapsody.com/goto?rcid=" + d.toLowerCase() + "&pcode=" + YAHOO.mediaplayer.YMPParams.rhappcode + "&ocode=" + YAHOO.mediaplayer.YMPParams.rhappcode + "&cpath=buylink&rsrc=" + ((YAHOO.mediaplayer.YMPParams.ypartner && YAHOO.mediaplayer.YMPParams.ypartner.length > 0) ? YAHOO.mediaplayer.YMPParams.ypartner : "yahoo");
                    p.buyURL = v;
                }
            }
        } else {
            if (!q) {
                this.fireResolveFail(c, "25");
                return;
            } else {
                p.token = "http://sg1.allmusic.com/cg/smp.dll?link=" + q + "&r=96.mp3";
                p.mimeType = YAHOO.mediaplayer.Parser.MimeTypes.amg;
                p.bIsSample = true;
            }
        }
        c.setProperties(p);
        this.mediaResolved(c);
    } catch (h) {
        this.onResolveFail(b);
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.fireMetadataError = function (c, b) {
    var a = new YAHOO.mediaplayer.Error("10", b);
    a.media = c;
    a.display = true;
    this.EventManager.onError.fire(a);
};
YAHOO.mediaplayer.MediaResolver.prototype.onPTPSuccess = function (a) {
    try {
        var l = YAHOO.ympyui.lang.JSON.parse(a.responseText);
        var c = a.argument;
        if (l.playlist != null) {
            var k = l.playlist.title;
            if (typeof(k) === "string") {
                c.title = k;
            }
            k = l.playlist.info;
            if (typeof(k) === "string") {
                c.info = k;
            }
            c.url = c.anchor.href;
            if (l.playlist.track.length <= 0) {
                var h = new YAHOO.mediaplayer.Error("5", null);
                h.media = c;
                this.EventManager.onError.fire(h);
            }
            for (var d = 0, b = l.playlist.track.length; d < b; d++) {
                var k = new YAHOO.mediaplayer.Media.Track(YAHOO.mediaplayer.Controller);
                if (l.playlist.track[d].location.constructor == Array && l.playlist.track[d].location.length > 0) {
                    k.mimeType = YAHOO.mediaplayer.Controller.parser.getMimeTypeFromExtension(l.playlist.track[d].location[0]);
                }
                k.parent = c;
                c.mediaArray.push(k);
            }
            this.EventManager.onPlaylistUpdate.fire(c);
            for (var d = 0, b = l.playlist.track.length; d < b; d++) {
                var g = {};
                if (l.playlist.track[d].location && l.playlist.track[d].location.constructor == Array && l.playlist.track[d].location.length > 0) {
                    g.token = l.playlist.track[d].location[0];
                }
                if (l.playlist.track[d].type && l.playlist.track[d].type.constructor == Array && l.playlist.track[d].type.length > 0) {
                    g.mimeType = l.playlist.track[d].type[0];
                }
                if (typeof(l.playlist.track[d].title) === "string") {
                    g.title = l.playlist.track[d].title;
                }
                if (g.title == null || g.title == "") {
                    g.title = decodeURIComponent(g.token.substring(g.token.lastIndexOf("/") + 1, g.token.length));
                }
                if (typeof(l.playlist.track[d].creator) === "string") {
                    g.artistName = l.playlist.track[d].creator;
                }
                if (typeof(l.playlist.track[d].album) === "string") {
                    g.albumName = l.playlist.track[d].album;
                }
                if (typeof(l.playlist.track[d].image) === "string") {
                    g.albumArt = l.playlist.track[d].image;
                }
                if (g.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.rhapsody || g.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.yahoo) {
                    if (g.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.rhapsody) {
                        match = YAHOO.mediaplayer.Rhapsody.regex.track.exec(g.token);
                        this.rhapsodyMediaCollection[this.rhapsodyMediaCollection.length] = c.mediaArray[d];
                        g.token = match[5];
                    } else {
                        match = YAHOO.mediaplayer.ymu.regex.track.exec(g.token);
                        this.ymuMediaCollection[this.ymuMediaCollection.length] = c.mediaArray[d];
                        g.token = match[5];
                        g.yTrackID = g.token;
                    }
                }
                c.mediaArray[d].setProperties(g);
            }
            this.resolveYahooMedia();
        } else {
            var h = new YAHOO.mediaplayer.Error("5", null);
            h.media = c;
            this.EventManager.onError.fire(h);
        }
    } catch (f) {}
};
YAHOO.mediaplayer.MediaResolver.prototype.onPTPFail = function (b) {
    var a = new YAHOO.mediaplayer.Error("4", null);
    a.media = b.argument;
    this.EventManager.onError.fire(a);
};
YAHOO.mediaplayer.MediaResolver.prototype.getSimpleMediaProperties = function (f) {
    try {
        var b = {};
        var a = f.anchor.href.trim();
        if (a.substr(0, 24) === "http://us.lrd.yahoo.com/") {
            var g = a.indexOf("**http");
            if (typeof g == "number" && g > 0) {
                g += 2;
                a = a.substr(g, a.length - g);
                a = decodeURIComponent(a);
            }
        }
        b.token = a;
        if (b.token == null || b.token == "") {
            return null;
        }
        b.title = f.anchor.getAttribute("title");
        if (b.title == null || b.title == "") {
            b.title = this.parseTextNode(f.anchor);
            if (b.title == "") {
                b.title = decodeURIComponent(f.anchor.href.substring(f.anchor.href.lastIndexOf("/") + 1, f.anchor.href.length));
            }
        }
        b.albumName = f.anchor.getAttribute("album");
        if (b.albumName == null) {
            b.albumName = "";
        }
        b.artistName = f.anchor.getAttribute("artist");
        if (b.artistName == null) {
            b.artistName = "";
        }
        var c = f.anchor.getElementsByTagName("img")[0];
        if (c != null) {
            b.albumArt = c.src;
        }
        return b;
    } catch (d) {
        return null;
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.parseTextNode = function (d) {
    try {
        if (typeof(d.innerText) === "string") {
            return d.innerText;
        }
        if (d.nodeType == 3) {
            return d.nodeValue;
        }
        var b = [],
            a = 0;
        while (d.childNodes[a]) {
            b.push(this.parseTextNode(d.childNodes[a++]));
        }
        return b.join("");
    } catch (c) {
        return "";
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.onRhapsodyMetadataReady = function (h) {
    try {
        var b = h.responseText;
        var g = h.argument.media;
        var a = YAHOO.ympyui.lang.JSON.parse(h.responseText);
        if (!a || (typeof(a) != "object") || a.status.success != true || a.status.blocked != false || (g.token.toLowerCase() != a.data[0].trackId.toLowerCase())) {
            this.onMetadataFail(h);
            return;
        }
        var d = a.data;
        var c = {};
        if (typeof(d[0].displayArtistName) === "string" && d[0].displayArtistName !== "") {
            c.artistName = d[0].displayArtistName;
        }
        if (typeof(d[0].displayAlbumName) === "string" && d[0].displayAlbumName !== "") {
            c.albumName = d[0].displayAlbumName;
        }
        if (typeof(d[0].name) === "string" && d[0].name !== "") {
            c.title = d[0].name;
        }
        if (d[0].album && typeof(d[0].album.albumArt162X162Url) === "string" && d[0].album.albumArt162X162Url !== "") {
            c.albumArt = d[0].album.albumArt162X162Url;
        }
        if (typeof(d[0].purchaseInfo.url) === "string" && d[0].purchaseInfo.url.length > 0) {
            c.buyURL = "http://mp3.rhapsody.com/goto?rcid=" + a.data[0].trackId.toLowerCase() + "&pcode=" + YAHOO.mediaplayer.YMPParams.rhappcode + "&ocode=" + YAHOO.mediaplayer.YMPParams.rhappcode + "&cpath=buylink&rsrc=" + ((YAHOO.mediaplayer.YMPParams.ypartner && YAHOO.mediaplayer.YMPParams.ypartner.length > 0) ? YAHOO.mediaplayer.YMPParams.ypartner : "yahoo");
        }
        g.setProperties(c);
    } catch (f) {
        this.onMetadataFail(h);
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.mediaResolved = function (b) {
    var a = {};
    a.resolvingState = YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED;
    b.setProperties(a);
    this.EventManager.onMediaResolved.fire(b);
};
YAHOO.mediaplayer.MediaResolver.prototype.onYahooMovieTrailersReady = function (b) {
    try {
        var c = b.argument.media;
        var h = YAHOO.ympyui.lang.JSON.parse(b.responseText);
        if (!h || (typeof(h) != "object") || (h.query.results == null)) {
            this.onResolveFail(b);
            return;
        }
        var l = null;
        var g = null;
        if (h.query.results.result.TitleList) {
            l = h.query.results.result.TitleList.Title;
            g = YAHOO.mediaplayer.Util.isArray(l) ? l : [l];
        }
        var d = null;
        var m = null;
        if (h.query.results.result.TrailerList) {
            d = h.query.results.result.TrailerList.Trailer;
            m = YAHOO.mediaplayer.Util.isArray(d) ? d : [d];
        }
        var n = null;
        var a = null;
        if (m && m[0]) {
            n = m[0].id;
        }
        if (g && g[0]) {
            a = g[0];
            c.title = a;
        }
        if (n !== null) {
            c.videoId = n;
            this.mediaResolved(c);
        } else {
            if (a == null) {
                this.onResolveFail(b);
                return;
            }
            var k = this;
            setTimeout(function () {
                YAHOO.mediaplayer.SWFProxy.searchYouTubeVideos(a + "+trailer", 1, {
                    success: YAHOO.mediaplayer.Controller.mediaresolver.onYouTubeVideosReady,
                    failure: YAHOO.mediaplayer.Controller.mediaresolver.onResolveFail,
                    argument: {
                        "media": c
                    },
                    scope: k
                });
            }, 1);
        }
    } catch (f) {
        this.onResolveFail(b);
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.onYouTubeVideosReady = function (f) {
    try {
        var b = {};
        var d = f.argument.media;
        var a = YAHOO.ympyui.lang.JSON.parse(f.responseText);
        if (!a || (typeof(a) != "object") || (a.feed == null)) {
            this.onResolveFail(f);
            return;
        }
        d.videoId = a.feed.entry[0].id.$t.split("/").pop();
        d.mimeType = YAHOO.mediaplayer.Parser.MimeTypes.youtube;
        this.mediaResolved(d);
    } catch (c) {
        this.onResolveFail(f);
    }
};
YAHOO.mediaplayer.MediaResolver.prototype.fireResolveFail = function (d, c, b) {
    d.resolvingState = YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED;
    var a = new YAHOO.mediaplayer.Error(c, b);
    a.media = d;
    a.display = true;
    this.EventManager.onError.fire(a);
    setTimeout(function () {
        d.resolvingState = YAHOO.mediaplayer.MediaResolver.ResolvingState.NOTSTARTED;
    }, 1);
};
YAHOO.mediaplayer.MediaResolver.prototype.onResolveFail = function (a) {
    this.fireResolveFail(a.argument.media, "12");
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Playlist = function (a, d) {
    var c = [];
    YAHOO.mediaplayer.Playlist.superclass.constructor.call(this, a, c);
    this.initController(a);
    this.controller = this.getController();
    this.id = Number.GUID(Math.getRnd(0, 1000));
    this.title = "";
    this.url = "";
    this.creator = "";
    this.anchor = null;
    this.mimeType = "";
    this.info = "";
    this.mediaArray = [];
    for (var b in d) {
        this[b] = d[b];
    }
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Playlist, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.Playlist.prototype.refByName = "playlist";
YAHOO.mediaplayer.Playlist.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Media = function (a) {
    var b = [];
    YAHOO.mediaplayer.Media.superclass.constructor.call(this, a, b);
    this.EventManager.addEvents(["onMediaUpdate"]);
    this.initController(a);
    this.controller = this.getController();
    this.id = Number.GUID(Math.getRnd(0, 1000));
    this.token = null;
    this.title = "";
    this.mimeType = "";
    this.anchor = null;
    this.parent = null;
    this.buyURL = "";
    this.duration = "";
    this.bIsVideo = false;
    this.bIsSample = false;
    this.resolvingState = YAHOO.mediaplayer.MediaResolver.ResolvingState.NOTSTARTED;
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Media, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.Media.prototype.refByName = "media";
YAHOO.mediaplayer.Media.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.Media.prototype.setProperties = function (b) {
    for (var a in b) {
        this[a] = b[a];
    }
    this.EventManager.onMediaUpdate.fire(this);
};
YAHOO.namespace("YAHOO.mediaplayer.Media");
YAHOO.mediaplayer.Media.Track = function (a) {
    YAHOO.mediaplayer.Media.Track.superclass.constructor.call(this, a);
    this.albumName = "";
    this.artistName = "";
    this.albumArt = "";
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Media.Track, YAHOO.mediaplayer.Media);
YAHOO.mediaplayer.Media.Track.prototype.refByName = "track";
YAHOO.mediaplayer.Media.Track.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.MediaEngine = function (a) {
    var b = ["onPlayStateChange", "onVolumeChangeRequest"];
    YAHOO.mediaplayer.MediaEngine.superclass.constructor.call(this, a, b);
    this.EventManager.addEvents(["onPlayStateChange", "onMediaProgress", "onError", "onVolumeChange"]);
    this.initController(a);
    this.controller = this.getController();
    this.currentEngine = null;
    this.currentMedia = null;
    this.players = [];
    this.currentPlayState = 0;
    this.progressIntervalID = null;
    this.vol = -1;
    if (document.cookie.indexOf("YMP_VOLUME") >= 0) {
        this.vol = parseFloat(document.cookie.split("YMP_VOLUME=")[1]);
    }
    if (this.vol < 0 || this.vol > 1) {
        this.vol = YAHOO.mediaplayer.YMPParams.volume ? YAHOO.mediaplayer.YMPParams.volume : 0.5;
        YAHOO.mediaplayer.Util.setCookie("YMP_VOLUME", this.vol);
    }
    this.playbackTimeout = 20000;
    this.playbackTimeoutID = null;
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.MediaEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.MediaEngine.prototype.refByName = "mediaengine";
YAHOO.mediaplayer.MediaEngine.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.MediaEngine.PlayState = {
    STOPPED: 0,
    PAUSED: 1,
    PLAYING: 2,
    BUFFERING: 3,
    ENDED: 4
};
YAHOO.mediaplayer.MediaEngine.prototype.ErrorState = {};
YAHOO.mediaplayer.MediaEngine.prototype.play = function (d, a) {
    if (this.currentEngine != null) {
        if (this.currentMedia == d) {
            if (typeof a == "undefined") {
                a = YAHOO.mediaplayer.Controller.trackseek.getCurrentSeek();
            }
            this.currentEngine.setVolume(this.vol, true);
            this.currentEngine.play(d, a);
            this.startPlaybackTimeout();
            return;
        } else {
            if (this.currentPlayState != YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED && this.currentPlayState != YAHOO.mediaplayer.MediaEngine.PlayState.ENDED) {
                try {
                    this.currentEngine.stop();
                } catch (c) {}
            }
        }
    }
    this.currentMedia = d;
    this.setMediaEngine(d);
    if (this.currentEngine != null) {
        try {
            this.currentEngine.setVolume(this.vol, true);
            this.currentEngine.play(d, a);
            this.startPlaybackTimeout();
        } catch (c) {}
    } else {
        var b = this;
        setTimeout(function () {
            b.handleError(1, null);
        }, 1);
    }
};
YAHOO.mediaplayer.MediaEngine.prototype.pause = function () {
    try {
        this.clearPlaybackTimeout();
        this.currentEngine.pause();
    } catch (a) {}
};
YAHOO.mediaplayer.MediaEngine.prototype.stop = function () {
    try {
        this.currentEngine.stop();
        this.clearPlaybackTimeout();
    } catch (a) {}
};
YAHOO.mediaplayer.MediaEngine.prototype.startPlaybackTimeout = function () {
    this.clearPlaybackTimeout();
    this.playbackTimeoutID = window.setTimeout(this.toString() + ".checkSongPlayback()", this.playbackTimeout);
};
YAHOO.mediaplayer.MediaEngine.prototype.clearPlaybackTimeout = function () {
    if (this.playbackTimeoutID != null) {
        window.clearTimeout(this.playbackTimeoutID);
        this.playbackTimeoutID = null;
    }
};
YAHOO.mediaplayer.MediaEngine.prototype.checkSongPlayback = function () {
    var a = this.currentEngine.getElapsed();
    if ((a == null) || (a <= 0)) {
        this.handleError(11, null);
    }
};
YAHOO.mediaplayer.MediaEngine.prototype.getElapsed = function () {
    if (this.currentEngine != null) {
        return this.currentEngine.getElapsed();
    }
    return 0;
};
YAHOO.mediaplayer.MediaEngine.prototype.getDuration = function () {
    if (this.currentEngine != null) {
        return this.currentEngine.getDuration();
    }
    return 0;
};
YAHOO.mediaplayer.MediaEngine.prototype.fireProgress = function () {
    var a = this.currentEngine.getElapsed();
    var b = this.currentEngine.getDuration();
    this.EventManager.onMediaProgress.fire({
        elapsed: a,
        duration: b
    });
};
YAHOO.mediaplayer.MediaEngine.prototype.changePlayState = function (b) {
    if (b != this.currentPlayState) {
        var a = this.currentPlayState;
        this.currentPlayState = b;
        this.EventManager.onPlayStateChange.fire({
            media: this.currentMedia,
            oldState: a,
            newState: b
        });
    }
};
YAHOO.mediaplayer.MediaEngine.prototype.handleError = function (c, a) {
    this.clearPlaybackTimeout();
    var b = new YAHOO.mediaplayer.Error(c, a);
    b.media = this.currentMedia;
    this.EventManager.onError.fire(b);
};
YAHOO.mediaplayer.MediaEngine.prototype.setMediaEngine = function (a) {
    switch (a.mimeType) {
    case "audio/mp3":
    case "audio/mpeg":
    case "audio/mpeg3":
    case "audio/x-mpeg-3":
    case "audio/amg":
        switch (YAHOO.mediaplayer.Util.OS) {
        case "Windows":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "Firefox":
            case "Safari":
            case "Netscape":
            case "Mozilla":
                this.currentEngine = this.getAvailableMediaEngine(["FlashEngine", "QTEngine", "WMPEngine"]);
                break;
            case "MSIE":
                this.currentEngine = this.getAvailableMediaEngine(["FlashEngine", "WMPEngine", "QTEngine"]);
                break;
            case "Opera":
                this.currentEngine = this.getAvailableMediaEngine(["FlashEngine", "QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["FlashEngine", "QTEngine", "WMPEngine"]);
                break;
            }
            break;
        case "Mac":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "Firefox":
            case "Safari":
            case "Opera":
            case "Camino":
            case "Netscape":
            case "Mozilla":
                this.currentEngine = this.getAvailableMediaEngine(["FlashEngine", "QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["FlashEngine", "QTEngine"]);
                break;
            }
            break;
        case "Linux":
            this.currentEngine = this.getAvailableMediaEngine(["FlashEngine"]);
            break;
        default:
        }
        break;
    case "audio/wma":
    case "audio/x-ms-wma":
    case "audio/ms-wma":
        switch (YAHOO.mediaplayer.Util.OS) {
        case "Windows":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "Firefox":
                if (YAHOO.mediaplayer.Util.BROWSER_VERSION != 3) {
                    this.currentEngine = this.getAvailableMediaEngine(["WMPEngine"]);
                } else {
                    this.currentEngine = this.getAvailableMediaEngine(["WMPFF3Engine"]);
                }
                break;
            case "Opera":
                this.currentEngine = this.getAvailableMediaEngine(["WMPFF3Engine"]);
                break;
            case "MSIE":
            case "Netscape":
            case "Mozilla":
                this.currentEngine = this.getAvailableMediaEngine(["WMPEngine"]);
                break;
            case "Safari":
            default:
                this.currentEngine = this.getAvailableMediaEngine(["WMPEngine"]);
                break;
            }
            break;
        case "Mac":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "Firefox":
            case "Safari":
            case "Opera":
            case "Camino":
            case "Netscape":
            case "Mozilla":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            }
            break;
        case "Linux":
            break;
        default:
        }
        break;
    case "audio/wav":
    case "audio/x-wav":
        switch (YAHOO.mediaplayer.Util.OS) {
        case "Windows":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "MSIE":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine", "WMPEngine"]);
                break;
            case "Firefox":
            case "Safari":
            case "Camino":
            case "Netscape":
            case "Mozilla":
            case "Opera":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
            }
            break;
        case "Mac":
            this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
            break;
        }
        break;
    case "audio/rhapsody":
    case "audio/yahoo":
        this.currentEngine = this.getAvailableMediaEngine(["RhapsodyEngine"]);
        break;
    case "audio/mp4":
        switch (YAHOO.mediaplayer.Util.OS) {
        case "Windows":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "Firefox":
            case "Safari":
            case "Netscape":
            case "Mozilla":
            case "MSIE":
            case "Opera":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            }
            break;
        case "Mac":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "Firefox":
            case "Safari":
            case "Opera":
            case "Camino":
            case "Netscape":
            case "Mozilla":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            }
            break;
        case "Linux":
            this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
            break;
        default:
        }
        break;
    case "audio/unknown":
        switch (YAHOO.mediaplayer.Util.OS) {
        case "Windows":
            this.currentEngine = this.getAvailableMediaEngine(["WMPEngine"]);
            break;
        }
        break;
    case "video/x-flv":
        this.currentEngine = this.getAvailableMediaEngine(["FlvEngine"]);
        break;
    case "video/youtube":
        this.currentEngine = this.getAvailableMediaEngine(["YouTubeEngine"]);
        break;
    case "video/yahoomovies":
        this.currentEngine = this.getAvailableMediaEngine(["YahooMoviesEngine"]);
        break;
    default:
        switch (YAHOO.mediaplayer.Util.OS) {
        case "Windows":
            switch (YAHOO.mediaplayer.Util.BROWSER) {
            case "MSIE":
                this.currentEngine = this.getAvailableMediaEngine(["WMPEngine", "QTEngine"]);
                break;
            case "Firefox":
            case "Safari":
            case "Camino":
            case "Netscape":
            case "Mozilla":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine", "WMPEngine"]);
                break;
            case "Opera":
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
                break;
            default:
                this.currentEngine = this.getAvailableMediaEngine(["QTEngine", "WMPEngine"]);
            }
            break;
        case "Mac":
            this.currentEngine = this.getAvailableMediaEngine(["QTEngine"]);
            break;
        }
        break;
    }
};
YAHOO.mediaplayer.MediaEngine.prototype.getAvailableMediaEngine = function (f) {
    if (YAHOO.mediaplayer.Util.BROWSER == "Firefox" && YAHOO.mediaplayer.Util.BROWSER_VERSION == 3) {
        var e = document.getElementById("ymp-qt-engine");
        if (e) {
            e.parentNode.removeChild(e);
            YAHOO.mediaplayer.Controller.qtengine = null;
        }
    }
    for (var c = 0, b = f.length, d, a; c < b; c++) {
        a = f[c].toLowerCase();
        d = YAHOO.mediaplayer.Controller[a];
        if (d == null) {
            d = new YAHOO.mediaplayer[f[c]](this.controller);
        }
        if (d.available) {
            return d;
        }
    }
    return null;
};
YAHOO.mediaplayer.MediaEngine.prototype.getVolume = function () {
    return this.vol;
};
YAHOO.mediaplayer.MediaEngine.prototype.onPlayStateChange = function (a) {
    switch (a.newState) {
    case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:
        if (a.media) {
            a.media.duration = this.getDuration();
        }
        if (this.progressIntervalID == null) {
            this.fireProgress();
            this.progressIntervalID = window.setInterval(this.toString() + ".fireProgress()", 1000);
        }
        break;
    default:
        if (this.progressIntervalID != null) {
            window.clearInterval(this.progressIntervalID);
            this.progressIntervalID = null;
        }
        this.clearPlaybackTimeout();
        break;
    }
};
YAHOO.mediaplayer.MediaEngine.prototype.onVolumeChangeRequest = function (a) {
    try {
        this.vol = a;
        if (this.currentEngine != null && this.currentEngine.available) {
            this.currentEngine.setVolume(a);
        }
        YAHOO.mediaplayer.Util.setCookie("YMP_VOLUME", a);
        this.EventManager.onVolumeChange.fire(a);
    } catch (b) {}
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.FlashEngine = function (a) {
    var b = [];
    YAHOO.mediaplayer.FlashEngine.superclass.constructor.call(this, a, b);
    this.EventManager.addEvents(["onError"]);
    this.initController(a);
    this.controller = this.getController();
    this.id = "ymp-flash-engine";
    this.available = false;
    this.ready = false;
    this.currentMedia = null;
    this.vol = 0.5;
    this.seek = null;
    this.init();
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.FlashEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.FlashEngine.prototype.refByName = "flashengine";
YAHOO.mediaplayer.FlashEngine.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.FlashEngine.prototype.init = function () {
    if (YAHOO.mediaplayer.SWFObject && YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")) {
        var b = document.createElement("span");
        b.id = "dummy-flashengine";
        document.body.appendChild(b);
        var f = {
            onLoad: this.toString() + ".onLoad",
            timeout: 20000
        };
        var d = {
            allowScriptAccess: "always",
            allowNetworking: "all"
        };
        var a = {
            id: this.id,
            name: this.id,
            style: "position:absolute; top:0; left:-30px;"
        };
        try {
            YAHOO.mediaplayer.SWFObject.embedSWF("https://127.0.0.1:1080/Partner/Content/player/flashsound.swf", b.id, "1", "1", "9.0.0", false, f, d, a);
            this.available = true;
        } catch (c) {}
    } else {
        this.EventManager.onError.fire(new YAHOO.mediaplayer.Error("23", null));
    }
};
YAHOO.mediaplayer.FlashEngine.prototype.onLoad = function () {
    this.ready = true;
    this.getSWF().flAddListener("PlayStateChange", this.toString() + ".onPlayStateChange");
    this.getSWF().flAddListener("Error", this.toString() + ".onError");
    if (this.currentMedia != null) {
        this.play(this.currentMedia, this.seek);
    }
    this.setVolume(this.vol);
};
YAHOO.mediaplayer.FlashEngine.prototype.play = function (b, a) {
    this.seek = a;
    if (b != null) {
        this.currentMedia = b;
    }
    if (this.ready) {
        if (b != null) {
            this.getSWF().flLoadMedia(this.currentMedia.token);
        }
        this.getSWF().flPlay(this.seek);
    }
};
YAHOO.mediaplayer.FlashEngine.prototype.pause = function () {
    this.getSWF().flPause();
};
YAHOO.mediaplayer.FlashEngine.prototype.stop = function (a) {
    if (a == null) {
        a = false;
    }
    this.getSWF().flStop(a);
};
YAHOO.mediaplayer.FlashEngine.prototype.getElapsed = function () {
    return this.getSWF().flGetElapsed();
};
YAHOO.mediaplayer.FlashEngine.prototype.getDuration = function () {
    return this.getSWF().flGetDuration();
};
YAHOO.mediaplayer.FlashEngine.prototype.setVolume = function (a) {
    this.vol = a;
    if (this.ready) {
        this.getSWF().flSetVolume(a);
    }
};
YAHOO.mediaplayer.FlashEngine.prototype.onError = function (a) {
    YAHOO.mediaplayer.Controller.mediaengine.handleError(a, null);
};
YAHOO.mediaplayer.FlashEngine.prototype.onPlayStateChange = function (a) {
    YAHOO.mediaplayer.Controller.mediaengine.changePlayState(a);
};
YAHOO.mediaplayer.FlashEngine.prototype.getSWF = function () {
    if (this.player == null) {
        this.player = YAHOO.mediaplayer.SWFObject.getSWF(this.id);
    }
    return this.player;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.WMPEngine = function (a) {
    try {
        var c = [];
        YAHOO.mediaplayer.WMPEngine.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents([]);
        this.initController(a);
        this.controller = this.getController();
        this.id = "ymp-wmp-engine";
        this.version = null;
        this.player = null;
        this.available = false;
        this.currentState = null;
        this.currentMedia = null;
        this.ready = false;
        this.volume = null;
        this.seek = null;
        this.init();
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.WMPEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.WMPEngine.prototype.refByName = "wmpengine";
YAHOO.mediaplayer.WMPEngine.prototype.toString = function () {
    return "YAHOO.music.WebPlayer." + this.refByName;
};
YAHOO.mediaplayer.WMPEngine.prototype.PlayStateEnum = {
    9: 3,
    6: 3,
    3: 2,
    2: 1,
    8: 4,
    1: 0
};
YAHOO.mediaplayer.WMPEngine.prototype.init = function () {
    try {
        if (!this.player) {
            var a = false;
            if (YAHOO.mediaplayer.Util.detectPlugin("Windows Media Player Firefox", "WMPlayer.OCX") !== null) {
                a = true;
            }
            if (a === true) {
                var b = document.createElement("span");
                b.id = "dummy-wmpengine";
                document.body.appendChild(b);
                var d = "";
                if (YAHOO.mediaplayer.Util.BROWSER === "MSIE") {
                    d = "<object id='" + this.id + "' style='width:1px; height:1px; position:absolute; top:0; left:-30px; display:none;'" + " classid=CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6" + " type='application/x-oleobject'>" + "<param name='autostart' value='true'>" + "</object>";
                } else {
                    if (YAHOO.mediaplayer.Util.BROWSER === "Firefox" || YAHOO.mediaplayer.Util.BROWSER === "Opera" || YAHOO.mediaplayer.Util.BROWSER === "Camino" || YAHOO.mediaplayer.Util.BROWSER === "Netscape" || YAHOO.mediaplayer.Util.BROWSER === "Mozilla" || YAHOO.mediaplayer.Util.BROWSER === "Unknown") {
                        d = "<object id='" + this.id + "' style='width:1px; height:1px;'" + "type='application/x-ms-wmp' data = ''>" + "<param name='URL' value='' /><param name='uiMode' value='none'>" + "</object>";
                    }
                }
                d += '<script for="' + this.id + '" type="text/javascript" event="PlayStateChange(newState)">';
                d += "YAHOO.mediaplayer.Controller.wmpengine.onPlayStateChange(newState);";
                d += "<\/script>";
                d += '<script for="' + this.id + '" type="text/javascript" event="Error()">';
                d += "YAHOO.mediaplayer.Controller.wmpengine.onError();";
                d += "<\/script>";
                b.innerHTML = d;
                this.currentState = 0;
                setTimeout("YAHOO.mediaplayer.Controller.wmpengine.onLoad()", 250);
                this.available = true;
            } else {
                this.available = false;
                if (YAHOO.mediaplayer.Util.BROWSER === "Firefox") {
                    this.controller.mediaengine.handleError("9", null);
                }
            }
        }
    } catch (c) {}
};
YAHOO.mediaplayer.WMPEngine.prototype.onLoad = function () {
    this.player = document.getElementById(this.id);
    this.version = "WMP " + this.player.versionInfo;
    this.ready = true;
    if (this.currentMedia != null) {
        if (typeof(this.volume) !== "number") {
            this.volume = 0.5;
        }
        this.setVolume(this.volume);
        this.play(this.currentMedia);
    }
};
YAHOO.mediaplayer.WMPEngine.prototype.play = function (b, a) {
    if (typeof(a) === "number") {
        this.seek = a / 1000;
    }
    if (this.currentState === this.PlayStateEnum[2]) {
        this.player.controls.play();
    } else {
        if (b != null) {
            this.currentMedia = b;
        }
        if (this.ready) {
            this.player.URL = this.currentMedia.token;
        }
    }
};
YAHOO.mediaplayer.WMPEngine.prototype.pause = function () {
    this.player.controls.pause();
};
YAHOO.mediaplayer.WMPEngine.prototype.stop = function () {
    this.player.controls.stop();
};
YAHOO.mediaplayer.WMPEngine.prototype.getElapsed = function () {
    if (this.player && this.player.controls) {
        return this.player.controls.currentPosition * 1000;
    } else {
        return null;
    }
};
YAHOO.mediaplayer.WMPEngine.prototype.getDuration = function () {
    if (this.player && this.player.controls && this.player.controls.currentItem) {
        return this.player.controls.currentItem.duration * 1000;
    } else {
        return null;
    }
};
YAHOO.mediaplayer.WMPEngine.prototype.onPlayStateChange = function (a) {
    if (typeof(this.PlayStateEnum[a]) === "number") {
        this.currentState = this.PlayStateEnum[a];
        if (this.currentState === 2 && typeof(this.seek) === "number") {
            this.player.controls.currentPosition = this.seek;
            this.seek = null;
        }
        YAHOO.mediaplayer.Controller.mediaengine.changePlayState(this.PlayStateEnum[a]);
    }
};
YAHOO.mediaplayer.WMPEngine.prototype.setVolume = function (a) {
    this.volume = a;
    if (this.player) {
        this.player.settings.volume = parseInt(a * 100, 10);
    }
};
YAHOO.mediaplayer.WMPEngine.prototype.getVolume = function () {
    return this.player.settings.volume / 100;
};
YAHOO.mediaplayer.WMPEngine.prototype.onError = function () {
    try {
        if (this.player.error.errorCount > 0) {
            var a = null;
            var c = this.player.error.item(0).errorCode;
            c = YAHOO.mediaplayer.Util.convertToHexadecimal(c);
            switch (c) {
            case "C00D1197":
            case "80070037":
            case "800704CF":
            case "C00D001F":
                this.controller.mediaengine.handleError("1", null);
                break;
            case "800C2EE2":
            case "C00D000F":
            case "C00D1198":
            case "C00D1198":
            case "C00D11CB":
                this.controller.mediaengine.handleError("7", null);
                break;
            default:
                this.controller.mediaengine.handleError("3", null);
                break;
            }
            this.player.error.clearErrorQueue();
            this.stop();
        }
    } catch (b) {}
    this.onPlayStateChange(8);
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.WMPFF3Engine = function (a) {
    try {
        var c = [];
        YAHOO.mediaplayer.WMPFF3Engine.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents([]);
        this.initController(a);
        this.controller = this.getController();
        this.id = "ymp-wmpff3-engine";
        this.version = null;
        this.player = null;
        this.available = false;
        this.currentState = null;
        this.currentMedia = null;
        this.ready = false;
        this.volume = null;
        this.naturalStop = true;
        this.seek = null;
        this.timeoutInterval = 100;
        this.timeoutId = null;
        this.init();
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.WMPFF3Engine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.WMPFF3Engine.prototype.refByName = "wmpff3engine";
YAHOO.mediaplayer.WMPFF3Engine.prototype.toString = function () {
    return "YAHOO.music.WebPlayer." + this.refByName;
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.PlayStateEnum = {
    9: 3,
    3: 2,
    2: 1,
    1: 4,
    0: 0
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.init = function () {
    try {
        if (!this.player) {
            var a = false;
            if (YAHOO.mediaplayer.Util.detectPlugin("Windows Media Player Firefox", "WMPlayer.OCX") !== null) {
                a = true;
            }
            if (a === true) {
                var b = document.createElement("span");
                b.id = "dummy-wmpff3engine";
                document.body.appendChild(b);
                var d = "";
                if (YAHOO.mediaplayer.Util.BROWSER === "MSIE") {
                    d = "<object id='" + this.id + "' style='width:1px; height:1px; position:absolute; top:0; left:-30px; display:none;'" + " classid=CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6" + " type='application/x-oleobject'>" + "<param name='autostart' value='true'>" + "</object>";
                } else {
                    if (YAHOO.mediaplayer.Util.BROWSER === "Firefox" || YAHOO.mediaplayer.Util.BROWSER === "Opera" || YAHOO.mediaplayer.Util.BROWSER === "Camino" || YAHOO.mediaplayer.Util.BROWSER === "Netscape" || YAHOO.mediaplayer.Util.BROWSER === "Mozilla" || YAHOO.mediaplayer.Util.BROWSER === "Unknown") {
                        d = "<object id='" + this.id + "' style='width:1px; height:1px;'" + "type='application/x-ms-wmp' data = ''>" + "<param name='URL' value='' /><param name='uiMode' value='none'>" + "</object>";
                    }
                }
                d += '<script for="' + this.id + '" type="text/javascript" event="PlayStateChange(newState)">';
                d += "YAHOO.mediaplayer.Controller.wmpff3engine.onPlayStateChange(newState);";
                d += "<\/script>";
                d += '<script for="' + this.id + '" type="text/javascript" event="Error()">';
                d += "YAHOO.mediaplayer.Controller.wmpff3engine.onError();";
                d += "<\/script>";
                b.innerHTML = d;
                this.currentState = 0;
                setTimeout("YAHOO.mediaplayer.Controller.wmpff3engine.onLoad()", 250);
                this.available = true;
            } else {
                this.available = false;
                if (YAHOO.mediaplayer.Util.BROWSER === "Firefox") {
                    this.controller.mediaengine.handleError("9", null);
                }
            }
        }
    } catch (c) {}
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.onLoad = function () {
    this.player = document.getElementById(this.id);
    this.version = "WMPFF3 " + this.player.versionInfo;
    this.ready = true;
    if (this.currentMedia != null) {
        if (typeof(this.volume) !== "number") {
            this.volume = 0.5;
        }
        this.setVolume(this.volume);
        this.play(this.currentMedia);
    }
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.play = function (b, a) {
    if (typeof(a) === "number") {
        this.seek = a / 1000;
    }
    if (this.currentState === this.PlayStateEnum[2]) {
        this.player.controls.play();
    } else {
        if (b != null) {
            this.currentMedia = b;
        }
        if (this.ready) {
            this.timeoutId = window.setTimeout("YAHOO.mediaplayer.Controller.wmpff3engine.checkPlayState()", this.timeoutInterval);
            this.player.URL = this.currentMedia.token;
        }
    }
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.stop = function () {
    this.naturalStop = false;
    this.onPlayStateChange(0);
    if (this.timeoutId) {
        window.clearTimeout(this.timeoutId);
    }
    this.player.controls.stop();
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.getElapsed = function () {
    if (this.player && this.player.controls) {
        return this.player.controls.currentPosition * 1000;
    } else {
        return null;
    }
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.getDuration = function () {
    if (this.player && this.player.controls && this.player.controls.currentItem) {
        return this.player.controls.currentItem.duration * 1000;
    } else {
        return null;
    }
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.onPlayStateChange = function (a) {
    if (typeof(this.PlayStateEnum[a]) === "number") {
        this.currentState = this.PlayStateEnum[a];
        if (this.currentState === 2 && typeof(this.seek) === "number") {
            this.player.controls.currentPosition = this.seek;
            this.seek = null;
        }
        YAHOO.mediaplayer.Controller.mediaengine.changePlayState(this.PlayStateEnum[a]);
    }
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.setVolume = function (a) {
    this.volume = a;
    if (this.player) {
        this.player.settings.volume = parseInt(a * 100, 10);
    }
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.getVolume = function () {
    return this.player.settings.volume / 100;
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.onError = function () {
    try {
        if (this.player.error.errorCount > 0) {
            var a = null;
            var c = String(this.player.error.item(0).errorCode);
            switch (c) {
            case "C00D1197":
            case "80070037":
            case "800704CF":
            case "C00D001F":
                this.controller.mediaengine.handleError("1", null);
                break;
            case "800C2EE2":
            case "C00D000F":
            case "C00D1198":
            case "C00D1198":
            case "C00D11CB":
                this.controller.mediaengine.handleError("7", null);
                break;
            default:
                this.controller.mediaengine.handleError("3", null);
                break;
            }
            this.player.error.clearErrorQueue();
            this.stop();
        }
    } catch (b) {}
    this.onPlayStateChange(1);
};
YAHOO.mediaplayer.WMPFF3Engine.prototype.checkPlayState = function () {
    window.clearTimeout(this.timeoutId);
    if (this.player.error.errorCount > 0) {
        this.onError(1);
        return;
    } else {
        if (this.player && this.PlayStateEnum[this.player.playState] !== this.currentState) {
            if (this.naturalStop === false && this.player.playState == 1) {
                this.naturalStop = true;
            } else {
                this.onPlayStateChange(this.player.playState);
            }
        }
    }
    if (this.currentState >= 1) {
        this.timeoutId = window.setInterval("YAHOO.mediaplayer.Controller.wmpff3engine.checkPlayState()", this.timeoutInterval);
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.QTEngine = function (a) {
    try {
        var c = [];
        YAHOO.mediaplayer.QTEngine.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents(["onVolumeChange"]);
        this.initController(a);
        this.controller = this.getController();
        this.id = "ymp-qt-engine";
        this.available = false;
        this.ready = false;
        this.currentMedia = null;
        this.player = null;
        this.version = null;
        this.volume = null;
        this.currentState = null;
        this.naturalStop = null;
        this.seek = null;
        this.init();
        this.timeOut = null;
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.QTEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.QTEngine.prototype.refByName = "qtengine";
YAHOO.mediaplayer.QTEngine.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.QTEngine.PlayStateEnum = {
    qt_play: 2,
    qt_buffer: 3,
    qt_pause: 1,
    qt_ended: 4,
    qt_stopped: 0
};
YAHOO.mediaplayer.QTEngine.prototype.init = function () {
    try {
        var a = false;
        if (YAHOO.mediaplayer.Util.detectPlugin("QuickTime Plug-in", "QuickTime.QuickTime") !== null) {
            a = true;
        }
        if (a === true) {
            var b = document.createElement("span");
            b.id = "dummy-qtengine";
            document.body.appendChild(b);
            var d = "";
            if (YAHOO.mediaplayer.Util.BROWSER === "MSIE") {
                d += '<object id="qt_event_source" classid="clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598"' + ' codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0" ></object>' + '<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"' + ' codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0"' + ' width="0" height="0" type="audio/quicktime" id="' + this.id + '"' + ' controller="false" style="behavior:url(#qt_event_source);">' + '<param name="controller" value="false"/><param name="src" value=""/><param name="postdomevents" value="true"/>' + "</object>";
            } else {
                d += "<embed width='1px' height='1px' " + "id='" + this.id + "' " + "name='" + this.id + "' " + "type='video/quicktime' " + "src='' " + "pluginspage='http://www.apple.com/quicktime/download/' " + "enablejavascript='true' " + "controller='false' " + "style='position:fixed; top:0; right:0;' " + "autoplay='true' postdomevents='true'" + "/>";
            }
            b.innerHTML = d;
            this.timeOut = window.setTimeout("YAHOO.mediaplayer.Controller.qtengine.checkLoad();", 500);
            this.currentState = YAHOO.mediaplayer.QTEngine.PlayStateEnum.qt_stopped;
            this.available = true;
        } else {
            this.available = false;
        }
    } catch (c) {}
};
YAHOO.mediaplayer.QTEngine.prototype.checkLoad = function () {
    this.player = document.getElementById(this.id);
    if (this.player) {
        this.version = this.player.GetQuickTimeVersion();
        if (this.version) {
            this.ready = true;
            if (document.addEventListener) {
                this.player.addEventListener("qt_play", YAHOO.mediaplayer.Controller.qtengine.changePlayState, false);
                this.player.addEventListener("qt_pause", YAHOO.mediaplayer.Controller.qtengine.changePlayState, false);
                this.player.addEventListener("qt_error", YAHOO.mediaplayer.Controller.qtengine.onError, false);
                this.player.addEventListener("qt_ended", YAHOO.mediaplayer.Controller.qtengine.changePlayState, false);
                this.player.addEventListener("qt_volumechange", YAHOO.mediaplayer.Controller.qtengine.onVolumeChangeHandler, false);
            } else {
                this.player.attachEvent("onqt_play", YAHOO.mediaplayer.Controller.qtengine.changePlayState);
                this.player.attachEvent("onqt_pause", YAHOO.mediaplayer.Controller.qtengine.changePlayState);
                this.player.attachEvent("onqt_error", YAHOO.mediaplayer.Controller.qtengine.onError);
                this.player.attachEvent("onqt_ended", YAHOO.mediaplayer.Controller.qtengine.changePlayState);
                this.player.attachEvent("onqt_volumechange", YAHOO.mediaplayer.Controller.qtengine.onVolumeChangeHandler);
            }
            if (typeof(this.volume) !== "number") {
                this.volume = 0.5;
            }
            this.setVolume(this.volume);
            this.play(this.currentMedia);
        }
    }
};
YAHOO.mediaplayer.QTEngine.prototype.play = function (b, a) {
    this.naturalStop = true;
    if (typeof(a) === "number") {
        this.seek = a;
    }
    if (this.currentState === YAHOO.mediaplayer.QTEngine.PlayStateEnum.qt_pause) {
        this.player.Play();
    } else {
        if (b != null) {
            this.currentMedia = b;
        }
        if (this.ready) {
            if (b != null) {
                this.changePlayState({
                    type: "qt_buffer"
                });
                this.player.SetURL(b.token);
            }
        }
    }
};
YAHOO.mediaplayer.QTEngine.prototype.changePlayState = function (a) {
    if (a.type === "qt_play") {
        if (typeof(YAHOO.mediaplayer.Controller.qtengine.seek) === "number") {
            YAHOO.mediaplayer.Controller.qtengine.player.SetTime((YAHOO.mediaplayer.Controller.qtengine.seek / 1000) * YAHOO.mediaplayer.Controller.qtengine.player.GetTimeScale());
            YAHOO.mediaplayer.Controller.qtengine.seek = null;
        }
        YAHOO.mediaplayer.Controller.qtengine.setVolume(YAHOO.mediaplayer.Controller.qtengine.volume);
    }
    if (YAHOO.mediaplayer.Controller.qtengine.naturalStop === false && a.type === "qt_pause") {
        YAHOO.mediaplayer.Controller.qtengine.currentState = YAHOO.mediaplayer.QTEngine.PlayStateEnum.qt_stopped;
        YAHOO.mediaplayer.Controller.qtengine.naturalStop = true;
    } else {
        YAHOO.mediaplayer.Controller.qtengine.currentState = YAHOO.mediaplayer.QTEngine.PlayStateEnum[a.type];
        YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.Controller.qtengine.currentState);
    }
};
YAHOO.mediaplayer.QTEngine.prototype.onError = function (a) {};
YAHOO.mediaplayer.QTEngine.prototype.getElapsed = function () {
    var a = 0;
    try {
        a = this.player.GetTime() / this.player.GetTimeScale() * 1000;
    } catch (b) {
        return 0;
    }
    return isNaN(a) ? 0 : a;
};
YAHOO.mediaplayer.QTEngine.prototype.getDuration = function () {
    var b = 0;
    try {
        b = this.player.GetDuration() / this.player.GetTimeScale() * 1000;
    } catch (a) {
        return 0;
    }
    return isNaN(b) ? 0 : b;
};
YAHOO.mediaplayer.QTEngine.prototype.pause = function () {
    this.player.Stop();
};
YAHOO.mediaplayer.QTEngine.prototype.stop = function () {
    try {
        this.player.Stop();
        this.player.SetTime(0);
    } catch (a) {}
    this.player.SetURL("");
    YAHOO.mediaplayer.Controller.mediaengine.changePlayState(0);
    this.naturalStop = false;
};
YAHOO.mediaplayer.QTEngine.prototype.setVolume = function (a) {
    try {
        this.volume = a;
        if (!isNaN(a)) {
            this.player.SetVolume(parseInt(a * 768, 10));
        }
    } catch (b) {}
};
YAHOO.mediaplayer.QTEngine.prototype.getVolume = function () {
    return this.player.GetVolume() / 768;
};
YAHOO.mediaplayer.QTEngine.prototype.onVolumeChangeHandler = function (a) {
    if (YAHOO.mediaplayer.Util.BROWSER == "Firefox" && YAHOO.mediaplayer.Util.BROWSER_VERSION == 3) {
        YAHOO.mediaplayer.Controller.qtengine.volume = YAHOO.mediaplayer.Controller.qtengine.getVolume();
        YAHOO.mediaplayer.Controller.qtengine.EventManager.onVolumeChange.fire(YAHOO.mediaplayer.Controller.qtengine.getVolume());
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.RhapsodyEngine = function (a) {
    var b = [];
    YAHOO.mediaplayer.RhapsodyEngine.superclass.constructor.call(this, a, b);
    this.initController(a);
    this.controller = this.getController();
    this.id = "ymp-rhapsody-engine";
    this.available = false;
    this.ready = false;
    this.currentMedia = null;
    this.vol = 0.5;
    this.seek = null;
    this.swfURL = "http://playback-ns.rhapsody.com/-static/players/engine/yahoo/rhapsodyPlaybackEngine.swf";
    if (YAHOO.mediaplayer.YMPParams && YAHOO.mediaplayer.YMPParams.yahootest === true) {
        this.swfURL = "http://playback-ns.rhapsody.com/-static/players/engine/yahootest/rhapsodyPlaybackEngine.swf";
    }
    this.init();
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.RhapsodyEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.RhapsodyEngine.prototype.refByName = "rhapsodyengine";
YAHOO.mediaplayer.RhapsodyEngine.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.init = function () {
    if (YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")) {
        var b = document.createElement("span");
        b.id = "dummy-rhapsodyengine";
        document.body.appendChild(b);
        var f = {
            env: "production",
            fp_context: "popout",
            pcode: YAHOO.mediaplayer.YMPParams.rhappcode,
            onEngineReady: "YAHOO.mediaplayer.Controller.rhapsodyengine.onEngineReady"
        };
        var d = {
            allowScriptAccess: "always",
            allowNetworking: "all"
        };
        var a = {
            id: this.id,
            name: this.id,
            style: "position:absolute; top:0; left:-30px;"
        };
        try {
            if (YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")) {
                YAHOO.mediaplayer.SWFObject.embedSWF(this.swfURL, b.id, "1", "1", "9.0.0", false, f, d, a);
                this.available = true;
            }
        } catch (c) {}
    }
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.onEngineReady = function () {
    this.ready = true;
    this.setVolume(this.vol, true);
    this.getSWF().addListener("onPlayStateChanged", this.toString() + ".onPlayStateChange");
    this.getSWF().addListener("onTrackClosed", this.toString() + ".onTrackClosed");
    this.getSWF().addListener("onError", this.toString() + ".onError");
    if (this.currentMedia != null) {
        this.play(this.currentMedia, this.seek);
    }
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.play = function (c, a) {
    this.seek = a;
    if (c != null) {
        this.currentMedia = c;
    }
    if (this.ready) {
        if (c != null) {
            var b = this.getSWF().getCurrentTrackId();
            if (b != null && b.toLowerCase() == this.currentMedia.token.toLowerCase()) {
                this.getSWF().doPlay();
            } else {
                this.getSWF().doPlayTrack(this.currentMedia.token);
                this.controller.logger.logPlay(this.currentMedia.token);
            }
        } else {
            this.getSWF().doPlay();
            this.controller.logger.logPlay(this.currentMedia.token);
        }
        if (this.seek !== null && this.seek !== undefined) {
            this.getSWF().setPosition(a);
        }
    }
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.pause = function () {
    this.getSWF().doPause();
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.stop = function () {
    this.getSWF().doStop();
    this.currentMedia = null;
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.getElapsed = function () {
    return this.getSWF().getPosition();
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.getDuration = function () {
    return this.getSWF().getTrackLength();
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.setVolume = function (a, b) {
    if (b == null) {
        b = false;
    }
    this.vol = a;
    if (this.ready) {
        this.getSWF().setVolume(a, b);
    }
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.onError = function (a) {
    switch (a) {
    case 3:
    case 5:
        a = "7";
        break;
    case 4:
        a = "13";
        break;
    case 6:
        a = "14";
        break;
    case 7:
        a = "15";
        break;
    case 8:
        a = "16";
        break;
    case 9:
        a = "17";
        break;
    case 10:
        a = "18";
        break;
    case 13:
        a = "19";
        break;
    case 15:
        a = "20";
        break;
    case 1:
    case 2:
    case 11:
    case 12:
    case 14:
    default:
        a = "3";
    }
    YAHOO.mediaplayer.Controller.mediaengine.handleError(a, null);
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.onPlayStateChange = function (a, b) {
    switch (b) {
    case 0:
        b = YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED;
        break;
    case 1:
    case 2:
    case 3:
        b = YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING;
        break;
    case 4:
        b = YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING;
        break;
    case 5:
        b = YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED;
        break;
    }
    YAHOO.mediaplayer.Controller.mediaengine.changePlayState(b);
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.onTrackClosed = function () {
    if (YAHOO.mediaplayer.Controller.mediaengine.currentPlayState !== YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING) {
        YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.MediaEngine.PlayState.ENDED);
    }
};
YAHOO.mediaplayer.RhapsodyEngine.prototype.getSWF = function () {
    if (this.player == null) {
        this.player = YAHOO.mediaplayer.SWFObject.getSWF(this.id);
    }
    return this.player;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Rhapsody = function (a) {
    var b = ["onPlayStateChange"];
    YAHOO.mediaplayer.Rhapsody.superclass.constructor.call(this, a, b);
    this.initController(a);
    this.controller = this.getController();
    this.stickwallShownAt = -1;
    this.playsAfterZero = 0;
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Rhapsody, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.Rhapsody.prototype.refByName = "rhapsody";
YAHOO.mediaplayer.Rhapsody.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.Rhapsody.regex = {
    track: /http(\:|%3A)\/\/([^:\/\s]+\.rhapsody\.com)\/(player|goto)(\?|%3F)rcid=(tra\.[0-9]+).*$/i
};
YAHOO.mediaplayer.Rhapsody.prototype.getFreePlays = function () {
    return YAHOO.mediaplayer.Controller.rhapsodyengine.getSWF().getAccountProperty("freePlaysRemaining");
};
YAHOO.mediaplayer.Rhapsody.prototype.getSubType = function () {
    return YAHOO.mediaplayer.Controller.rhapsodyengine.getSWF().getAccountProperty("subscriptionType");
};
YAHOO.mediaplayer.Rhapsody.prototype.timeForStickwall = function () {
    var b = this.getSubType();
    var a = this.getFreePlays();
    if (b == null || b == "RHAPSODY_25") {
        if (a > 0 && a < 25 && (a % 5) == 0) {
            if (this.stickwallShownAt != a) {
                this.stickwallShownAt = a;
                return true;
            }
        } else {
            if (a <= 0 && (this.playsAfterZero % 10) == 0) {
                if (this.stickwallShownAt != this.playsAfterZero) {
                    this.stickwallShownAt = this.playsAfterZero;
                    return true;
                }
            }
        }
    }
    return false;
};
YAHOO.mediaplayer.Rhapsody.rightsFlags = {
    STREAM: 2,
    DOWNLOAD_PORTABLE: 16,
    DOWNLOAD_NONPORTABLE: 32,
    PURCHASEDRMFREE: 512
};
YAHOO.mediaplayer.Rhapsody.prototype.onPlayStateChange = function (a) {
    if (this.getFreePlays() <= 0 && a && a.media && a.media.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.rhapsody && a.newState === YAHOO.mediaplayer.MediaEngine.PlayState.ENDED) {
        this.playsAfterZero++;
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.ymu = function (a) {
    var b = [];
    YAHOO.mediaplayer.ymu.superclass.constructor.call(this, a, b);
    this.initController(a);
    this.controller = this.getController();
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.ymu, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.ymu.prototype.refByName = "ymu";
YAHOO.mediaplayer.ymu.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.ymu.regex = {
    track: /http(\:|%3A)\/\/([^:\/\s]+\.yahoo\.com)\/.*(track|tracks)(.*--|\/)(\d+$)$/
};
YAHOO.mediaplayer.ymu.rhapsodyCatalogId = "157431055";
YAHOO.mediaplayer.ymu.amgCatalogId = "205754011";
YAHOO.mediaplayer.ymu.rightsFlags = {
    STREAM: 128,
    DOWNLOAD: 32,
    DOANLOADALBUM: 64
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.FlvEngine = function (a) {
    var b = [];
    YAHOO.mediaplayer.FlvEngine.superclass.constructor.call(this, a, b);
    this.initController(a);
    this.controller = this.getController();
    this.id = "ymp-flv-engine";
    this.available = false;
    this.ready = false;
    this.currentMedia = null;
    this.vol = 0.5;
    this.seek = null;
    this.init();
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.FlvEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.FlvEngine.prototype.refByName = "flvengine";
YAHOO.mediaplayer.FlvEngine.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.FlvEngine.prototype.init = function () {
    if (YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")) {
        var b = document.createElement("span");
        b.id = "dummy-flvengine";
        document.body.appendChild(b);
        var f = {
            onLoad: this.toString() + ".onLoad",
            timeout: 20000
        };
        var d = {
            allowScriptAccess: "always",
            allowNetworking: "all"
        };
        var a = {
            id: this.id,
            name: this.id,
            style: "position:absolute; top:0; left:-30px;"
        };
        try {
            if (YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")) {
                YAHOO.mediaplayer.SWFObject.embedSWF("https://127.0.0.1:1080/Partner/Content/player/flvplayer.swf", b.id, "1", "1", "9.0.0", false, f, d, a);
                this.available = true;
            }
        } catch (c) {}
    }
};
YAHOO.mediaplayer.FlvEngine.prototype.onLoad = function () {
    this.ready = true;
    this.getSWF().flAddListener("PlayStateChange", this.toString() + ".onPlayStateChange");
    this.getSWF().flAddListener("Error", this.toString() + ".onError");
    if (this.currentMedia != null) {
        this.play(this.currentMedia, this.seek);
    }
    this.setVolume(this.vol);
};
YAHOO.mediaplayer.FlvEngine.prototype.play = function (b, a) {
    this.seek = a;
    if (b != null) {
        this.currentMedia = b;
    }
    if (this.ready) {
        if (b != null) {
            this.getSWF().flLoadMedia(this.currentMedia.token);
        }
        this.getSWF().flPlay(this.seek);
    }
};
YAHOO.mediaplayer.FlvEngine.prototype.pause = function () {
    this.getSWF().flPause();
};
YAHOO.mediaplayer.FlvEngine.prototype.stop = function (a) {
    if (a == null) {
        a = false;
    }
    this.getSWF().flStop(a);
};
YAHOO.mediaplayer.FlvEngine.prototype.getElapsed = function () {
    var a = this.getSWF().flGetElapsed() * 1000;
    return a;
};
YAHOO.mediaplayer.FlvEngine.prototype.getDuration = function () {
    var a = this.getSWF().flGetDuration() * 1000;
    return a;
};
YAHOO.mediaplayer.FlvEngine.prototype.setVolume = function (a) {
    this.vol = a;
    if (this.ready) {
        this.getSWF().flSetVolume(a);
    }
};
YAHOO.mediaplayer.FlvEngine.prototype.onError = function (a) {
    YAHOO.mediaplayer.Controller.mediaengine.handleError(a, null);
};
YAHOO.mediaplayer.FlvEngine.prototype.onPlayStateChange = function (a) {
    YAHOO.mediaplayer.Controller.mediaengine.changePlayState(a);
};
YAHOO.mediaplayer.FlvEngine.prototype.getSWF = function () {
    if (this.player == null) {
        this.player = YAHOO.mediaplayer.SWFObject.getSWF(this.id);
    }
    return this.player;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.VideoEngine = function (a) {
    try {
        var c = ["onTrayOpen"];
        YAHOO.mediaplayer.VideoEngine.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents([]);
        this.initController(a);
        this.controller = this.getController();
        this.id = null;
        this.version = null;
        this.internalPlayer = null;
        this.available = false;
        this.volume = null;
        this.embedDetails = {
            params: {
                allowScriptAccess: "always"
            },
            attributes: {
                id: this.videoPlayerId
            },
            url: null,
            flashvars: null
        };
        this.playerCB = null;
        this.currentMedia = null;
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.VideoEngine, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.VideoEngine.prototype.refByName = "videoengine";
YAHOO.mediaplayer.VideoEngine.prototype.toString = function () {
    return "YAHOO.music.WebPlayer." + this.refByName;
};
YAHOO.mediaplayer.VideoEngine.prototype.unitConversions = {
    "seek": function (a) {
        return a;
    },
    "getElapsed": function (a) {
        return a;
    },
    "getDuration": function (a) {
        return a;
    },
    "setVolume": function (a) {
        return a;
    },
    "getVolume": function (a) {
        return a;
    }
};
YAHOO.mediaplayer.VideoEngine.prototype.getPlayer = function () {
    return this.internalPlayer;
};
YAHOO.mediaplayer.VideoEngine.prototype.init = function () {
    if (this.getPlayer()) {
        return;
    }
    if (this.playerCB) {
        var b = this;
        var c = window[this.playerCB.name];
        window[this.playerCB.name] = function () {
            b.playerCB.callback.apply(b, arguments);
            if (c) {
                c(args);
            }
        };
    }
    var d = document.getElementById("ymp-video-player-pane");
    var a = document.createElement("div");
    a.setAttribute("id", "ymp-video-container");
    d.appendChild(a);
    YAHOO.mediaplayer.SWFObject.embedSWF(this.embedDetails.url, "ymp-video-container", "366", "206", "9.0.0", null, this.embedDetails.flashVars, this.embedDetails.params, this.embedDetails.attributes);
    YAHOO.ympyui.util.Dom.setStyle(this.videoPlayerId, "visibility", "hidden");
    this.showPlayerIfNeeded();
    this.available = true;
};
YAHOO.mediaplayer.VideoEngine.prototype.initPlayer = function () {
    this.internalPlayer = document.getElementById(this.videoPlayerId);
    if (this.volume != null) {
        this.setVolume(this.volume);
    }
    if (this.currentMedia) {
        var a = this.currentMedia;
        this.currentMedia = null;
        this.play(a);
    }
};
YAHOO.mediaplayer.VideoEngine.prototype.pause = function () {
    if (!this.getPlayer()) {
        return;
    }
    if (!this.commandsMapping["pause"]) {
        return;
    }
    this.getPlayer()[this.commandsMapping["pause"]]();
};
YAHOO.mediaplayer.VideoEngine.prototype.stop = function () {
    if (!this.commandsMapping["stop"]) {
        return;
    }
    this.currentMedia = null;
    this.getPlayer()[this.commandsMapping["stop"]]();
};
YAHOO.mediaplayer.VideoEngine.prototype.play = function (b, a) {
    if (!this.getPlayer()) {
        this.currentMedia = b;
        return;
    }
    this.showPlayerIfNeeded();
    if (b == this.currentMedia) {
        this.resume();
    } else {
        this.playById(b.videoId);
        this.currentMedia = b;
    }
    if (typeof(a) === "number") {
        this.seek(a);
    }
};
YAHOO.mediaplayer.VideoEngine.prototype.seek = function (a) {
    if (!this.getPlayer()) {
        return;
    }
    if (!this.commandsMapping["seek"]) {
        return;
    }
    var b = this.unitConversions["seek"](a);
    var c = this.commandsMapping["seek"];
    this.getPlayer()[c](b);
};
YAHOO.mediaplayer.VideoEngine.prototype.resume = function () {
    if (!this.getPlayer()) {
        return;
    }
    if (!this.commandsMapping["resume"]) {
        return;
    }
    this.getPlayer()[this.commandsMapping["resume"]]();
};
YAHOO.mediaplayer.VideoEngine.prototype.getElapsed = function () {
    if (!this.getPlayer()) {
        return null;
    }
    if (!this.commandsMapping["getElapsed"]) {
        return null;
    }
    var a = this.getPlayer()[this.commandsMapping["getElapsed"]]();
    return this.unitConversions["getElapsed"](a);
};
YAHOO.mediaplayer.VideoEngine.prototype.getDuration = function () {
    if (!this.getPlayer()) {
        return null;
    }
    if (!this.commandsMapping["getDuration"]) {
        return null;
    }
    var a = this.getPlayer()[this.commandsMapping["getDuration"]]();
    return this.unitConversions["getDuration"](a);
};
YAHOO.mediaplayer.VideoEngine.prototype.setVolume = function (a) {
    this.volume = a;
    if (!this.getPlayer()) {
        return null;
    }
    if (!this.commandsMapping["setVolume"]) {
        return;
    }
    var b = this.unitConversions["setVolume"](a);
    var c = this.commandsMapping["setVolume"];
    this.getPlayer()[c](b);
};
YAHOO.mediaplayer.VideoEngine.prototype.getVolume = function () {
    if (!this.getPlayer()) {
        return null;
    }
    if (!this.commandsMapping["getVolume"]) {
        return null;
    }
    var a = this.getPlayer()[this.commandsMapping["getVolume"]]();
    return this.unitConversions["getVolume"](a);
};
YAHOO.mediaplayer.VideoEngine.prototype.onPlayStateChange = function (a) {
    if (typeof(this.PlayStateEnum[a]) === "number") {
        YAHOO.mediaplayer.Controller.mediaengine.changePlayState(this.PlayStateEnum[a]);
    }
};
YAHOO.mediaplayer.VideoEngine.prototype.onTrayOpen = function () {
    if ((this.currentMedia !== null) && (this.controller.mediaengine.currentEngine.refByName == this.refByName)) {
        this.showPlayerIfNeeded();
    }
};
YAHOO.mediaplayer.VideoEngine.prototype.showPlayerIfNeeded = function () {
    this.controller.view.switchTrayLeftPaneContent("video-player");
    this.controller.view.changeVideoPlayer(this.videoPlayerId);
};
YAHOO.mediaplayer.VideoEngine.prototype.onError = function (b) {
    var a = (typeof(this.ErrorEnum[b]) === "number") ? this.ErrorEnum[b] : 3;
    YAHOO.mediaplayer.Controller.mediaengine.handleError(a, null);
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.YouTubeEngine = function (a) {
    try {
        this.videoPlayerId = "ymp-youtube-player";
        YAHOO.mediaplayer.YouTubeEngine.superclass.constructor.call(this, a);
        this.id = "ymp-youtube-engine";
        this.embedDetails.url = "http://www.youtube.com/apiplayer?version=3&enablejsapi=1&playerapiid=ytplayer&autoplay=1";
        this.playerCB = {
            "name": "onYouTubePlayerReady",
            "callback": this.onReady
        };
        this.init();
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.YouTubeEngine, YAHOO.mediaplayer.VideoEngine);
YAHOO.mediaplayer.YouTubeEngine.prototype.refByName = "youtubeengine";
YAHOO.mediaplayer.YouTubeEngine.prototype.toString = function () {
    return "YAHOO.music.WebPlayer." + this.refByName;
};
YAHOO.mediaplayer.YouTubeEngine.prototype.commandsMapping = {
    "pause": "pauseVideo",
    "stop": "pauseVideo",
    "resume": "playVideo",
    "getElapsed": "getCurrentTime",
    "getDuration": "getDuration",
    "setVolume": "setVolume",
    "getVolume": "getVolume"
};
YAHOO.mediaplayer.YouTubeEngine.prototype.unitConversions = {
    "getElapsed": function (a) {
        return a * 1000;
    },
    "getDuration": function (a) {
        return a * 1000;
    },
    "setVolume": function (a) {
        return parseInt(a * 100, 10);
    },
    "getVolume": function (a) {
        return a / 100;
    }
};
YAHOO.mediaplayer.YouTubeEngine.prototype.PlayStateEnum = {
    5: 1,
    3: 3,
    1: 2,
    2: 1,
    "-1": 1,
    0: 4
};
YAHOO.mediaplayer.YouTubeEngine.prototype.ErrorEnum = {
    150: 1,
    101: 1,
    100: 1
};
YAHOO.mediaplayer.YouTubeEngine.prototype.onReady = function () {
    this.initPlayer();
    this.getPlayer().addEventListener("onStateChange", "YAHOO.mediaplayer.YouTubeEngine.prototype.onPlayStateChange");
    this.getPlayer().addEventListener("onError", "YAHOO.mediaplayer.YouTubeEngine.prototype.onError");
};
YAHOO.mediaplayer.YouTubeEngine.prototype.playById = function (a) {
    if (!this.getPlayer()) {
        return;
    }
    this.getPlayer().loadVideoById(a, 0);
};
YAHOO.mediaplayer.YouTubeEngine.prototype.seek = function (a) {
    if (!this.getPlayer()) {
        return;
    }
    this.getPlayer().seekTo(a / 1000, true);
};
YAHOO.mediaplayer.YouTubeEngine.prototype.getElapsed = function () {
    if (!this.getPlayer()) {
        return null;
    }
    var b = this.getDuration();
    var a = this.getPlayer().getCurrentTime() * 1000;
    if ((b > 0) && ((b - a) / 1000) < 1) {
        YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.MediaEngine.PlayState.ENDED);
    }
    return a;
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.YahooMoviesEngine = function (a) {
    try {
        this.videoPlayerId = "ymp-yahoo-movies-player";
        YAHOO.mediaplayer.YahooMoviesEngine.superclass.constructor.call(this, a);
        this.id = "ymp-yahoo-movies-engine";
        this.embedDetails.url = "http://d.yimg.com/nl/ypp/playtheweb/player.swf";
        this.embedDetails.flashVars = {
            eventHandler: "onYahooMoviesPlayerStateChange",
            autoPlay: 1
        };
        this.playerCB = {
            "name": "onYahooMoviesPlayerStateChange",
            "callback": this.onPlayStateChange
        };
        this.init();
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.YahooMoviesEngine, YAHOO.mediaplayer.VideoEngine);
YAHOO.mediaplayer.YahooMoviesEngine.prototype.refByName = "yahoomoviesengine";
YAHOO.mediaplayer.YahooMoviesEngine.prototype.toString = function () {
    return "YAHOO.music.WebPlayer." + this.refByName;
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.commandsMapping = {
    "pause": "pauseMedia",
    "stop": "stopMedia",
    "resume": "playMedia",
    "getElapsed": "getPlayheadTime",
    "setVolume": "setVolume",
    "getVolume": "getVolume",
    "seek": "seekMedia"
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.unitConversions = {
    "getElapsed": function (a) {
        return a * 1000;
    },
    "setVolume": function (a) {
        return parseInt(a * 100, 10);
    },
    "getVolume": function (a) {
        return a / 100;
    },
    "seek": function (a) {
        return a / 1000;
    }
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.PlayStateEnum = {
    "onPlaybackStart": 2,
    "onPlaybackResume": 2,
    "onPlaybackPause": 1,
    "onPlaybackStop": 0,
    "onPlaylistComplete": 4
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.ErrorEnum = {
    "onPlaybackError": 3
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.playById = function (b) {
    if (!this.getPlayer()) {
        return;
    }
    if (this.getPlayer().getPlaylist().count > 0) {
        this.getPlayer().clearPlaylist();
    }
    this.getPlayer().addToPlaylist({
        mediaId: b
    }, 0, 1);
    var a = this;
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.getDuration = function () {
    if (!this.getPlayer()) {
        return;
    }
    var b = this.getPlayer().getCurrentVideo();
    var a = b.duration;
    return (a == "") ? 0 : a * 1000;
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.stop = function () {
    if (!this.getPlayer()) {
        return;
    }
    YAHOO.mediaplayer.YahooMoviesEngine.superclass.stop.call(this);
    if (this.getPlayer().getPlaylist().count > 0) {
        this.getPlayer().clearPlaylist();
    }
};
YAHOO.mediaplayer.YahooMoviesEngine.prototype.onPlayStateChange = function (c, a) {
    if (c == "onPlayerReady") {
        this.initPlayer();
        return;
    }
    if (c == "onPlaybackError") {
        var b = this;
        setTimeout(function () {
            b.onError(c);
        }, 1);
        return;
    }
    YAHOO.mediaplayer.YahooMoviesEngine.superclass.onPlayStateChange.call(this, c, a);
};
if (YAHOO.mediaplayer.DisplayStrings == null) {
    YAHOO.mediaplayer.DisplayStrings = {
        ui: {
            PLAYLIST_TAB: "Playlist (%1)",
            PLAYLIST_LOADING: "Loading playlist ...",
            AMG_SAMPLE_TIME: ":30",
            AMG_SAMPLE_TEXT: "sample",
            BUFFERING: "Buffering",
            HDR_MAIN: "Yahoo! Media Player",
            HDR_CONTROLS: "Playback Controls",
            HDR_PLAYLIST: "Media Player Playlist",
            PRESS_PLAY_PANE_TEXT: "Press play to %1",
            WATCH: "watch",
            LISTEN_TO: "listen to",
            MORE_FREE_PLAYS: "You have {num_plays} more free {plays} left. <br /><em>{keep_music_going}</em>",
            NO_MORE_FREE_PLAYS: "You have no more free plays. <br /><em>{keep_music_going}</em>",
            KEEP_MUSIC_GOING: "Keep the music going with Rhapsody Premier!",
            SUBSCRIBE_NOW: "Subscribe Now",
            LISTEN_TO_SAMPLES: "Play :30 samples",
            CONTINUE_ENJOYING: "Continue enjoying the same music",
            PLAYS_LEFT: "plays left"
        },
        tooltips: {
            PREVIOUS: "Previous Track (Shift+Arrow Left)",
            PLAY: "Play (Shift+Space)",
            PAUSE: "Pause (Shift+Space)",
            NEXT: "Next Track (Shift+Arrow Right)",
            VOLUME: "Volume %1% (Shift+Arrow Up/Down)",
            NOWPLAYING_TRACK: "%1",
            NOWPLAYING_ARTIST: "%1",
            NOWPLAYING_ALBUM: "%1",
            BUY: "Buy this song",
            OPENPLAYLIST: "Open playlist (Ctrl+Shift+P)",
            CLOSEPLAYLIST: "Close playlist (Ctrl+Shift+P)",
            MINIMIZE: "Minimize Player",
            MAXIMIZE: "Expand Player",
            CLOSE: "Close player",
            FINDONPAGE: "Find song on page"
        },
        errors: {
            "1": "We're sorry. An error occurred and we're not able to play this item.",
            "2": "We're sorry. An error occurred and we're not able to play this item.",
            "3": "We're sorry. An error occurred and we're not able to play this item.",
            "4": "We're sorry. An error occurred and we're not able to play this item.",
            "5": "We're sorry. An error occurred and we're not able to play this item.",
            "6": "We're sorry. An error occurred and we're not able to play this item.",
            "7": "We're sorry. An error occurred and we're not able to play this item.",
            "8": "We're sorry. An error occurred and we're not able to play this item.",
            "9": "We're sorry. An error occurred and we're not able to play this item.",
            "11": "We're sorry. Playback timed out and we're not able to play this item.",
            "12": "We're sorry. An error occurred and we're not able to play this item.",
            "14": "We're sorry. An error occurred and we're not able to play this item.",
            "16": "We're sorry. An error occurred and we're not able to play this item.",
            "17": "We're sorry. An error occurred and we're not able to play this item.",
            "20": "We're sorry. This item is not available to play in your region.",
            "21": "Sorry but this item is no longer available.",
            "24": "The full length song is not available. <a href='http://help.yahoo.com/l/us/yahoo/music/webplayer/samples.html' target='_blank'>More info &raquo;</a>",
            "25": "We're sorry. An error occurred and we're not able to play this item.",
            "26": "We're sorry. An error occurred and we're not able to play this item."
        }
    };
}
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.View = function (a) {
    var b = ["onPlaylistUpdate", "onPlayStateChange", "onCurrentMediaSet", "onMediaUpdate", "onMediaProgress", "onError", "onVolumeChange", "onPlayRequest"];
    YAHOO.mediaplayer.View.superclass.constructor.call(this, a, b);
    this.EventManager.addEvents(["onPlayRequest", "onPauseRequest", "onStopRequest", "onPreviousRequest", "onNextRequest", "onVolumeChangeRequest", "onTrayOpen"]);
    this.volControlHeight = 0;
    this.volTopConstraint = 0;
    this.volBottomConstraint = 0;
    this.volControlY = 0;
    this.currentPlaylist = [];
    this.playlistArray = null;
    this.currentMedia = null;
    this.currentViewState = null;
    this.pageTargetAnchor = null;
    this.pageTargetTimeoutID = null;
    this.firstPlay = true;
    this.currentStickwall = null;
    this.playlistViewState = 0;
    this.carouselTimeoutID = null;
    this.carouselContent = null;
    this.carouselIndex = 0;
    this.defaultCarouselContent = [{
        id: "ymp-getplayer",
        time: 10000
    }, {
        id: "ymp-discoverartists",
        time: 10000
    }, {
        id: "ymp-topcharts",
        time: 10000
    }, {
        id: "ymp-watchmorevideos",
        time: 10000
    }, {
        id: "ymp-findconcerts",
        time: 10000
    }, {
        id: "ymp-readblogs",
        time: 10000
    }];
    this.rhap25CarouselContent = [{
        id: "ymp-rhap-playinfo",
        time: 0
    }];
    this.amgCarouselContent = [{
        id: "ymp-rhap-playinfo",
        time: 0
    }];
    this.rhapCarouselContent = [{
        id: "ymp-rhap-playinfo",
        time: 0
    }];
    this.trayLeftPaneContent = {
        "video-player": "ymp-video-player-pane",
        "album-cover": "ymp-album-cover-pane",
        "learn-more": "ymp-learn-more-pane",
        "press-play": "ymp-press-play-pane"
    };
    this.switchTrayLeftPaneContent("press-play");
    this.currentVideoPlayer = null;
    this.errorBubbleTimeoutID = null;
    this.initController(a);
    this.controller = this.getController();
    if (YAHOO.mediaplayer.YMPParams.displaystate != YAHOO.mediaplayer.View.DisplayState.NOUI) {
        this.setupUI();
    }
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.View, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.View.prototype.refByName = "view";
YAHOO.mediaplayer.View.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.View.DisplayState = {
    HIDDEN: -1,
    MIN: 0,
    MAX: 1,
    NOUI: 3
};
YAHOO.mediaplayer.View.PlaylistState = {
    MIN: 0,
    MAX: 1
};
YAHOO.mediaplayer.View.MINHEIGHT = 320;
YAHOO.mediaplayer.View.MINWIDTH = 690;
YAHOO.mediaplayer.View.prototype.setupUI = function () {
    var b = document.createElement("div");
    b.id = "ymp-player";
    b.innerHTML = YAHOO.mediaplayer.ViewMarkup.body;
    document.body.appendChild(b);
    trayElm = document.createElement("div");
    trayElm.id = "ymp-tray";
    trayElm.innerHTML = YAHOO.mediaplayer.ViewMarkup.tray;
    document.body.appendChild(trayElm);
    var c = document.createElement("div");
    c.id = "ymp-error-bubble";
    c.innerHTML = '<div id="ymp-error-msg" class="ymp-color-text-main">Testing<br/>Hahahaha</div><span class="ymp-error-tail ymp-skin"></span>';
    document.body.appendChild(c);
    if (YAHOO.mediaplayer.Util.BROWSER == "MSIE" && (YAHOO.mediaplayer.Util.BROWSER_VERSION <= 6 || YAHOO.mediaplayer.Util.DOCTYPE == "BackCompat")) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-player", "position", "absolute");
        YAHOO.ympyui.util.Dom.setStyle("ymp-tray", "position", "absolute");
        YAHOO.ympyui.util.Event.on(window, "scroll", this.onWindowScroll, this, true);
    }
    this.resizePlayer(YAHOO.mediaplayer.YMPParams.displaystate);
    YAHOO.ympyui.util.Event.on("ymp-btn-tray", "click", this.toggleTray, this, true);
    YAHOO.ympyui.util.Event.on("ymp-play", "click", this.play, this);
    YAHOO.ympyui.util.Event.on("ymp-prev", "click", this.prev, this);
    YAHOO.ympyui.util.Event.on("ymp-next", "click", this.next, this);
    YAHOO.ympyui.util.Event.on(["ymp-btn-max", "ymp-btn-min"], "click", this.togglePlayerSize, this, true);
    YAHOO.ympyui.util.Event.on("ymp-btn-target", "click", this.targetMedia, this, true);
    YAHOO.ympyui.util.Event.on("ymp-btn-close", "click", this.hidePlayer, this, true);
    YAHOO.ympyui.util.Event.on("ymp-btn-pop", "click", this.popPlayer, this, true);
    YAHOO.ympyui.util.Event.on("ymp-current-media-error", "click", function (d) {
        YAHOO.ympyui.util.Event.stopEvent(d);
    });
    YAHOO.ympyui.util.Event.on(["ymp-current-media-error", "ymp-error-bubble"], "mouseover", this.onErrorMouseOver, this);
    YAHOO.ympyui.util.Event.on(["ymp-current-media-error", "ymp-error-bubble"], "mouseout", this.onErrorMouseOut, this);
    YAHOO.ympyui.util.Event.on(document, "keydown", this.keyHandler, this, true);
    YAHOO.ympyui.util.Event.on("ymp-tray", "keydown", this.trayKeyHandler, this, true);
    YAHOO.ympyui.util.Event.on("ymp-tray", "mouseover", this.trayMouseOverHandler, this, true);
    YAHOO.mediaplayer.EventDelegate.on("ymp-tray-track", "click", "ymp-tray-list", this.onTrayMediaClick, this);
    YAHOO.mediaplayer.EventDelegate.on("ymp-error-icon", "mouseover", "ymp-tray-list", this.onErrorMouseOver, this);
    YAHOO.mediaplayer.EventDelegate.on("ymp-error-icon", "mouseout", "ymp-tray-list", this.onErrorMouseOut, this);
    YAHOO.mediaplayer.EventDelegate.on("ymp-tray-playlist", "click", "ymp-tray-list", this.onTrayPlaylistClick, this);
    this.stickwallNode = document.getElementById("ymp-stickwall");
    YAHOO.ympyui.util.Event.on("ymp-rhap-continue", "click", this.onRhapContinueClick, this, true);
    this.volControlHeight = parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-volume", "height"));
    this.volTopConstraint = Math.round(parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-volume-thumb", "height")) / 2);
    this.volBottomConstraint = this.volControlHeight - this.volTopConstraint;
    this.onVolumeChange(YAHOO.mediaplayer.Controller.mediaengine.getVolume());
    YAHOO.ympyui.util.Event.on("ymp-volume", "mousedown", this.volStartDrag, this, true);
    YAHOO.ympyui.util.Event.on("ymp-volume", "click", function a(d) {
        YAHOO.ympyui.util.Event.stopEvent(d);
    });
    YAHOO.ympyui.util.Event.on("ymp-amg-return2player", "click", this.hideStickwall, this, true);
    this.setUpUiStrings();
};
YAHOO.mediaplayer.View.prototype.onErrorMouseOver = function (b, a) {
    a.clearBubbleTimeout();
    if (this.id != "ymp-error-bubble") {
        var d = this;
        var c = [YAHOO.ympyui.util.Event.getPageX(b), YAHOO.ympyui.util.Event.getPageY(b)];
        a.errorBubbleTimeoutID = window.setTimeout(function () {
            a.showErrorBubble(d, c);
        }, 350);
    }
};
YAHOO.mediaplayer.View.prototype.onErrorMouseOut = function (b, a) {
    a.clearBubbleTimeout();
    var c = this;
    a.errorBubbleTimeoutID = window.setTimeout(a.hideErrorBubble, 350);
};
YAHOO.mediaplayer.View.prototype.showErrorBubble = function (h, g) {
    var d = document.getElementById("ymp-error-bubble");
    var e = document.getElementById("ymp-error-msg");
    var b = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-error-tail", "span", d)[0];
    var f = YAHOO.ympyui.util.Dom.getXY(h);
    var a = this.getErrorIDFromClassName(h.className);
    var c = YAHOO.mediaplayer.ErrorCollection[a];
    e.innerHTML = c.getDisplayMessage();
    YAHOO.ympyui.util.Dom.setStyle(d, "display", "block");
    YAHOO.ympyui.util.Dom.setXY(d, [f[0] + Math.floor(h.offsetWidth / 2) - Math.floor(b.offsetWidth / 2), f[1] - d.offsetHeight - 3 + (YAHOO.ympyui.env.ua.ie > 0 && YAHOO.ympyui.env.ua.ie < 7 ? 10 : 0)]);
};
YAHOO.mediaplayer.View.prototype.hideErrorBubble = function () {
    YAHOO.ympyui.util.Dom.setStyle("ymp-error-bubble", "display", "none");
};
YAHOO.mediaplayer.View.prototype.clearBubbleTimeout = function () {
    if (this.errorBubbleTimeoutID != null) {
        window.clearTimeout(this.errorBubbleTimeoutID);
        this.errorBubbleTimeoutID = null;
    }
};
YAHOO.mediaplayer.View.prototype.getErrorIDFromClassName = function (b) {
    var c = /ymp-error-id-([^\s]*)?/i;
    var a = c.exec(b);
    return a[1];
};
YAHOO.mediaplayer.View.prototype.onTrayPlaylistClick = function (d, c) {
    if (d != null) {
        YAHOO.ympyui.util.Event.stopEvent(d);
    }
    var b = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-nested-list", "ul", this.parentNode)[0];
    if (YAHOO.ympyui.util.Dom.hasClass(b, "ymp-nested-list-closed")) {
        YAHOO.ympyui.util.Dom.setStyle(b, "display", "block");
        YAHOO.ympyui.util.Dom.removeClass(b, "ymp-nested-list-closed");
        YAHOO.ympyui.util.Dom.addClass(b, "ymp-nested-list-open");
        var a = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-right-arrow", null, this.parentNode)[0];
        YAHOO.ympyui.util.Dom.removeClass(a, "ymp-right-arrow");
        YAHOO.ympyui.util.Dom.addClass(a, "ymp-down-arrow");
    } else {
        YAHOO.ympyui.util.Dom.setStyle(b, "display", "none");
        YAHOO.ympyui.util.Dom.removeClass(b, "ymp-nested-list-open");
        YAHOO.ympyui.util.Dom.addClass(b, "ymp-nested-list-closed");
        var f = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-down-arrow", null, this.parentNode)[0];
        YAHOO.ympyui.util.Dom.removeClass(f, "ymp-down-arrow");
        YAHOO.ympyui.util.Dom.addClass(f, "ymp-right-arrow");
    }
};
YAHOO.mediaplayer.View.prototype.onTrayMediaClick = function (c, b) {
    if (c != null) {
        YAHOO.ympyui.util.Event.stopEvent(c);
    }
    var a = YAHOO.mediaplayer.Controller.playlistmanager.getMediaById(this.id);
    b.EventManager.onPlayRequest.fire({
        media: a,
        "TRIGGER_TYPE": "PLAYLIST_TITLE"
    });
};
YAHOO.mediaplayer.View.prototype.onPageMediaClick = function (g, f) {
    if (g != null) {
        YAHOO.ympyui.util.Event.stopEvent(g);
    }
    var b = /ymp-media-([^\s]*)?/i;
    var a = b.exec(this.className);
    var c = a[1];
    var d = YAHOO.mediaplayer.Controller.playlistmanager.getMediaById(c);
    if (YAHOO.ympyui.util.Dom.hasClass(this, "ymp-btn-page-play")) {
        f.EventManager.onPlayRequest.fire({
            media: d,
            "TRIGGER_TYPE": "PAGE_MEDIA_CLICK"
        });
    } else {
        f.EventManager.onPauseRequest.fire(d);
    }
};
YAHOO.mediaplayer.View.prototype.volStartDrag = function (a) {
    YAHOO.ympyui.util.Event.stopEvent(a);
    this.volControlY = YAHOO.ympyui.util.Dom.getY("ymp-volume");
    this.notifyVolumeChange(a);
    YAHOO.ympyui.util.Event.on(document, "mousemove", this.notifyVolumeChange, this, true);
    YAHOO.ympyui.util.Event.on(document, "mouseup", this.volMouseUp, this, true);
};
YAHOO.mediaplayer.View.prototype.volMouseUp = function (a) {
    YAHOO.ympyui.util.Event.stopEvent(a);
    YAHOO.ympyui.util.Event.removeListener(document, "mousemove", this.notifyVolumeChange);
    YAHOO.ympyui.util.Event.removeListener(document, "mouseup", this.volMouseUp);
};
YAHOO.mediaplayer.View.prototype.notifyVolumeChange = function (f) {
    YAHOO.ympyui.util.Event.stopEvent(f);
    var c = YAHOO.ympyui.util.Event.getPageY(f);
    var d = c - this.volControlY;
    var g = 0;
    if (YAHOO.mediaplayer.Util.BROWSER == "Firefox" && YAHOO.mediaplayer.Util.BROWSER_VERSION != 3) {
        g = document.documentElement.scrollTop;
    } else {
        if (YAHOO.mediaplayer.Util.BROWSER == "Safari") {
            g = document.body.scrollTop;
        }
    }
    g = 0;
    d -= g;
    var b;
    if (d >= this.volTopConstraint && d < this.volBottomConstraint) {
        b = d - this.volTopConstraint;
    } else {
        if (d >= this.volBottomConstraint) {
            b = this.volBottomConstraint - this.volTopConstraint;
        } else {
            if (d < this.volTopConstraint) {
                b = 0;
            }
        }
    }
    var a = 1 - (b / (this.volBottomConstraint - this.volTopConstraint));
    this.EventManager.onVolumeChangeRequest.fire(a);
};
YAHOO.mediaplayer.View.prototype.onWindowScroll = function (d, c) {
    if (YAHOO.mediaplayer.Util.BROWSER_VERSION <= 6) {
        YAHOO.ympyui.util.Dom.addClass("ymp-player", "ymp-dummy");
        YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-dummy");
    } else {
        if (YAHOO.mediaplayer.Util.BROWSER_VERSION >= 7 && YAHOO.mediaplayer.Util.DOCTYPE == "BackCompat") {
            var a = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
            var b = 10 - a;
            var f = 81 - a;
            YAHOO.ympyui.util.Dom.setStyle("ymp-player", "bottom", b + "px");
            YAHOO.ympyui.util.Dom.setStyle("ymp-tray", "bottom", f + "px");
        }
    }
};
YAHOO.mediaplayer.View.prototype.play = function (b, a) {
    var c = null;
    if (typeof this !== "object") {
        c = this;
    } else {
        c = document.getElementById("ymp-play");
    }
    if (YAHOO.ympyui.util.Dom.hasClass(c, "ymp-btn-pause")) {
        a.pause.call(this, b, a);
        return;
    }
    if (b) {
        YAHOO.ympyui.util.Event.stopEvent(b);
    }
    a.EventManager.onPlayRequest.fire({
        "media": a.currentMedia,
        "TRIGGER_TYPE": "PLAYER_PLAY_BUTTON"
    });
};
YAHOO.mediaplayer.View.prototype.pause = function (b, a) {
    YAHOO.ympyui.util.Event.stopEvent(b);
    a.EventManager.onPauseRequest.fire();
};
YAHOO.mediaplayer.View.prototype.stop = function (b, a) {
    YAHOO.ympyui.util.Event.stopEvent(b);
    a.EventManager.onStopRequest.fire();
};
YAHOO.mediaplayer.View.prototype.next = function (b, a) {
    YAHOO.ympyui.util.Event.stopEvent(b);
    a.EventManager.onNextRequest.fire();
};
YAHOO.mediaplayer.View.prototype.prev = function (b, a) {
    YAHOO.ympyui.util.Event.stopEvent(b);
    a.EventManager.onPreviousRequest.fire();
};
YAHOO.mediaplayer.View.prototype.togglePlayerSize = function (a) {
    if (a != null) {
        YAHOO.ympyui.util.Event.stopEvent(a);
    }
    if (YAHOO.ympyui.util.Dom.hasClass("ymp-player", "ymp-player-max")) {
        this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.MIN);
    } else {
        if (YAHOO.ympyui.util.Dom.hasClass("ymp-player", "ymp-player-min")) {
            this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.MAX);
        }
    }
};
YAHOO.mediaplayer.View.prototype.hidePlayer = function (b, a) {
    if (b != null) {
        YAHOO.ympyui.util.Event.stopEvent(b);
    }
    this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.HIDDEN);
    this.EventManager.onStopRequest.fire();
};
YAHOO.mediaplayer.View.prototype.resizePlayer = function (f, a) {
    this.currentViewState = f;
    if (f == YAHOO.mediaplayer.View.DisplayState.MAX && YAHOO.ympyui.util.Dom.hasClass("ymp-player", "ymp-player-max") && a) {
        this.openTray();
    }
    if (f == YAHOO.mediaplayer.View.DisplayState.MAX && !YAHOO.ympyui.util.Dom.hasClass("ymp-player", "ymp-player-max")) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-yahoo-logo", "display", "block");
        YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-player-hidden");
        YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-player-min");
        YAHOO.ympyui.util.Dom.addClass("ymp-player", "ymp-player-max");
        var b = parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-body", "width"));
        var e = new YAHOO.ympyui.util.Anim("ymp-player", {
            width: {
                to: b
            }
        }, 0.35, YAHOO.ympyui.util.Easing.easeOut);
        var d = this;
        var c = function () {
            d.showTray();
            if (a) {
                d.openTray();
            }
        };
        e.onComplete.subscribe(c);
        e.animate();
    } else {
        if (f == YAHOO.mediaplayer.View.DisplayState.MIN && !YAHOO.ympyui.util.Dom.hasClass("ymp-player", "ymp-player-min")) {
            YAHOO.ympyui.util.Dom.setStyle("ymp-yahoo-logo", "display", "none");
            YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-player-hidden");
            YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-player-max");
            YAHOO.ympyui.util.Dom.addClass("ymp-player", "ymp-player-min");
            this.hideTray();
            var b = parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-body", "width"));
            YAHOO.ympyui.util.Dom.setStyle("ymp-player", "width", b + "px");
        } else {
            if (f == YAHOO.mediaplayer.View.DisplayState.HIDDEN && !YAHOO.ympyui.util.Dom.hasClass("ymp-player", "ymp-player-hidden")) {
                YAHOO.ympyui.util.Dom.setStyle("ymp-yahoo-logo", "display", "none");
                YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-player-max");
                YAHOO.ympyui.util.Dom.addClass("ymp-player", "ymp-player-min");
                var b = parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-body", "width"));
                YAHOO.ympyui.util.Dom.setStyle("ymp-player", "width", b + "px");
                this.hideTray();
                YAHOO.ympyui.util.Dom.removeClass("ymp-player", "ymp-player-min");
                YAHOO.ympyui.util.Dom.addClass("ymp-player", "ymp-player-hidden");
            }
        }
    }
};
YAHOO.mediaplayer.View.prototype.popPlayer = function (h) {
    YAHOO.ympyui.util.Event.stopEvent(h);
    var b = document.contplayform;
    b.vol.value = YAHOO.mediaplayer.Controller.mediaengine.getVolume();
    b.seek.value = YAHOO.mediaplayer.Controller.mediaengine.getElapsed();
    if (YAHOO.mediaplayer.Controller.mediaengine.currentPlayState == YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING) {
        this.EventManager.onStopRequest.fire();
        b.token.value = this.currentMedia.token;
    }
    if (YAHOO.ympyui.lang.isString(YAHOO.mediaplayer.YMPParams.build_number) && YAHOO.mediaplayer.YMPParams.build_number.length > 0) {
        b.build_number.value = encodeURIComponent(YAHOO.mediaplayer.YMPParams.build_number);
    }
    var k = "";
    var l = YAHOO.mediaplayer.Controller.playlistmanager.playlistArray;
    var c = ["type", "title", "artist", "album"];
    for (var g = 0, a = l.length, m = null, f; g < a; g++) {
        f = l[g].anchor;
        if (f == null && l[g].parent != null) {
            f = l[g].parent.anchor;
        }
        if (f != null && f != m) {
            k += '<a href="' + f.href + '"';
            if (f.className != "") {
                k += ' class="' + f.className + '"';
            }
            if (f.rid && f.rid !== "") {
                k += ' rid="' + f.rid + '"';
            } else {
                if (l[g].mimeType === YAHOO.mediaplayer.Parser.MimeTypes.rhapsody) {
                    k += ' rid="' + l[g].token + '"';
                }
            }
            if (YAHOO.ympyui.lang.isString(l[g].mimeType) && l[g].mimeType !== "" && !f.type) {
                k += ' type="' + l[g].mimeType + '"';
            }
            for (var d = 0, n = c.length; d < n; d++) {
                if (f.getAttribute(c[d]) != null && f.getAttribute(c[d]) != "") {
                    k += " " + c[d] + '="' + f.getAttribute(c[d]) + '"';
                }
            }
            k += ">" + f.innerHTML + "</a>";
        }
        m = f;
    }
    b.trackhtml.value = k;
    b.action = YAHOO.mediaplayer.YMPParams.wsroot + "/contplay/1.0/index.php?url=" + encodeURIComponent(window.location.href);
    b.submit();
    this.hidePlayer(null, false);
};
YAHOO.mediaplayer.View.prototype.toggleTray = function (a) {
    if (a != null) {
        YAHOO.ympyui.util.Event.stopEvent(a);
    }
    if (YAHOO.ympyui.util.Dom.hasClass("ymp-btn-tray", "ymp-btn-tray-open")) {
        this.closeTray();
    } else {
        if (YAHOO.ympyui.util.Dom.hasClass("ymp-btn-tray", "ymp-btn-tray-closed")) {
            this.openTray();
        }
    }
};
YAHOO.mediaplayer.View.prototype.openTray = function () {
    YAHOO.ympyui.util.Dom.removeClass("ymp-playlist-arrow", "ymp-up-arrow");
    YAHOO.ympyui.util.Dom.addClass("ymp-playlist-arrow", "ymp-down-arrow");
    YAHOO.ympyui.util.Dom.removeClass("ymp-btn-tray", "ymp-btn-tray-closed");
    YAHOO.ympyui.util.Dom.addClass("ymp-btn-tray", "ymp-btn-tray-open");
    var c = new YAHOO.ympyui.util.Anim("ymp-tray", {
        height: {
            to: 234
        }
    }, 0.35, YAHOO.ympyui.util.Easing.easeOut);
    var b = this;
    var a = function () {
        b.addTrayScrollBar();
        b.playlistViewState = YAHOO.mediaplayer.View.PlaylistState.MAX;
        b.EventManager.onTrayOpen.fire();
    };
    c.onComplete.subscribe(a);
    c.animate();
    var d = document.getElementById("ymp-btn-tray");
    if (d) {
        d.setAttribute("title", YAHOO.mediaplayer.DisplayStrings.tooltips.CLOSEPLAYLIST);
        d = null;
    }
};
YAHOO.mediaplayer.View.prototype.closeTray = function () {
    if (this.currentMedia && this.currentMedia.bIsVideo) {
        this.EventManager.onPauseRequest.fire(this.currentMedia);
    }
    YAHOO.ympyui.util.Dom.removeClass("ymp-playlist-arrow", "ymp-down-arrow");
    YAHOO.ympyui.util.Dom.addClass("ymp-playlist-arrow", "ymp-up-arrow");
    if (this.currentVideoPlayer) {
        YAHOO.ympyui.util.Dom.setStyle(this.currentVideoPlayer, "visibility", "hidden");
    }
    YAHOO.ympyui.util.Dom.setStyle("ymp-tray", "height", parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-btn-tray", "height")) + "px");
    YAHOO.ympyui.util.Dom.addClass("ymp-btn-tray", "ymp-btn-tray-closed");
    YAHOO.ympyui.util.Dom.removeClass("ymp-btn-tray", "ymp-btn-tray-open");
    YAHOO.ympyui.util.Dom.setStyle("ymp-tray-list", "overflow-y", "hidden");
    this.playlistViewState = YAHOO.mediaplayer.View.PlaylistState.MIN;
    var a = document.getElementById("ymp-btn-tray");
    if (a) {
        a.setAttribute("title", YAHOO.mediaplayer.DisplayStrings.tooltips.OPENPLAYLIST);
        a = null;
    }
    this.clearFocusClass();
};
YAHOO.mediaplayer.View.prototype.addTrayScrollBar = function () {
    YAHOO.ympyui.util.Dom.setStyle("ymp-tray-list", "overflow-y", "auto");
};
YAHOO.mediaplayer.View.prototype.hideTray = function () {
    if (YAHOO.ympyui.util.Dom.hasClass("ymp-btn-tray", "ymp-btn-tray-open")) {
        this.toggleTray();
    }
    YAHOO.ympyui.util.Dom.setStyle("ymp-tray", "visibility", "hidden");
};
YAHOO.mediaplayer.View.prototype.showTray = function () {
    YAHOO.ympyui.util.Dom.setStyle("ymp-tray", "visibility", "visible");
    var a = parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-tray", "height"));
};
YAHOO.ympyui.util.Scroll.prototype.setAttribute = function (a, d, c) {
    var b = this.getEl();
    if (a == "scroll") {
        if (c == "pagescroll") {
            window.scrollTo(d[0], d[1]);
        } else {
            b.scrollLeft = d[0];
            b.scrollTop = d[1];
        }
    } else {
        superclass.setAttribute.call(this, a, d, c);
    }
};
YAHOO.mediaplayer.View.prototype.targetMedia = function (h) {
    if (h != null) {
        YAHOO.ympyui.util.Event.stopEvent(h);
    }
    var g = (this.currentMedia.anchor != null) ? this.currentMedia.anchor : this.currentMedia.parent.anchor;
    var b = 200;
    var f = YAHOO.ympyui.util.Dom.getDocumentScrollTop();
    var k = YAHOO.ympyui.util.Dom.getViewportHeight();
    var l = Math.floor(YAHOO.ympyui.util.Dom.getY(g));
    var c = Math.floor(l - (k / 2));
    if (c > k) {} else {
        if (c < 0) {
            c = 0;
        }
    }
    var a = f;
    if (Math.abs(c - f) > b) {
        a = (c > f) ? c - b : c + b;
    }
    if (a > k) {
        a = k;
    } else {
        if (a < 0) {
            a = 0;
        }
    }
    if (c != f) {
        var d = new YAHOO.ympyui.util.Scroll(document.body, {
            scroll: {
                from: [0, a],
                to: [0, c],
                unit: "pagescroll"
            }
        }, 0.2, YAHOO.ympyui.util.Easing.easeOut);
        d.animate();
    }
    if (this.pageTargetTimeoutID != null) {
        window.clearTimeout(this.pageTargetTimeoutID);
        YAHOO.ympyui.util.Dom.removeClass(this.pageTargetAnchor.parentNode, "ymp-btn-page-target");
        this.pageTargetAnchor = null;
    }
    YAHOO.ympyui.util.Dom.addClass(g.parentNode, "ymp-btn-page-target");
    this.pageTargetAnchor = g;
    this.pageTargetTimeoutID = window.setTimeout(function () {
        YAHOO.ympyui.util.Dom.removeClass(g.parentNode, "ymp-btn-page-target");
    }, 5000);
};
YAHOO.mediaplayer.View.prototype.changeStickwallTypeTo = function (b) {
    var a = this.currentStickwall;
    this.currentStickwall = b;
    if (null !== a) {
        YAHOO.ympyui.util.Dom.removeClass(this.stickwallNode, a);
        YAHOO.ympyui.util.Dom.setStyle(a, "display", "none");
    }
    YAHOO.ympyui.util.Dom.setStyle(b, "display", "block");
    YAHOO.ympyui.util.Dom.addClass(this.stickwallNode, b);
    YAHOO.ympyui.util.Dom.setStyle(this.stickwallNode, "display", "block");
};
YAHOO.mediaplayer.View.prototype.showErrorStickwall = function (a) {
    if (document.getElementById("ymp-player") != null) {
        this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.MAX);
        document.getElementById("ymp-critical-error-msg").innerHTML = a;
        this.changeStickwallTypeTo("ymp-error-stickwall");
    }
};
YAHOO.mediaplayer.View.prototype.showAmgStickwall = function () {
    if (document.getElementById("ymp-player") != null) {
        this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.MAX);
        this.changeStickwallTypeTo("ymp-amg-stickwall");
    }
};
YAHOO.mediaplayer.View.prototype.hideStickwall = function () {
    YAHOO.ympyui.util.Dom.setStyle(this.stickwallNode, "display", "none");
};
YAHOO.mediaplayer.View.prototype.runCarousel = function (a) {
    YAHOO.ympyui.util.Dom.setStyle("ymp-relevance", "display", "block");
    var b = ((a === this.rhap25CarouselContent) || (a === this.rhapCarouselContent) || (a === this.amgCarouselContent));
    if (this.carouselHasUserDefinedImage()) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-relevance-user-defined-image", "display", (b ? "none" : "block"));
        YAHOO.ympyui.util.Dom.setStyle("ymp-relevance", "display", (b ? "block" : "none"));
    }
    this.showHideAboutFeedback(!b);
    if (this.carouselContent !== a) {
        window.clearTimeout(this.carouselTimeoutID);
        this.carouselContent = a;
        this.carouselIndex = 0;
        var d = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-carousel-item", null, "ymp-body");
        YAHOO.ympyui.util.Dom.setStyle(d, "display", "none");
        YAHOO.ympyui.util.Dom.setStyle(this.carouselContent[this.carouselIndex].id, "display", "block");
        var c = this.carouselContent[this.carouselIndex].time;
        if (c != 0) {
            this.carouselTimeoutID = window.setTimeout(this.toString() + ".nextCarousel()", c);
        }
    }
};
YAHOO.mediaplayer.View.prototype.nextCarousel = function () {
    YAHOO.ympyui.util.Dom.setStyle(this.carouselContent[this.carouselIndex].id, "display", "none");
    this.carouselIndex++;
    if (this.carouselIndex >= this.carouselContent.length) {
        this.carouselIndex = 0;
    }
    YAHOO.ympyui.util.Dom.setStyle(this.carouselContent[this.carouselIndex].id, "display", "block");
    var a = this.carouselContent[this.carouselIndex].time;
    if (a != 0) {
        this.carouselTimeoutID = window.setTimeout(this.toString() + ".nextCarousel()", a);
    }
};
YAHOO.mediaplayer.View.prototype.hideCarousel = function () {
    if (this.carouselTimeoutID != null) {
        window.clearTimeout(this.carouselTimeoutID);
        this.carouselTimeoutID = null;
    }
    YAHOO.ympyui.util.Dom.setStyle("ymp-relevance", "display", "none");
    this.carouselContent = null;
    this.showHideAboutFeedback(true);
};
YAHOO.mediaplayer.View.prototype.showHideAboutFeedback = function (a) {
    var b = a ? "block" : "none";
    YAHOO.ympyui.util.Dom.setStyle("ymp-about-feedback", "display", b);
};
YAHOO.mediaplayer.View.prototype.switchTrayLeftPaneContent = function (a) {
    if (a == this.currentTrayLeftPaneContent) {
        return;
    }
    if (this.currentTrayLeftPaneContent == "video-player") {
        this.changeVideoPlayer(null);
    }
    if (this.currentTrayLeftPaneContent) {
        YAHOO.ympyui.util.Dom.setStyle(this.trayLeftPaneContent[this.currentTrayLeftPaneContent], "visibility", "hidden");
        YAHOO.ympyui.util.Dom.setStyle("ymp-left-pane-opacity-shim", "visibility", "hidden");
    }
    YAHOO.ympyui.util.Dom.setStyle(this.trayLeftPaneContent[a], "visibility", "visible");
    if ("video-player" === a && YAHOO.ympyui.env.ua.gecko > 0 && navigator.platform.indexOf("Mac") >= 0) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-left-pane-opacity-shim", "visibility", "visible");
    }
    this.currentTrayLeftPaneContent = a;
};
YAHOO.mediaplayer.View.prototype.getTrayLeftPaneContent = function () {
    return this.currentTrayLeftPaneContent;
};
YAHOO.mediaplayer.View.prototype.onVolumeChange = function (b) {
    var a = (1 - b) * (this.volBottomConstraint - this.volTopConstraint);
    YAHOO.ympyui.util.Dom.setStyle("ymp-volume-thumb", "top", a + "px");
    YAHOO.ympyui.util.Dom.setStyle("ymp-volume-cover", "height", this.volControlHeight - a + "px");
    var d = document.getElementById("ymp-volume-thumb");
    if (d) {
        var c = parseInt(b * 100);
        args = [c];
        str = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.tooltips.VOLUME, args);
        d.setAttribute("title", str);
    }
    d = null;
};
YAHOO.mediaplayer.View.prototype.onPlaylistUpdate = function (d) {
    if (document.getElementById("ymp-player") != null) {
        var c = document.getElementById("ymp-tray-list");
        if (d instanceof YAHOO.mediaplayer.Playlist) {
            for (var g = 0; g < this.controller.playlistmanager.playlistArray.length; g++) {
                this.currentPlaylist[g] = this.controller.playlistmanager.playlistArray[g];
            }
            var m = document.getElementById(d.id);
            if (d.mediaArray.length > 0) {
                m.getElementsByTagName("b")[0].innerHTML = d.title;
                m.setAttribute("title", "Expand/collapse nested playlist");
                var h = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-right-arrow", null, m.parentNode)[0];
                YAHOO.ympyui.util.Dom.removeClass(h, "ymp-right-arrow");
                YAHOO.ympyui.util.Dom.addClass(h, "ymp-down-arrow");
                var k = document.createElement("ul");
                k.className = "ymp-nested-list";
                for (var g = 0, b = d.mediaArray.length, o; g < b; g++) {
                    o = document.createElement("li");
                    o.innerHTML = '<a id="' + d.mediaArray[g].id + '" class="ymp-tray-track ymp-color-text-tray" href="#"><b>Loading track ...</b><em></em>' + "</a>";
                    k.appendChild(o);
                }
                m.parentNode.appendChild(k);
            } else {
                var f = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-right-arrow", null, m)[0];
                m.removeChild(f);
                m.getElementsByTagName("b")[0].innerHTML = "Playlist Unavailable";
            }
        } else {
            this.playlistArray = d;
            if (d && d.length === 0) {
                this.clearPlaylistTray(c);
            }
            trayItems = c.getElementsByTagName("a");
            if (trayItems.length <= 0) {
                for (var g = 0; g < d.length; g++) {
                    this.currentPlaylist[g] = d[g];
                }
                var n = d.length;
                for (var g = 0; g < n; g++) {
                    var o = this.getLi(d[g]);
                    c.appendChild(o);
                }
                this.reorderPlaylistTray(c);
            } else {
                this.updatePlaylist(d, c);
            }
        }
        var e = document.getElementById("ymp-btn-tray");
        if (e) {
            var a = e.getElementsByTagName("em");
            if (a && a.length > 0) {
                var p = a[0];
                var l = [this.playlistArray.length];
                p.innerHTML = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.ui.PLAYLIST_TAB, l);
                p = null;
            }
            e = null;
        }
    }
};
YAHOO.mediaplayer.View.prototype.onMediaUpdate = function (d) {
    var c = document.getElementById(d.id);
    var e = d.anchor;
    var h = d.id;
    var b = d.mimeType;
    if (e == null) {
        e = d.parent.anchor;
        h = d.parent.id;
        b = d.parent.mimeType;
    }
    var e = (d.anchor != null) ? d.anchor : d.parent.anchor;
    if (!YAHOO.ympyui.util.Dom.hasClass(e.parentNode, "ymp-btn-page-play") && !YAHOO.ympyui.util.Dom.hasClass(e.parentNode, "ymp-btn-page-pause")) {
        var k = document.createElement("span");
        YAHOO.ympyui.util.Dom.insertBefore(k, e);
        var g = e;
        e.parentNode.removeChild(e);
        k.appendChild(g);
        if (!YAHOO.ympyui.util.Dom.hasClass(k, "ymp-btn-page-play")) {
            YAHOO.ympyui.util.Dom.addClass(k, "ymp-btn-page-play");
            YAHOO.ympyui.util.Dom.addClass(k, "ymp-media-" + h);
        }
        var f = ((YAHOO.mediaplayer.YMPParams.playlink === true) || (YAHOO.mediaplayer.YMPParams.playlink == "media-only" && YAHOO.mediaplayer.Util.inArray(b, YAHOO.mediaplayer.Parser.MediaOnlyPlaylinkModeMimeTypes)));
        if (YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-skin", "em", k).length === 0 && YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-skin-hover", "em", k).length === 0) {
            var a = document.createElement("em");
            if (f) {
                a.className = "ymp-skin";
            } else {
                a.className = "ymp-skin-hover";
            }
            k.appendChild(a);
        }
        if (!(YAHOO.ympyui.util.Event.getListeners(k, "click")) && !(YAHOO.ympyui.util.Event.getListeners(a, "click"))) {
            if (f) {
                YAHOO.ympyui.util.Event.on(k, "click", this.onPageMediaClick, this);
            } else {
                YAHOO.ympyui.util.Event.on(a, "click", this.onPageMediaClick, this, k);
            }
        }
    }
    if (document.getElementById("ymp-player") != null) {
        c.href = d.token;
        c.getElementsByTagName("b")[0].innerHTML = d.title;
        if (d.artistName != null && d.artistName != "") {
            c.getElementsByTagName("em")[0].innerHTML = "&nbsp;- " + d.artistName;
        }
        if (d == this.currentMedia) {
            this.updateMediaMetadata();
        }
    }
};
YAHOO.mediaplayer.View.prototype.onMediaProgress = function (d) {
    var c = Math.round(d.elapsed / 1000);
    var b = Math.round(d.duration / 1000);
    var a = this.formatTime(c);
    if (b > 0) {
        a += " / " + this.formatTime(b);
    }
    document.getElementById("ymp-meta-progress").innerHTML = a;
    a = "";
};
YAHOO.mediaplayer.View.prototype.formatTime = function (c) {
    var b = Math.floor(c / 60);
    var d = Math.floor(c % 60);
    var a = "";
    if (d < 10) {
        d = "0" + d;
    }
    if (b >= 60) {
        a = Math.floor(b / 60);
        a = a + ":";
        b = Math.floor(b % 60);
        if (b < 10) {
            b = "0" + b;
        }
    }
    return a + b + ":" + d;
};
YAHOO.mediaplayer.View.prototype.onCurrentMediaSet = function (a) {
    if (document.getElementById("ymp-player") != null && document.getElementById("ymp-tray") != null) {
        if (this.currentMedia != null) {
            YAHOO.ympyui.util.Dom.removeClass(this.currentMedia.id, "playing");
        }
        this.currentMedia = a;
        YAHOO.ympyui.util.Dom.addClass(this.currentMedia.id, "playing");
        this.updateMediaMetadata();
        this.hideBodyErrorIcon();
        if (a.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.rhapsody || a.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.yahoo || a.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.amg) {
            YAHOO.ympyui.util.Dom.setStyle("ymp-rhap-message", "visibility", "hidden");
            this.runCarousel(this.rhapCarouselContent);
        } else {
            if (a.bIsVideo) {
                this.hideCarousel();
            } else {
                this.runCarousel(this.defaultCarouselContent);
            }
        }
    }
};
YAHOO.mediaplayer.View.prototype.setAlbumCoverImg = function (c) {
    if (!this.trayLeftPaneDimention) {
        this.trayLeftPaneDimention = YAHOO.ympyui.util.Dom.getRegion("ymp-tray-left-pane");
        this.trayLeftPaneDimention.width = this.trayLeftPaneDimention.right - this.trayLeftPaneDimention.left;
        this.trayLeftPaneDimention.height = this.trayLeftPaneDimention.bottom - this.trayLeftPaneDimention.top;
    }
    YAHOO.ympyui.util.Dom.setStyle("ymp-album-cover-img", "display", "none");
    var d = function () {
        var e = {};
        e.width = Math.min(Math.max(b.width, 150), a.width);
        e.height = Math.min(Math.max(b.height, 150), a.height);
        var f = {};
        var g = ((e.height / e.width) > (b.height / b.width)) ? (e.width / b.width) : (e.height / b.height);
        f.height = Math.round(b.height * g);
        f.width = Math.round(b.width * g);
        f.top = (a.height - f.height) / 2;
        f.left = (a.width - f.width) / 2;
        YAHOO.ympyui.util.Dom.setStyle(["ymp-album-cover-pane", "ymp-album-cover-img"], "width", f.width + "px");
        YAHOO.ympyui.util.Dom.setStyle(["ymp-album-cover-pane", "ymp-album-cover-img"], "height", f.height + "px");
        YAHOO.ympyui.util.Dom.setStyle("ymp-album-cover-pane", "top", f.top + "px");
        YAHOO.ympyui.util.Dom.setStyle("ymp-album-cover-pane", "left", f.left + "px");
        document.getElementById("ymp-album-cover-img").src = c;
        YAHOO.ympyui.util.Dom.setStyle("ymp-album-cover-img", "display", "block");
    };
    var a = this.trayLeftPaneDimention;
    var b = new Image();
    b.src = c;
    if ((b.width > 0) && (b.height > 0)) {
        d();
    } else {
        b.onload = function () {
            d();
        };
    }
};
YAHOO.mediaplayer.View.prototype.updateMediaMetadata = function () {
    document.getElementById("ymp-meta-progress").innerHTML = "";
    var b = document.getElementById("ymp-meta-track-title");
    var e = document.getElementById("ymp-meta-artist-title");
    var d = document.getElementById("ymp-meta-album-title");
    var n = document.getElementById("ymp-album-cover-pane");
    if (YAHOO.mediaplayer.Util.BROWSER == "Firefox") {
        this.firefoxSetEllipsis(b, this.currentMedia.title);
        this.firefoxSetEllipsis(e, this.currentMedia.artistName);
        this.firefoxSetEllipsis(d, this.currentMedia.albumName);
    } else {
        b.innerHTML = this.currentMedia.title;
        e.innerHTML = this.currentMedia.artistName;
        d.innerHTML = this.currentMedia.albumName;
    }
    var k = [];
    var l = "";
    k = [this.currentMedia.title];
    l = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.tooltips.NOWPLAYING_TRACK, k);
    b.title = l;
    if (this.currentMedia.artistName && this.currentMedia.artistName.length > 0) {
        k = [this.currentMedia.artistName];
        l = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.tooltips.NOWPLAYING_ARTIST, k);
        e.title = l;
    } else {
        e.title = "";
    }
    if (this.currentMedia.albumName && this.currentMedia.albumName.length > 0) {
        k = [this.currentMedia.albumName];
        l = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.tooltips.NOWPLAYING_ALBUM, k);
        d.title = l;
    } else {
        d.title = "";
    }
    if (typeof(this.currentMedia.albumArt) === "string" && this.currentMedia.albumArt.length > 0) {
        this.setAlbumCoverImg(this.currentMedia.albumArt);
    }
    this.setTrayLeftPaneContent(this.currentMedia, YAHOO.mediaplayer.Controller.mediaengine.currentPlayState);
    var f = "http://search.yahoo.com/search?fr=client_ymp&p=";
    var c = "http://music.yahoo.com/";
    var m = "";
    if (this.currentMedia.yTrackID && this.currentMedia.yTrackID.length > 0) {
        b.href = c + "track/" + this.currentMedia.yTrackID;
    } else {
        if (typeof(this.currentMedia.title) === "string" && this.currentMedia.title.length > 0) {
            m = this.currentMedia.title;
            if (typeof(this.currentMedia.artistName) === "string") {
                m += " " + this.currentMedia.artistName;
            }
            m = encodeURIComponent(m.replace(/["]/g, ""));
            b.href = f + m;
        }
    }
    if (this.currentMedia.yAlbumID && this.currentMedia.yAlbumID.length > 0) {
        d.href = c + "release/" + this.currentMedia.yAlbumID;
        n.href = d.href;
    } else {
        if (typeof(this.currentMedia.albumName) === "string" && this.currentMedia.albumName.length > 0) {
            m = this.currentMedia.albumName;
            if (typeof(this.currentMedia.artistName) === "string") {
                m += " " + this.currentMedia.artistName;
            }
            m = encodeURIComponent(m.replace(/["]/g, ""));
            d.href = f + m;
            n.href = d.href;
        } else {
            var g = /^([a-zA-Z]+:\/\/)?([^\/]+)\/.*?$/;
            if (this.currentMedia.token.match(g) && document.domain !== RegExp.$2) {
                d.href = d.innerHTML = d.title = RegExp.$1 + RegExp.$2;
            } else {
                d.href = d.innerHTML = d.title = "";
            }
            n.href = b.href;
        }
    }
    if (this.currentMedia.yArtistID && this.currentMedia.yArtistID.length > 0) {
        e.href = c + "ar-" + this.currentMedia.yArtistID;
    } else {
        if (typeof(this.currentMedia.artistName) === "string" && this.currentMedia.artistName.length > 0) {
            m = encodeURIComponent(this.currentMedia.artistName.replace(/["]/g, ""));
            e.href = f + m;
        } else {
            e.href = "";
        }
    }
    var a = document.getElementById("ymp-learn-more-link");
    a.href = b.href;
    document.getElementById("ymp-getlyrics").href = "http://search.music.yahoo.com/search/?m=lyrics&p=" + encodeURIComponent(this.currentMedia.title);
    var h = document.getElementById("ymp-watchvideo");
    if (this.currentMedia.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.yahoo && this.currentMedia.yVideoID && this.currentMedia.yVideoID.length > 0) {
        h.href = "http://new.music.yahoo.com/videos/--" + this.currentMedia.yVideoID;
        h.innerHTML = 'watch the video<br/><em>for this song</em><span class="ymp-skin"></span>';
    } else {
        document.getElementById("ymp-watchvideo").href = "http://search.music.yahoo.com/search/?m=video&p=" + encodeURIComponent(this.currentMedia.title);
        h.innerHTML = 'find the video<br/><em>for this song</em><span class="ymp-skin"></span>';
    }
    if (this.currentMedia == this.playlistArray[0]) {
        YAHOO.ympyui.util.Dom.removeClass("ymp-next", "ymp-btn-next-disabled");
        YAHOO.ympyui.util.Dom.addClass("ymp-prev", "ymp-btn-prev-disabled");
    } else {
        if (this.currentMedia == this.playlistArray[this.playlistArray.length - 1]) {
            YAHOO.ympyui.util.Dom.removeClass("ymp-prev", "ymp-btn-prev-disabled");
            YAHOO.ympyui.util.Dom.addClass("ymp-next", "ymp-btn-next-disabled");
        } else {
            YAHOO.ympyui.util.Dom.removeClass("ymp-next", "ymp-btn-next-disabled");
            YAHOO.ympyui.util.Dom.removeClass("ymp-prev", "ymp-btn-prev-disabled");
        }
    }
    if (this.currentMedia.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.rhapsody || this.currentMedia.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.yahoo) {
        if (typeof(this.currentMedia.buyURL) === "string" && this.currentMedia.buyURL.length > 0) {
            YAHOO.ympyui.util.Dom.setStyle("ymp-btn-buy", "display", "block");
            this.updateBuyButtonURL(this.currentMedia);
        } else {
            YAHOO.ympyui.util.Dom.setStyle("ymp-btn-buy", "display", "none");
        }
    } else {
        if (typeof(YAHOO.mediaplayer.YMPParams.amazonid) === "string" && YAHOO.mediaplayer.YMPParams.amazonid.length > 0) {
            YAHOO.ympyui.util.Dom.setStyle("ymp-btn-buy", "display", "block");
            this.updateBuyButtonURL(this.currentMedia);
        } else {
            YAHOO.ympyui.util.Dom.setStyle("ymp-btn-buy", "display", "none");
        }
    }
    b = null;
    e = null;
    d = null;
    n = null;
    if (document.location.href.indexOf("contplay/index.php") >= 0) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-btn-target", "display", "none");
    }
    if (this.currentMedia.bIsVideo) {
        YAHOO.ympyui.util.Dom.addClass("ymp-meta", "ymp-media-type-video");
    } else {
        YAHOO.ympyui.util.Dom.removeClass("ymp-meta", "ymp-media-type-video");
    }
};
YAHOO.mediaplayer.View.prototype.showBodyErrorIcon = function (a) {
    var b = document.getElementById("ymp-current-media-error");
    if (null !== b && a && a.level && a.id) {
        switch (a.level) {
        case YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL:
        case YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR:
            b.className = "ymp-error-icon ymp-skin ymp-error-id-" + a.id;
            break;
        case YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING:
            b.className = "ymp-warning-icon ymp-skin ymp-error-id-" + a.id;
            break;
        }
        YAHOO.ympyui.util.Dom.setStyle("ymp-current-media-error", "display", "block");
    }
};
YAHOO.mediaplayer.View.prototype.showPlaylistErrorIcon = function (a) {
    var c = a.media && a.media.id ? document.getElementById(a.media.id) : null;
    if (null !== c) {
        var b = document.createElement("span");
        this.hidePlaylistErrorIcon(a);
        b.className = "ymp-error-icon ymp-skin ymp-error-id-" + a.id;
        c.appendChild(b);
    }
};
YAHOO.mediaplayer.View.prototype.hideBodyErrorIcon = function () {
    YAHOO.ympyui.util.Dom.setStyle("ymp-current-media-error", "display", "none");
};
YAHOO.mediaplayer.View.prototype.hidePlaylistErrorIcon = function (d) {
    var e = d && d.media && d.media.id ? document.getElementById(d.media.id) : null;
    if (null !== e) {
        var c = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-error-icon", "span", e);
        for (var b = 0, a = c.length; b < a; ++b) {
            e.removeChild(c[b]);
        }
    }
};
YAHOO.mediaplayer.View.prototype.updateBuyButtonURL = function (c) {
    var b = document.getElementById("ymp-btn-buy");
    if (c.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.rhapsody || c.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.yahoo) {
        if (c.buyURL && c.buyURL.length > 0) {
            b.setAttribute("href", c.buyURL);
        } else {}
    } else {
        var e = YAHOO.mediaplayer.YMPParams.amazonid;
        if (e == null) {
            var d = Math.floor(Math.random() * 2);
            var a = (d == 0) ? "thremid-20" : "williamkhoes-20";
            e = a;
        }
        var f = "http://www.amazon.com/gp/search?ie=UTF8&tag=" + e + "&index=blended&linkCode=ur2&camp=1789&creative=9325&keywords=";
        if (c.artistName != null && c.artistName != "") {
            f += encodeURIComponent(c.artistName);
        }
        if (c.title != null && c.title != "") {
            f += encodeURIComponent(" " + c.title);
        }
        b.setAttribute("href", f);
    }
};
YAHOO.mediaplayer.View.prototype.onPlayStateChange = function (g) {
    var e, d = document.getElementById("ymp-btn-max");
    if (d != null) {
        e = d.getElementsByTagName("span")[0];
    }
    var c = document.getElementById("ymp-meta-progress");
    switch (g.newState) {
    case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:
        this.setTrayLeftPaneContent(g.media, g.newState);
        YAHOO.ympyui.util.Dom.removeClass("ymp-play", "ymp-btn-play");
        YAHOO.ympyui.util.Dom.addClass("ymp-play", "ymp-btn-pause");
        var h = document.getElementById("ymp-play");
        if (h) {
            h.setAttribute("title", YAHOO.mediaplayer.DisplayStrings.tooltips.PAUSE);
            h = null;
        }
        var b = g.media.anchor;
        if (b == null) {
            b = g.media.parent.anchor;
        }
        YAHOO.ympyui.util.Dom.removeClass(b.parentNode, "ymp-btn-page-play");
        YAHOO.ympyui.util.Dom.addClass(b.parentNode, "ymp-btn-page-pause");
        if (document.getElementById("ymp-player") != null) {
            YAHOO.ympyui.util.Dom.addClass(e, "ymp-animarrow");
            if (g.media.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.rhapsody || g.media.mimeType == YAHOO.mediaplayer.Parser.MimeTypes.yahoo) {
                var f = YAHOO.mediaplayer.Controller.rhapsody.getSubType();
                var a = YAHOO.mediaplayer.Controller.rhapsody.getFreePlays();
                if (f == null || f == "RHAPSODY_25") {
                    YAHOO.ympyui.util.Dom.setStyle("ymp-rhap-message", "visibility", "visible");
                    document.getElementById("ymp-plays-left").innerHTML = YAHOO.mediaplayer.DisplayStrings.ui.PLAYS_LEFT;
                    if (g.oldState != YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED) {
                        document.getElementById("ymp-rhap-playcount").innerHTML = a;
                    }
                }
                this.runCarousel(this.rhapCarouselContent);
            }
            if ((g.media.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.amg) || YAHOO.mediaplayer.Controller.isThirtySecondSample()) {
                YAHOO.ympyui.util.Dom.setStyle("ymp-rhap-message", "visibility", "visible");
                YAHOO.ympyui.util.Dom.setStyle("ymp-rhap-getunlimited", "display", "block");
                document.getElementById("ymp-rhap-playcount").innerHTML = YAHOO.mediaplayer.DisplayStrings.ui.AMG_SAMPLE_TIME;
                document.getElementById("ymp-plays-left").innerHTML = YAHOO.mediaplayer.DisplayStrings.ui.AMG_SAMPLE_TEXT;
                this.runCarousel(this.amgCarouselContent);
            }
        }
        break;
    case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:
    case YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED:
        if (c != null) {
            c.innerHTML = "";
        }
    case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:
        YAHOO.ympyui.util.Dom.removeClass("ymp-play", "ymp-btn-pause");
        YAHOO.ympyui.util.Dom.addClass("ymp-play", "ymp-btn-play");
        var h = document.getElementById("ymp-play");
        if (h) {
            h.setAttribute("title", YAHOO.mediaplayer.DisplayStrings.tooltips.PLAY);
            h = null;
        }
        var b = g.media.anchor;
        if (b == null) {
            b = g.media.parent.anchor;
        }
        YAHOO.ympyui.util.Dom.removeClass(b.parentNode, "ymp-btn-page-pause");
        YAHOO.ympyui.util.Dom.addClass(b.parentNode, "ymp-btn-page-play");
        YAHOO.ympyui.util.Dom.removeClass(e, "ymp-animarrow");
        break;
    case YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING:
        this.setTrayLeftPaneContent(g.media, g.newState);
        if (c != null) {
            c.innerHTML = YAHOO.mediaplayer.DisplayStrings.ui.BUFFERING;
        }
        break;
    }
    if (YAHOO.mediaplayer.Util.BROWSER == "Firefox") {
        this.firefoxSetEllipsis(document.getElementById("ymp-meta-album-title"), null, 5);
    }
};
YAHOO.mediaplayer.View.prototype.onError = function (a) {
    switch (a.level) {
    case YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL:
    case YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR:
        document.getElementById("ymp-meta-progress").innerHTML = "";
        if (a.media && a.media === this.currentMedia) {
            this.showBodyErrorIcon(a);
        }
        this.showPlaylistErrorIcon(a);
        break;
    case YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING:
        if (a.media && a.media === this.currentMedia) {
            this.showBodyErrorIcon(a);
        }
        break;
    }
};
YAHOO.mediaplayer.View.prototype.setUpUiStrings = function () {
    var c = "";
    var a = [];
    var d = document.getElementById("ymp-prev");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.PREVIOUS;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-play");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.PLAY;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-next");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.NEXT;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-volume-thumb");
    if (d) {
        var b = parseInt(this.controller.mediaengine.getVolume() * 100);
        a = [b];
        c = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.tooltips.VOLUME, a);
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-btn-buy");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.BUY;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-btn-tray");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.OPENPLAYLIST;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-btn-max");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.MAXIMIZE;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-btn-min");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.MINIMIZE;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-btn-close");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.CLOSE;
        d.setAttribute("title", c);
    }
    d = document.getElementById("ymp-btn-target");
    if (d) {
        c = YAHOO.mediaplayer.DisplayStrings.tooltips.FINDONPAGE;
        d.setAttribute("title", c);
    }
    d = null;
};
YAHOO.mediaplayer.View.prototype.showRhapsodyStickwall = function () {
    if (document.getElementById("ymp-player") != null) {
        this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.MAX);
        var a = YAHOO.mediaplayer.Controller.rhapsody.getFreePlays(),
            c = document.getElementById("ymp-rhap-plays-left"),
            b = document.getElementById("ymp-rhap-continue");
        if (a > 0) {
            b.innerHTML = YAHOO.mediaplayer.DisplayStrings.ui.CONTINUE_ENJOYING;
            c.innerHTML = YAHOO.ympyui.lang.substitute(YAHOO.mediaplayer.DisplayStrings.ui.MORE_FREE_PLAYS, {
                num_plays: a,
                plays: a != 1 ? "plays" : "play",
                keep_music_going: YAHOO.mediaplayer.DisplayStrings.ui.KEEP_MUSIC_GOING
            });
        } else {
            b.innerHTML = YAHOO.mediaplayer.DisplayStrings.ui.LISTEN_TO_SAMPLES;
            c.innerHTML = YAHOO.ympyui.lang.substitute(YAHOO.mediaplayer.DisplayStrings.ui.NO_MORE_FREE_PLAYS, {
                keep_music_going: YAHOO.mediaplayer.DisplayStrings.ui.KEEP_MUSIC_GOING
            });
        }
        this.changeStickwallTypeTo("ymp-rhap-stickwall");
    }
};
YAHOO.mediaplayer.View.prototype.onRhapContinueClick = function (a) {
    YAHOO.ympyui.util.Event.stopEvent(a);
    this.EventManager.onPlayRequest.fire({
        "TRIGGER_TYPE": "RHAP_CONT"
    });
};
YAHOO.mediaplayer.View.prototype.keyHandler = function (h) {
    try {
        var b = h.shiftKey;
        var f = h.altKey;
        var a = h.ctrlKey;
        var l = h.keyCode;
        var g = YAHOO.mediaplayer.Util.keycodes;
        if (l == g.KEY_SPACE && b === true) {
            YAHOO.ympyui.util.Event.stopEvent(h);
            var k = document.getElementById("ymp-play");
            if (YAHOO.ympyui.util.Dom.hasClass(k, "ymp-btn-pause")) {
                this.pause(h, this);
            } else {
                this.play(h, this);
            }
            k = null;
            return false;
        }
        if (l == g.KEY_LEFT && b === true) {
            this.prev(h, this);
            return false;
        }
        if (l == g.KEY_RIGHT && b === true) {
            this.next(h, this);
            return false;
        }
        if ((l == g.KEY_UP || l == g.KEY_DOWN) && b === true) {
            YAHOO.ympyui.util.Event.stopEvent(h);
            var d = YAHOO.MediaPlayer.getVolume();
            if (l == g.KEY_UP && d < 1) {
                YAHOO.MediaPlayer.setVolume(d + 0.01);
            }
            if (l == g.KEY_DOWN && d > 0) {
                YAHOO.MediaPlayer.setVolume(d - 0.01);
            }
            return false;
        }
        if (l == g.KEY_P && b === true && a === true) {
            YAHOO.ympyui.util.Event.stopEvent(h);
            this.toggleTray();
            var k = document.getElementById("ymp-btn-tray");
            if (k) {
                k.focus();
                k = null;
            }
            return false;
        }
    } catch (c) {}
};
YAHOO.mediaplayer.View.prototype.trayKeyHandler = function (g) {
    try {
        if (YAHOO.ympyui.util.Dom.hasClass("ymp-btn-tray", "ymp-btn-tray-open")) {
            var c = g.keyCode;
            var b = YAHOO.mediaplayer.Util.keycodes;
            if ((c === b.KEY_UP || c === b.KEY_DOWN) && this.playlistArray.length > 0) {
                YAHOO.ympyui.util.Event.stopEvent(g);
                var h = (g.srcElement) ? g.srcElement.id : g.target.id;
                var f = null;
                if (h === "ymp-btn-tray") {
                    f = document.getElementById(this.playlistArray[0].id);
                } else {
                    for (var a = 0; a < (this.playlistArray.length); a++) {
                        if (this.playlistArray[a].id == h) {
                            if (c === b.KEY_DOWN && a < (this.playlistArray.length - 1)) {
                                f = document.getElementById(this.playlistArray[a + 1].id);
                                break;
                            } else {
                                if (c === b.KEY_UP && a > 0) {
                                    f = document.getElementById(this.playlistArray[a - 1].id);
                                    break;
                                }
                            }
                        }
                    }
                }
                if (f) {
                    this.clearFocusClass(f);
                    f.focus();
                    f = null;
                }
                return false;
            }
        }
    } catch (d) {}
};
YAHOO.mediaplayer.View.prototype.trayMouseOverHandler = function (a) {
    this.clearFocusClass();
};
YAHOO.mediaplayer.View.prototype.clearFocusClass = function (c) {
    for (var b = 0, a = this.playlistArray.length; b < a; b++) {
        link = document.getElementById(this.playlistArray[b].id);
        if (c && (link === c)) {
            YAHOO.ympyui.util.Dom.addClass(c, "ymp-tray-track-focus");
        } else {
            YAHOO.ympyui.util.Dom.removeClass(link, "ymp-tray-track-focus");
        }
        link = null;
    }
};
YAHOO.mediaplayer.View.prototype.clearPlaylistTray = function (a) {
    var b = a.getElementsByTagName("a");
    while (b.length > 0) {
        YAHOO.ympyui.util.Dom.removeClass(this.controller.playlistmanager.getMediaById(b[0].id).anchor.parentNode, "ymp-btn-page-play");
        YAHOO.ympyui.util.Dom.removeClass(this.controller.playlistmanager.getMediaById(b[0].id).anchor.parentNode, "ymp-btn-page-pause");
        a.removeChild(b[0].parentNode);
        b = a.getElementsByTagName("a");
    }
};
YAHOO.mediaplayer.View.prototype.reorderTraylist = function (a) {
    trayItems = a.getElementsByTagName("a");
    var e = trayItems.length;
    var c = 1;
    for (var d = 0; d < e; d++) {
        var b = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-list-numbering", null, trayItems[d]);
        if (b.length > 0) {
            b[0].innerHTML = c;
            c++;
        }
    }
};
YAHOO.mediaplayer.View.prototype.updatePlaylist = function (f, b) {
    var c = f.length;
    var a, e;
    for (var d = 0; d < c; d++) {
        if (!this.currentPlaylist[d]) {
            a = this.getLi(f[d]);
            b.appendChild(a);
            this.currentPlaylist[d] = f[d];
        } else {
            if (this.currentPlaylist[d] == f[d]) {
                continue;
            } else {
                if (d == 0) {
                    a = this.getLi(f[d]);
                    e = YAHOO.ympyui.util.Dom.getChildren(b)[0];
                    YAHOO.ympyui.util.Dom.insertBefore(a, e);
                    this.currentPlaylist.splice(d, 0, f[d]);
                } else {
                    a = this.getLi(f[d]);
                    e = document.getElementById(f[d - 1].id).parentNode;
                    YAHOO.ympyui.util.Dom.insertAfter(a, e);
                    this.currentPlaylist.splice(d, 0, f[d]);
                }
            }
        }
    }
    this.reorderPlaylistTray(b);
};
YAHOO.mediaplayer.View.prototype.getLi = function (b) {
    var a = document.createElement("li");
    if (b instanceof YAHOO.mediaplayer.Playlist) {
        a.innerHTML = '<a id="' + b.id + '" class="ymp-tray-playlist ymp-color-text-tray" href="#"><span class="ymp-numbering"></span>. <b>Loading playlist ...</b><span class="ymp-skin ymp-right-arrow"></span>' + "</a>";
    } else {
        a.innerHTML = '<a id="' + b.id + '" class="ymp-tray-track ymp-color-text-tray" href="#"><span class="ymp-numbering"></span>. <b>Loading track ...</b><em></em>' + "</a>";
    }
    return a;
};
YAHOO.mediaplayer.View.prototype.reorderPlaylistTray = function (b) {
    var d = YAHOO.ympyui.util.Dom.getElementsByClassName("ymp-numbering", "span", b);
    var a = d.length;
    for (var c = 0; c < a; c++) {
        d[c].innerHTML = c + 1;
    }
};
YAHOO.mediaplayer.View.prototype.firefoxSetEllipsis = function (d, g, a) {
    var f = d.style.width;
    d.style.width = "auto";
    d.style.visibility = "hidden";
    if ((typeof g != "undefined") && (g != null)) {
        d.textContent = g;
    }
    var c = d.parentNode;
    var b = 0;
    var e;
    var g = d.textContent;
    while ((d.offsetWidth >= c.offsetWidth) && b < 10) {
        b++;
        e = a ? a : (g.length / 2);
        g = g.substr(0, g.length - e) + "...";
        d.textContent = g;
    }
    d.style.width = f;
    d.style.visibility = "visible";
};
YAHOO.mediaplayer.View.prototype.changeVideoPlayer = function (a) {
    if (this.currentVideoPlayer && (this.currentVideoPlayer != a)) {
        YAHOO.ympyui.util.Dom.setStyle(this.currentVideoPlayer, "visibility", "hidden");
    }
    this.currentVideoPlayer = a;
    if (this.getTrayLeftPaneContent() != "video-player") {
        return;
    }
    if (this.currentVideoPlayer && (this.playlistViewState == YAHOO.mediaplayer.View.PlaylistState.MAX)) {
        YAHOO.ympyui.util.Dom.setStyle(this.currentVideoPlayer, "visibility", "visible");
    }
};
YAHOO.mediaplayer.View.prototype.carouselHasUserDefinedImage = function () {
    return (YAHOO.ympyui.util.Dom.getStyle("ymp-relevance-user-defined-image", "backgroundImage").indexOf("url") > -1);
};
YAHOO.mediaplayer.View.prototype.onPlayRequest = function (e) {
    var d;
    if (e && e.media) {
        d = e.media;
    } else {
        d = this.currentMedia;
    }
    var b = false;
    var a = false;
    var c = (this.currentViewState == YAHOO.mediaplayer.View.DisplayState.HIDDEN);
    if (this.firstPlay || c) {
        b = true;
        this.firstPlay = false;
    }
    if (d && d.bIsVideo) {
        b = true;
        a = true;
    }
    if (b) {
        this.resizePlayer(YAHOO.mediaplayer.View.DisplayState.MAX, a);
    }
    if ((typeof e.seek == "undefined") && (!YAHOO.ympyui.util.Dom.hasClass("ymp-play", "ymp-btn-pause"))) {
        this.hideBodyErrorIcon();
    }
    this.hidePlaylistErrorIcon({
        media: d
    });
};
YAHOO.mediaplayer.View.prototype.setTrayLeftPaneContent = function (e, f) {
    if ((f != YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING) && (f != YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING)) {
        var c = (this.currentMedia.bIsVideo) ? [YAHOO.mediaplayer.DisplayStrings.ui.WATCH] : [YAHOO.mediaplayer.DisplayStrings.ui.LISTEN_TO];
        var a = YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.ui.PRESS_PLAY_PANE_TEXT, c);
        a += "<br/><em>" + this.currentMedia.title + "</em>";
        document.getElementById("ymp-press-play-text").innerHTML = a;
        this.switchTrayLeftPaneContent("press-play");
    } else {
        if (!e.bIsVideo) {
            var d = ((typeof(e.albumArt) == "string") && (e.albumArt.length > 0));
            var b = d ? "album-cover" : "learn-more";
            this.switchTrayLeftPaneContent(b);
        }
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.ViewMarkup = {
    body: '		<div id="ymp-body" class="ymp-skin">			<h2>' + YAHOO.mediaplayer.DisplayStrings.ui.HDR_MAIN + '</h2>			<a id="ymp-btn-max" href="#"><span class="ymp-skin" title="Maximize the player"></span></a>			<div id="ymp-yahoo-logo" class="ymp-skin" oncontextmenu="return false;"></div>			<div id="ymp-control" class="ymp-skin">				<h3>' + YAHOO.mediaplayer.DisplayStrings.ui.HDR_CONTROLS + '</h3>				<a id="ymp-prev" class="ymp-btn-prev ymp-skin" href="#" title="Previous track">Previous</a>				<a id="ymp-play" class="ymp-btn-play ymp-skin" href="#" title="Play/pause track">Play</a>				<a id="ymp-next" class="ymp-btn-next ymp-skin" href="#" title="Next track">Next</a>			</div>			<div id="ymp-volume" class="ymp-skin">				<div id="ymp-volume-cover"><span class="ymp-skin"></span></div>				<a id="ymp-volume-thumb" class="ymp-skin" href="#" title="Adjust volume">Vol</a>			</div>			<div id="ymp-meta" class="ymp-skin">				<div id="ymp-stickwall">					<div class="ymp-stickwall-body1"></div>					<div class="ymp-stickwall-body2"></div>					<div class="ymp-stickwall-body3"></div>					<div class="ymp-stickwall-body4"></div>					<div class="ymp-stickwall-body5"></div>					<div class="ymp-stickwall-gradient ymp-skin"></div>					<div id="ymp-rhap-stickwall">						<a id="ymp-rhap-logo" class="ymp-rhap-powered" href="#">powered by Rhapsody</a>                        <h2><span id="ymp-rhap-plays-left">' + YAHOO.ympyui.lang.substitute(YAHOO.mediaplayer.DisplayStrings.ui.MORE_FREE_PLAYS, {
        num_plays: 25,
        plays: "plays",
        keep_music_going: YAHOO.mediaplayer.DisplayStrings.ui.KEEP_MUSIC_GOING
    }) + '</span></h2>						<div id="ymp-rhap-stickwall-action">							<a id="ymp-rhap-subscribe-now" href="http://www.rhapsody.com/yahooplayer/?ocode=' + encodeURIComponent(YAHOO.mediaplayer.YMPParams.rhappcode) + "&pcode=" + encodeURIComponent(YAHOO.mediaplayer.YMPParams.rhappcode) + "&cpath=unlplaylink&rsrc=" + ((YAHOO.mediaplayer.YMPParams.ypartner && YAHOO.mediaplayer.YMPParams.ypartner.length > 0) ? YAHOO.mediaplayer.YMPParams.ypartner : "yahoo") + '" target="_blank" class="ymp-btn-alt ymp-btn-subscribe">' + YAHOO.mediaplayer.DisplayStrings.ui.SUBSCRIBE_NOW + '</a>                            <span>|</span>							<a id="ymp-rhap-continue" href="#" class="ymp-btn-alt">' + YAHOO.mediaplayer.DisplayStrings.ui.CONTINUE_ENJOYING + '</a>						</div>				  	</div>					<div id="ymp-error-stickwall">						<h2><span class="ymp-skin"></span><span id="ymp-critical-error-msg"></span></h2>				  	</div>				  	<div id="ymp-amg-stickwall">						<h2><span class="ymp-skin"></span></h2>						<div class="ymp-amg-container">						<div class="ymp-amg-msg1">Full length tracks are currently unavailable.</div>						<div class="ymp-amg-msg2">Now playing :30 samples.</div>					    <div class="ymp-amg-msg3"><a href="#" id="ymp-amg-return2player">Return to the player</a> | <a target="_blank" href="http://help.yahoo.com/l/us/yahoo/music/webplayer/samples.html">More information >> </a></div>					    </div>				  	</div>				</div>				<table id="ymp-meta-top" cellspacing="0" cellpadding="0" border="0">					<tr>						<td width="100%"><div class="ymp-meta-box"><div class="ymp-skin" id="ymp-meta-type-icon"></div><a id="ymp-meta-track-title" class="ymp-color-text-main" href="#" target="_blank"></a><a id="ymp-meta-artist-title" class="ymp-color-text-main" href="#" target="_blank"></a>&nbsp;</div></td>						<td><a id="ymp-current-media-error" class="ymp-error-icon ymp-skin" href="#" style="display:none;">Error</a></td>						<td>							<a id="ymp-btn-buy" class="ymp-skin" href="#" target="_blank" title="Buy track">								<span class="ymp-skin ymp-icon-buy"></span>								<em class="ymp-skin"></em>							</a>						</td>						<td>							<div class="ymp-meta-box">								<a id="ymp-btn-target" class="ymp-skin" href="#" title="Find track on page">Focus on current media</a>							</div>						</td>					</tr>				</table>				<table id="ymp-meta-bottom" cellspacing="0" cellpadding="0" border="0">					<tr>						<td width="100%"><div class="ymp-meta-box">						<div id="ymp-seek"><div id="ymp-seek-cover"><div id="ymp-seek-cover-elapsed"></div></div><div id="ymp-seek-thumb"></div></div>						<div id="ymp-seek-loading"></div>						<a id="ymp-meta-album-title" class="ymp-color-text-main" href="#" target="_blank"></a></div></td>						<td><div id="ymp-meta-progress" class="ymp-color-text-main"></div></td>					</tr>				</table>			</div>			<div id="ymp-right-box">            <div id="ymp-relevance-user-defined-image"></div>			<div id="ymp-relevance">				<div id="ymp-rhap-playinfo" class="ymp-carousel-item">					<div id="ymp-rhap-message">					<span id="ymp-rhap-playcount">24</span><span id="ymp-plays-left">' + YAHOO.mediaplayer.DisplayStrings.ui.PLAYS_LEFT + '</span>					<a id="ymp-rhap-getunlimited-carousel" href="http://www.rhapsody.com/yahooplayer/?ocode=' + encodeURIComponent(YAHOO.mediaplayer.YMPParams.rhappcode) + "&pcode=" + encodeURIComponent(YAHOO.mediaplayer.YMPParams.rhappcode) + "&cpath=playcntlink&rsrc=" + ((YAHOO.mediaplayer.YMPParams.ypartner && YAHOO.mediaplayer.YMPParams.ypartner.length > 0) ? YAHOO.mediaplayer.YMPParams.ypartner : "yahoo") + '" target="_blank">Get unlimited plays</a>					</div>                    <a id="ymp-rhap-brand" class="ymp-rhap-powered" href="http://www.rhapsody.com/yahooplayer/?ocode=' + encodeURIComponent(YAHOO.mediaplayer.YMPParams.rhappcode) + "&pcode=" + encodeURIComponent(YAHOO.mediaplayer.YMPParams.rhappcode) + "&cpath=powerby&rsrc=" + ((YAHOO.mediaplayer.YMPParams.ypartner && YAHOO.mediaplayer.YMPParams.ypartner.length > 0) ? YAHOO.mediaplayer.YMPParams.ypartner : "yahoo") + '" target="_blank"></a>				</div>				<a id="ymp-getplayer" class="ymp-carousel-item" href="' + ((YAHOO.mediaplayer.YMPParams["injected-by"] == "foxytunes-ff") ? "http://www.foxytunes.com/mediaplayers/yahoo-media-player/" : YAHOO.mediaplayer.YMPParams["wwwroot"]) + '" target="_blank">learn more about this player &raquo;</a>				<a id="ymp-getlyrics" class="ymp-carousel-item" href="http://search.music.yahoo.com/search/?m=lyrics&p=" target="_blank">Find the lyrics<br/><em>for this song</em><span class="ymp-skin"></span></a>				<a id="ymp-watchvideo" class="ymp-carousel-item" href="http://search.music.yahoo.com/search/?m=video&p=" target="_blank">Find the video<br/><em>for this song</em><span class="ymp-skin"></span></a>				<a id="ymp-discoverartists" class="ymp-carousel-item" href="http://music.yahoo.com/artist/" target="_blank">Discover new artists &raquo;</a>				<a id="ymp-topcharts" class="ymp-carousel-item" href="http://new.music.yahoo.com/charts/" target="_blank">Top Music charts &raquo;</a>				<a id="ymp-watchmorevideos" class="ymp-carousel-item" href="http://new.music.yahoo.com/videos/" target="_blank">Watch more videos &raquo;</a>				<a id="ymp-findconcerts" class="ymp-carousel-item" href="http://new.music.yahoo.com/concerts/" target="_blank">Find concert tickets &raquo;</a>				<a id="ymp-readblogs" class="ymp-carousel-item" href="http://new.music.yahoo.com/blogs/" target="_blank">Read Music blogs &raquo;</a>			</div>				<div id="ymp-about-feedback" class="ymp-skin">					<span><a href="' + YAHOO.mediaplayer.YMPParams["wwwroot"] + '" target="_blank">About</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://feedback.help.yahoo.com/feedback.php?.src=WEBPLAYER&.done=' + YAHOO.mediaplayer.YMPParams["wwwroot"] + "&.ver_webplayer=" + YAHOO.mediaplayer.YMPParams["build_number"] + '" target="_blank">Feedback</a></span>				</div>			</div>			<a id="ymp-btn-close" href="#" class="ymp-skin" title="Close the player"></a>			<a id="ymp-btn-pop" href="#" class="ymp-skin" title="Continue playback in a separate window"></a>			<a id="ymp-btn-min" class="ymp-skin" href="#" title="Minimize the player"></a>			<div id="ymp-body-base">				<div id="ymp-body-strip" class="ymp-color-main"></div>				<div id="ymp-body-cap">					<div class="ymp-color-main ymp-pix-dark ymp-pix-tr1"></div>            		<div class="ymp-color-main ymp-pix-light ymp-pix-tr2"></div>            		<div class="ymp-color-main ymp-pix-light ymp-pix-tr3"></div>            		<div class="ymp-color-main ymp-pix-dark ymp-pix-tr4"></div>					<div class="ymp-color-main ymp-cap-body1"></div>					<div class="ymp-color-main ymp-cap-body2"></div>					<div class="ymp-color-main ymp-pix-dark ymp-pix-br1"></div>            		<div class="ymp-color-main ymp-pix-light ymp-pix-br2"></div>            		<div class="ymp-color-main ymp-pix-light ymp-pix-br3"></div>            		<div class="ymp-color-main ymp-pix-dark ymp-pix-br4"></div>				</div>			</div>		</div>		<form id="ymwp-contplay-form" name="contplayform" action="" method="post" target="ymediaplayer">			<input name="token" type="hidden" value="0"/>			<input name="seek" type="hidden" value="0"/>			<input name="vol" type="hidden" value="0"/>			<input name="trackhtml" type="hidden" value=""/>			<input name="build_number" type="hidden" value=""/>		</form>	',
    tray: '	<div id="ymp-tray-body" class="ymp-skin">		<a id="ymp-btn-tray" class="ymp-btn-tray-closed" href="#" title="Open/close the Playlist tray">			<span class="ymp-color-tray ymp-pix-dark ymp-pix-tl1"></span>            <span class="ymp-color-tray ymp-pix-light ymp-pix-tl2"></span>          	<span class="ymp-color-tray ymp-pix-light ymp-pix-tl3"></span>          	<span class="ymp-color-tray ymp-pix-dark ymp-pix-tl4"></span>			<span class="ymp-color-tray ymp-btn-tray-body1"></span>			<span class="ymp-color-tray ymp-btn-tray-body2"></span>			<span class="ymp-color-tray ymp-btn-tray-body3"></span>			<span class="ymp-color-tray ymp-btn-tray-body4"></span>			<span class="ymp-color-tray ymp-pix-dark ymp-pix-tr1"></span>            <span class="ymp-color-tray ymp-pix-light ymp-pix-tr2"></span>            <span class="ymp-color-tray ymp-pix-light ymp-pix-tr3"></span>           	<span class="ymp-color-tray ymp-pix-dark ymp-pix-tr4"></span>           	<span class="ymp-color-tray ymp-pix-dark ymp-pix-bl"></span>			<span id="ymp-playlist-arrow" class="ymp-skin ymp-up-arrow"></span>			<em class="ymp-color-tray ymp-color-text-tray">Playlist</em>		</a>        <div id="ymp-tray-content" class="ymp-color-tray">            <div id="ymp-tray-left-pane" class="ymp-color-tray-left-pane">                <a id="ymp-album-cover-pane" href="#" target="_blank"><img id="ymp-album-cover-img"/></a>                <div id="ymp-press-play-pane">                    <span id="ymp-press-play-text"></span>		</div>                <div id="ymp-learn-more-pane">                    <a id="ymp-learn-more-link" href="#" target="_blank">Like what you hear?<br/><em>Find more about whats playing &raquo;</em></a>                </div>                <div id="ymp-video-player-pane"></div>		</div>            <div id="ymp-tray-separator" class="ymp-skin"></div>		    <ul id="ymp-tray-list" class="ymp-color-tray">		<h3>' + YAHOO.mediaplayer.DisplayStrings.ui.HDR_PLAYLIST + '</h3>		</ul>        </div>	</div>	<div id="ymp-left-pane-opacity-shim"></div>	'
};
YAHOO.MediaPlayer.init = function () {
    this.controller = YAHOO.mediaplayer.Controller;
    YAHOO.MediaPlayer.onPlaylistUpdate = new YAHOO.ympyui.util.CustomEvent("onPlaylistUpdate", null, false, YAHOO.ympyui.util.CustomEvent.FLAT);
    YAHOO.MediaPlayer.onProgress = new YAHOO.ympyui.util.CustomEvent("onProgress", null, false, YAHOO.ympyui.util.CustomEvent.FLAT);
    YAHOO.MediaPlayer.onTrackStart = new YAHOO.ympyui.util.CustomEvent("onTrackStart", null, false, YAHOO.ympyui.util.CustomEvent.FLAT);
    YAHOO.MediaPlayer.onTrackPause = new YAHOO.ympyui.util.CustomEvent("onTrackPause", null, false, YAHOO.ympyui.util.CustomEvent.FLAT);
    YAHOO.MediaPlayer.onTrackComplete = new YAHOO.ympyui.util.CustomEvent("onTrackComplete", null, false, YAHOO.ympyui.util.CustomEvent.FLAT);
    YAHOO.MediaPlayer.onMediaUpdate = new YAHOO.ympyui.util.CustomEvent("onMediaUpdate", null, false, YAHOO.ympyui.util.CustomEvent.FLAT);
    var c = ["onPlaylistUpdate", "onMediaProgress", "onPlayStateChange", "onMediaUpdate"];
    this.controller.EventManager.subscribe(this, c);
    this.isAPIReady = true;
    YAHOO.MediaPlayer.onAPIReady.fire();
    try {
        if (document.createEvent) {
            var a = document.createEvent("Event");
            a.initEvent("GooseInit", false, false);
            if (document.body && document.body.dispatchEvent) {
                document.body.dispatchEvent(a);
            }
        }
    } catch (b) {}
};
YAHOO.MediaPlayer.toString = function () {
    return "YAHOO.MediaPlayer";
};
YAHOO.MediaPlayer.handleEvent = function (c, a) {
    try {
        var d = "Handler";
        if (typeof(this[c + d]) === "function") {
            this[c + d](a[0]);
        }
    } catch (b) {
        throw new Error('ERROR in YAHOO.MediaPlayer.handleEvent(evType:"' + c + '"). ' + b.message);
    }
};
YAHOO.MediaPlayer.onPlaylistUpdateHandler = function (a) {
    YAHOO.MediaPlayer.onPlaylistUpdate.fire(a);
};
YAHOO.MediaPlayer.onMediaUpdateHandler = function (a) {
    YAHOO.MediaPlayer.onMediaUpdate.fire(a);
};
YAHOO.MediaPlayer.onMediaProgressHandler = function (a) {
    YAHOO.MediaPlayer.onProgress.fire(a);
};
YAHOO.MediaPlayer.onPlayStateChangeHandler = function (a) {
    var b = this.formatMedia(a.media);
    switch (a.newState) {
    case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:
        YAHOO.MediaPlayer.onTrackStart.fire({
            mediaObject: b
        });
        break;
    case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:
        YAHOO.MediaPlayer.onTrackPause.fire({
            mediaObject: b
        });
        break;
    case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:
        YAHOO.MediaPlayer.onTrackComplete.fire({
            mediaObject: b
        });
        break;
    default:
        break;
    }
};
YAHOO.MediaPlayer.getPlaylistCount = function getPlaylistCount() {
    try {
        return this.controller.playlistmanager.playlistArray.length;
    } catch (a) {
        return -1;
    }
};
YAHOO.MediaPlayer.play = function (b, a) {
    this.controller.EventManager.onPlayRequest.fire({
        media: b,
        seek: a
    });
};
YAHOO.MediaPlayer.pause = function () {
    this.controller.EventManager.onPauseRequest.fire();
};
YAHOO.MediaPlayer.stop = function () {
    this.controller.EventManager.onStopRequest.fire();
};
YAHOO.MediaPlayer.previous = function () {
    this.controller.EventManager.onPreviousRequest.fire();
};
YAHOO.MediaPlayer.next = function () {
    this.controller.EventManager.onNextRequest.fire();
};
YAHOO.MediaPlayer.getVolume = function () {
    var a = this.controller.mediaengine.getVolume();
    if (typeof a === "number") {
        a = parseFloat(a.toFixed(2));
    } else {
        a = parseFloat(a);
        a = parseFloat(a.toFixed(2));
    }
    return a;
};
YAHOO.MediaPlayer.setVolume = function (a) {
    if (typeof a === "number") {
        parseFloat(a = a.toFixed(2));
        if (a > 1) {
            a = 1;
        }
        if (a < 0) {
            a = 0;
        }
    }
    this.controller.EventManager.onVolumeChangeRequest.fire(a);
};
YAHOO.MediaPlayer.getTrackPosition = function () {
    if (this.controller.mediaengine.currentEngine) {
        return (this.controller.mediaengine.currentEngine.getElapsed()) / 1000;
    }
};
YAHOO.MediaPlayer.getTrackDuration = function () {
    if (this.controller.mediaengine.currentEngine) {
        return (this.controller.mediaengine.currentEngine.getDuration()) / 1000;
    }
};
YAHOO.MediaPlayer.getMetaData = function (a) {
    var b = {};
    if (typeof(a) !== "number") {
        b = this.controller.playlistmanager.playlistArray[this.controller.playlistmanager.currentIndex];
    } else {
        b = this.controller.playlistmanager.playlistArray[a];
    }
    b = this.formatMedia(b);
    return b;
};
YAHOO.MediaPlayer.getPlayerState = function () {
    if (this.controller.mediaengine.currentPlayState === YAHOO.mediaplayer.MediaEngine.PlayState.ENDED) {
        return 7;
    } else {
        if (this.controller.mediaengine.currentPlayState === YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING) {
            return 5;
        } else {
            return (this.controller.mediaengine.currentPlayState);
        }
    }
};
YAHOO.MediaPlayer.getPlayerViewState = function getPlayerViewState() {
    return this.controller.view.currentViewState;
};
YAHOO.MediaPlayer.setPlayerViewState = function setPlayerViewState(a) {
    if (a === YAHOO.mediaplayer.View.DisplayState.HIDDEN || a === YAHOO.mediaplayer.View.DisplayState.MIN || a === YAHOO.mediaplayer.View.DisplayState.MAX) {
        if (this.controller && this.controller.view) {
            this.controller.view.resizePlayer(a);
        }
    }
};
YAHOO.MediaPlayer.formatMedia = function (a) {
    if (typeof(a) === "object" && a.token) {
        a.text = this.controller.mediaresolver.parseTextNode(a.anchor);
        a.url = a.token;
        a.albumart = a.albumArt;
        a.artist = a.artistName;
        a.album = a.albumName;
        a.Album = {};
        a.Album.Release = {};
        a.Album.Release.Image = {};
        a.Artist = {};
        a.Album.Release.DisplayTitle = a.albumName || "";
        a.Album.Release.Image.url = a.albumArt || "";
        a.Artist.name = a.artistName || "";
        return a;
    } else {
        return null;
    }
};
YAHOO.MediaPlayer.addTracks = function addTracks(c, b, a) {
    var d = this.controller.parser.parse(c);
    if (a === true) {
        this.controller.playlistmanager.clear();
        return this.controller.playlistmanager.add(d);
    } else {
        if (typeof(b) !== "number") {
            return this.controller.playlistmanager.add(d);
        } else {
            return this.controller.playlistmanager.insert(d, b);
        }
    }
};
YAHOO.MediaPlayer.getQueueViewState = function () {
    try {
        if (this.controller.view.playlistViewState === YAHOO.mediaplayer.View.PlaylistState.MAX) {
            return 1;
        } else {
            if (this.controller.view.playlistViewState === YAHOO.mediaplayer.View.PlaylistState.MIN) {
                return 0;
            }
        }
    } catch (a) {
        return null;
    }
};
YAHOO.MediaPlayer.setQueueViewState = function setQueueViewState(b) {
    try {
        if (b === YAHOO.mediaplayer.View.PlaylistState.MAX) {
            this.controller.view.openTray();
        } else {
            if (b === YAHOO.mediaplayer.View.PlaylistState.MIN) {
                this.controller.view.closeTray();
            }
        }
        return true;
    } catch (a) {
        return false;
    }
};
new YAHOO.MediaPlayer();
YAHOO.namespace("YAHOO.mediaplayer.ErrorDefinitions");
YAHOO.mediaplayer.ErrorDefinitions.Levels = {
    CRITICAL: 0,
    ERROR: 1,
    WARNING: 2,
    INFO: 3,
    DEBUG: 4
};
YAHOO.mediaplayer.ErrorDefinitions.Types = {
    GENERIC: 0,
    RIGHTS_REVOKED: 1,
    PLAYER_TIMEOUT: 2,
    REGION_RESTRICTED: 3,
    ONLY_SAMPLE: 4,
    METADATA_UNVAILABLE: 5,
    PLAYBACK: 6,
    RESOLUTION: 7
};
YAHOO.mediaplayer.ErrorDefinitions.Codes = {
    1: {
        logMessage: "Could not find the media file",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    2: {
        logMessage: "Multiple playback errors",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    3: {
        logMessage: "Generic playback error",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    4: {
        logMessage: "Unable to retrieve playlist",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION
    },
    5: {
        logMessage: "Empty playlist",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION
    },
    6: {
        logMessage: "Media download error",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    7: {
        logMessage: "Connection error",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    8: {
        logMessage: "DRM error",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    9: {
        logMessage: "WMP plugin for Firefox missing",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    10: {
        logMessage: "Metadata unavailable.",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.METADATA_UNAVAILABLE
    },
    11: {
        logMessage: "Playback timed out.",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.PLAYBACK_TIMEOUT
    },
    12: {
        logMessage: "Resolution failed.",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION
    },
    13: {
        logMessage: "Rhapsody login failure",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    14: {
        logMessage: "Rhapsody engine not initialized",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    15: {
        logMessage: "Rhapsody, invalid user token, need to re-sign in",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    16: {
        logMessage: "Rhapsody, access denied",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    17: {
        logMessage: "Rhapsody, invalid Request",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    18: {
        logMessage: "Rhapsody, request for user property that is not available",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    19: {
        logMessage: "Rhapsody, login from multiple locations",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    20: {
        logMessage: "We're sorry. This item is not available to play in your region.",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.REGION_RESTRICTED
    },
    21: {
        logMessage: "No streaming rights.",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.RIGHTS_REVOKED
    },
    22: {
        logMessage: "Invalid Seek Operation",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    23: {
        logMessage: "Flash not installed or not working",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC
    },
    24: {
        logMessage: "AMG sample playback",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.ONLY_SAMPLE
    },
    25: {
        logMessage: "AMG sample playback not available",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION
    },
    26: {
        logMessage: "Song not available for playback, missing rhapsody id",
        level: YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,
        type: YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION
    }
};
YAHOO.mediaplayer.ErrorCollection = [];
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Error = function (b, a) {
    this.code = b;
    this.id = Number.GUID(Math.getRnd(0, 1000));
    var d = YAHOO.mediaplayer.ErrorDefinitions.Codes[b];
    if (typeof(d) === "object") {
        for (var c in d) {
            this[c] = d[c];
        }
    }
    this.media = null;
    this.displayMessageArgs = null;
    if (a && a.displayMessageArgs) {
        this.displayMessageArgs = a.displayMessageArgs;
    } else {
        this.displayMessageArgs = [""];
    }
    YAHOO.mediaplayer.ErrorCollection[this.id] = this;
};
YAHOO.mediaplayer.PlaylistManager.prototype.toString = function () {
    return "YAHOO.mediaplayer.Error";
};
YAHOO.mediaplayer.Error.prototype.getDisplayMessage = function () {
    return YAHOO.mediaplayer.Util.sprintf(YAHOO.mediaplayer.DisplayStrings.errors[this.code], this.displayMessageArgs);
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.Logger = function media(a) {
    try {
        var c = [];
        YAHOO.mediaplayer.Logger.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents([]);
        this.initController(a);
        this.controller = this.getController();
        this.logService = "http://mediaplayer.yahoo.com/services/logger.php?data=";
        this.errorData = "Error_";
        this.playData = "Rhapsody_Play_Request";
        this.currentImageIndex = 0;
        this.imageObjects = new Array(3);
        for (i = 0; i < this.imageObjects.length; i++) {
            this.imageObjects[i] = new Image();
        }
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.Logger, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.Logger.prototype.refByName = "logger";
YAHOO.mediaplayer.Logger.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.Logger.prototype.logError = function logError(b) {
    if ("object" === typeof window.console && "function" === typeof console.log) {
        var d = "Error #" + b.code + ": " + b.logMessage,
            a = "function" === typeof console.group && "function" === typeof console.groupEnd,
            f = {},
            g = {};
        f[YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL] = "error";
        f[YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR] = "error";
        f[YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING] = "warn";
        f[YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO] = "info";
        f[YAHOO.mediaplayer.ErrorDefinitions.Levels.DEBUG] = "info";
        g[YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL] = true;
        g[YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR] = true;
        if (a) {
            console.group("YAHOO.mediaplayer.Logger");
        }
        if ("function" === typeof console[f[b.level]]) {
            console[f[b.level]](d, b);
        } else {
            console.log(d, b);
        }
        if (b.level in g && "function" === typeof console.trace) {
            console.trace();
        }
        if (a) {
            console.groupEnd();
        }
    }
    if (b.media && b.media.mimeType == "audio/rhapsody") {
        var c = b.code;
        var e = this.errorData + b.code + " " + b.logMessage;
        this.sendBeacon(this.logService + e);
    }
};
YAHOO.mediaplayer.Logger.prototype.logPlay = function logPlay(a) {
    var b = this.playData + " " + a;
    this.sendBeacon(this.logService + b);
};
YAHOO.mediaplayer.Logger.prototype.sendBeacon = function (a) {
    return;
    if (YAHOO.mediaplayer.YMPParams.logging === true) {
        this.imageObjects[this.currentImageIndex].src = a;
        this.currentImageIndex = ((this.currentImageIndex + 1) % this.imageObjects.length);
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.AnonymousUsage = function (a) {
    try {
        var c = ["onUsageInit", "onUsageAction"];
        YAHOO.mediaplayer.AnonymousUsage.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents([]);
        this.initController(a);
        this.controller = this.getController();
        this.usageIFrameURL = "https://127.0.0.1:1080/Partner/Content/player/uu-2.html";
        this.ywaTracker = null;
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.AnonymousUsage, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.AnonymousUsage.prototype.refByName = "anonymoususage";
YAHOO.mediaplayer.AnonymousUsage.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.AnonymousUsage.YWAFieldMappings = {
    INJECTED_BY: 7,
    ENTITIES_NUM: 15,
    ENTITY_LINK: 17,
    ENTITY_ID: 18,
    ENTITY_TITLE: 19,
    ENTITY_TYPE: 20,
    TRIGGER_TYPE: 21
};
YAHOO.mediaplayer.AnonymousUsage.YWAActionMappings = {
    PLAY: 2,
    FIRST_PLAY: 3
};
YAHOO.mediaplayer.AnonymousUsage.prototype.getYWACustomFields = function (c) {
    var d = {};
    if (!c) {
        return d;
    }
    for (var e in c) {
        var b = YAHOO.mediaplayer.AnonymousUsage.YWAFieldMappings[e];
        if (!b) {
            continue;
        }
        var a = c[e];
        if ((typeof a == "undefined") || (a == null)) {
            a = "";
        }
        d[b] = a;
    }
    return d;
};
YAHOO.mediaplayer.AnonymousUsage.prototype.setYWACustomFields = function (b) {
    var c = this.getYWACustomFields(b);
    for (var a in c) {
        this.ywaTracker.setCF(a, c[a]);
    }
};
YAHOO.mediaplayer.AnonymousUsage.prototype.sendUsageInitFromIfame = function () {
    var b = document.createElement("iframe");
    b.setAttribute("id", "ptw_usage_iframe");
    b.style.display = "none";
    b.setAttribute("src", this.usageIFrameURL);
    var a = document.getElementsByTagName("body")[0];
    a.appendChild(b);
};
YAHOO.mediaplayer.AnonymousUsage.prototype.onUsageInit = function (a) {
    if (this.ywaTracker) {
        return;
    }
    this.ywaTracker = YAHOO.mediaplayer.YWA.getTracker(YAHOO.mediaplayer.YMPParams.anonymousUsageYWAId);
    if (typeof a == "undefined") {
        a = {};
    }
    a["ENTITIES_NUM"] = this.controller.playlistmanager.playlistArray.length;
    a["INJECTED_BY"] = (typeof YAHOO.mediaplayer.YMPParams["injected-by"] == "undefined") ? "publisher" : YAHOO.mediaplayer.YMPParams["injected-by"];
    this.setYWACustomFields(a);
    this.ywaTracker.submit();
    if (YAHOO.mediaplayer.YMPParams.disableAnonymousUsageIframe == false) {
        this.sendUsageInitFromIfame();
    }
};
YAHOO.mediaplayer.AnonymousUsage.prototype.onUsageAction = function (a) {
    if (!this.ywaTracker || !a) {
        return;
    }
    var b = YAHOO.mediaplayer.AnonymousUsage.YWAActionMappings[a[0]];
    if (!b) {
        return;
    }
    this.ywaTracker.setAction(b);
    var d = a[2];
    if (typeof d == "undefined") {
        d = {};
    }
    var c = a[1];
    if (c) {
        d["ENTITY_LINK"] = (c.anchor && c.anchor.href) ? c.anchor.href : "unknown";
        d["ENTITY_ID"] = c.token ? c.token : "unknown";
        d["ENTITY_TITLE"] = c.title ? c.title : "unknown";
        d["ENTITY_TYPE"] = c.bIsVideo ? "VIDEO" : "AUDIO";
    }
    this.setYWACustomFields(d);
    this.ywaTracker.submit_action();
};
YAHOO.ympyui.util.Dom.setStyles = function (c, b) {
    for (var a in b) {
        YAHOO.ympyui.util.Dom.setStyle(c, a, b[a]);
    }
};
YAHOO.namespace("YAHOO.mediaplayer");
YAHOO.mediaplayer.TrackSeek = function (a) {
    try {
        var c = ["onPlayStateChange", "onMediaProgress", "onPlayRequest", "onPreviousRequest", "onNextRequest"];
        YAHOO.mediaplayer.TrackSeek.superclass.constructor.call(this, a, c);
        this.EventManager.addEvents(["onPlayRequest", "onPauseRequest"]);
        this.initController(a);
        this.controller = this.getController();
        this.seekControlX = 0;
        this.track = null;
        this.elapsed = 0;
        this.duration = 0;
        this.paused = true;
        this.dragging = false;
        this.position = 0;
        this.clickListeners = false;
        this.init();
    } catch (b) {}
};
YAHOO.ympyui.lang.extend(YAHOO.mediaplayer.TrackSeek, YAHOO.mediaplayer.BaseObject);
YAHOO.mediaplayer.TrackSeek.prototype.refByName = "trackseek";
YAHOO.mediaplayer.TrackSeek.prototype.toString = function () {
    return "YAHOO.mediaplayer.Controller." + this.refByName;
};
YAHOO.mediaplayer.TrackSeek.prototype.ui = {
    width: function () {
        return parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-seek", "width"));
    },
    left: function () {
        return Math.round(parseInt(YAHOO.ympyui.util.Dom.getStyle("ymp-seek-thumb", "width")) / 2);
    },
    right: function () {
        return this.width() - this.left();
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.init = function () {
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek", "display", "none");
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek-loading", "display", "none");
    this.onPositionChange(1);
    YAHOO.ympyui.util.Event.addListener(["ymp-next", "ymp-prev"], "click", function () {
        this.onPositionChange(1);
    }, this, true);
};
YAHOO.mediaplayer.TrackSeek.prototype.stopEvent = function (a) {
    YAHOO.ympyui.util.Event.stopEvent(a);
};
YAHOO.mediaplayer.TrackSeek.prototype.seekStartDrag = function (a) {
    if (this.paused) {
        return;
    } else {
        if (this.track && this.track.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.rhapsody) {
            return;
        }
    }
    this.stopEvent(a);
    this.dragging = true;
    this.seekControlX = YAHOO.ympyui.util.Dom.getX("ymp-seek");
    this.notifySeekChange(a);
    YAHOO.ympyui.util.Event.on(document, "mousemove", this.notifySeekChange, this, true);
    YAHOO.ympyui.util.Event.on(document, "mouseup", this.seekMouseUp, this, true);
};
YAHOO.mediaplayer.TrackSeek.prototype.seekMouseUp = function (a) {
    this.dragging = false;
    this.stopEvent(a);
    this.elapsed = this.duration - (this.position * this.duration);
    YAHOO.ympyui.util.Event.removeListener(document, "mousemove", this.notifySeekChange);
    YAHOO.ympyui.util.Event.removeListener(document, "mouseup", this.seekMouseUp);
    if (this.paused) {
        this.EventManager.onPauseRequest.fire();
        return;
    } else {
        this.EventManager.onPlayRequest.fire({
            media: this.track,
            seek: this.elapsed,
            "TRIGGER_TYPE": "SEEK"
        });
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.notifySeekChange = function (a) {
    this.stopEvent(a);
    var c = YAHOO.ympyui.util.Event.getPageX(a);
    var b = (c - this.seekControlX);
    b -= 0;
    var d;
    if ((b >= this.ui.left()) && (b < this.ui.right())) {
        d = b - this.ui.left();
    } else {
        if (b >= this.ui.right()) {
            d = this.ui.right() - this.ui.left();
        } else {
            if (b < this.ui.left()) {
                d = 0;
            }
        }
    }
    this.position = 1 - (d / (this.ui.right() - this.ui.left()));
    this.onPositionChange(this.position);
};
YAHOO.mediaplayer.TrackSeek.prototype.onPlayStateChange = function (a) {
    var b = a.media;
    if (a && a.media && (a.media.mimeType === YAHOO.mediaplayer.Parser.MimeTypes.rhapsody)) {
        YAHOO.ympyui.util.Dom.removeClass("ymp-seek-thumb", "active");
        YAHOO.ympyui.util.Dom.addClass("ymp-seek-thumb", "inactive");
    } else {
        YAHOO.ympyui.util.Dom.removeClass("ymp-seek-thumb", "inactive");
        YAHOO.ympyui.util.Dom.addClass("ymp-seek-thumb", "active");
    }
    switch (a.newState) {
    case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:
        this.onTrackStart({
            mediaObject: b
        });
        break;
    case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:
        break;
    case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:
    case YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED:
        this.onPositionChange(1);
        YAHOO.ympyui.util.Dom.setStyle("ymp-seek", "display", "none");
        YAHOO.ympyui.util.Dom.setStyle("ymp-seek-loading", "display", "none");
        break;
    default:
        break;
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.seekLoading = function (a) {
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek", "display", "none");
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek-loading", "display", "block");
};
YAHOO.mediaplayer.TrackSeek.prototype.onPlayRequest = function (a) {
    if (this.track != a.media) {
        this.seekLoading(a);
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.onTrackChangeReq = function (a) {
    if (this.controller.mediaengine.currentPlayState === YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED || this.controller.mediaengine.currentPlayState === YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-seek", "display", "none");
        YAHOO.ympyui.util.Dom.setStyle("ymp-seek-loading", "display", "none");
    } else {
        this.seekLoading(a);
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.onPreviousRequest = YAHOO.mediaplayer.TrackSeek.prototype.onTrackChangeReq;
YAHOO.mediaplayer.TrackSeek.prototype.onNextRequest = YAHOO.mediaplayer.TrackSeek.prototype.onTrackChangeReq;
YAHOO.mediaplayer.TrackSeek.prototype.onTrackStart = function (a) {
    this.paused = false;
    this.track = a.mediaObject;
};
YAHOO.mediaplayer.TrackSeek.prototype.onMediaProgress = function (d) {
    this.elapsed = d.elapsed;
    this.duration = d.duration || 0;
    if (!this.dragging && (this.duration != 0)) {
        YAHOO.ympyui.util.Dom.setStyle("ymp-seek-loading", "display", "none");
        YAHOO.ympyui.util.Dom.setStyle("ymp-seek", "display", "block");
        this.addListeners();
        var c;
        var b = Math.ceil((Math.ceil(this.elapsed) * this.ui.right() - this.ui.left()) / Math.ceil(this.duration));
        b -= 0;
        if ((b >= this.ui.left()) && (b < this.ui.right())) {
            c = b - this.ui.left();
        } else {
            if (b >= this.ui.right()) {
                c = this.ui.right() - this.ui.left();
            } else {
                if (b < this.ui.left()) {
                    c = 0;
                }
            }
        }
        var a = 1 - (c / (this.ui.right() - this.ui.left()));
        this.onPositionChange(a);
    } else {
        if (this.duration == 0) {
            this.removeListeners();
        }
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.onTrackPaused = function (a) {
    this.paused = true;
};
YAHOO.mediaplayer.TrackSeek.prototype.onPositionChange = function (a) {
    var b = (1 - a) * (this.ui.right() - this.ui.left());
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek-thumb", "left", (parseInt(b) + 3) + "px");
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek-cover-elapsed", "visibility", "visible");
    YAHOO.ympyui.util.Dom.setStyle("ymp-seek-cover-elapsed", "left", -((this.ui.right() - this.ui.left()) - b + 1) + "px");
};
YAHOO.mediaplayer.TrackSeek.prototype.addListeners = function () {
    if (this.clickListeners === false) {
        YAHOO.ympyui.util.Event.on("ymp-seek", "mousedown", this.seekStartDrag, this, true);
        YAHOO.ympyui.util.Event.on("ymp-seek", "click", this.stopEvent);
        this.clickListeners = true;
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.removeListeners = function () {
    if (this.clickListeners === true) {
        YAHOO.ympyui.util.Event.removeListener("ymp-seek", "mousedown", this.seekStartDrag);
        YAHOO.ympyui.util.Event.removeListener("ymp-seek", "click", this.stopEvent);
        this.clickListeners = false;
    }
};
YAHOO.mediaplayer.TrackSeek.prototype.getCurrentSeek = function () {
    return this.elapsed;
};
YAHOO.mediaplayer.Controller = new YAHOO.mediaplayer.Controller();
YAHOO.mediaplayer.Controller.init();